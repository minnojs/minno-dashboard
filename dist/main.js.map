{"version":3,"file":null,"sources":["../src/utils/polyfills.js","../src/utils/modelHelpers.js","../src/modelUrls.js","../src/study/statistics/statisticsModel.js","../src/utils/dateRange.js","../src/utils/forms/inputWrapper.js","../src/utils/forms/textInput.js","../src/utils/forms/maybeInput.js","../src/utils/forms/checkboxInput.js","../src/utils/forms/selectInput.js","../src/utils/transformProp.js","../src/utils/forms/arrayInput.js","../src/utils/forms/radioInput.js","../src/utils/formHelpers.js","../src/study/statistics/statisticsFormComponent.js","../src/utils/sortTable.js","../src/utils/formatDate.js","../src/study/statistics/statisticsTableComponent.js","../src/study/statistics/instructions.js","../src/study/statistics/statisticsComponent.js","../src/study/statistics_old/statisticsModel.js","../src/study/statistics_old/statisticsFormComponent.js","../src/study/statistics_old/statisticsTableComponent.js","../src/study/statistics_old/instructions.js","../src/study/statistics_old/statisticsComponent.js","../src/pool/poolModel.js","../src/utils/messagesComponent.js","../src/utils/spinnerComponent.js","../src/utils/classNames.js","../src/pool/poolEditComponent.js","../src/pool/poolCreateComponent.js","../src/pool/poolActions.js","../src/login/authModel.js","../src/pool/poolComponent.js","../src/pool/historyComponent.js","../src/downloads/downloadsModel.js","../src/downloads/downloadsCreate.js","../src/downloads/downloadsActions.js","../src/downloads/downloadsComponent.js","../src/downloadsAccess/downloadsAccessModel.js","../src/downloadsAccess/downloadsAccessCreateComponent.js","../src/downloadsAccess/downloadsAccessGrantComponent.js","../src/downloadsAccess/downloadsAccessRevokeComponent.js","../src/downloadsAccess/downloadsAccessActions.js","../src/downloadsAccess/downloadsAccessComponent.js","../src/utils/fullHeight.js","../src/login/loginComponent.js","../src/study/files/editors/jshintOptions.js","../src/study/files/fileModel.js","../src/study/files/fileCollectionModel.js","../src/study/files/editors/imgEditor.js","../src/study/files/editors/pdfEditor.js","../src/study/files/editors/unknownEditor.js","../src/utils/downloadUrl.js","../src/study/files/sidebar/moveFileComponent.js","../src/study/studyModel.js","../src/study/files/sidebar/copyFileComponent.js","../src/study/files/sidebar/fileActions.js","../src/study/files/editors/ace/aceComponent.js","../src/utils/observer.js","../src/study/files/editors/ace/syntaxComponent.js","../src/study/files/editors/ace/parser/messages.js","../src/study/files/editors/ace/parser/parser.js","../src/study/files/editors/ace/parser/pipValidator.js","../src/study/files/editors/ace/parser/questValidator.js","../src/study/files/editors/ace/parser/managerValidator.js","../src/study/files/editors/ace/parser/validator.js","../src/study/files/editors/ace/validatorComponent.js","../src/utils/copyUrl.js","../src/utils/prettyPrint.js","../src/study/files/editors/snippets/inheritInput.js","../src/study/files/editors/snippets/task.js","../src/study/files/editors/snippets/page.js","../src/study/files/editors/snippets/quest.js","../src/study/files/editors/snippetActions.js","../src/study/files/editors/textMenu.js","../src/study/files/editors/textEditor.js","../src/study/files/editorComponent.js","../src/study/files/wizards/ratingWizard.js","../src/study/files/wizardComponent.js","../src/utils/contextMenuComponent.js","../src/study/files/sidebar/wizardActions.js","../src/study/files/sidebar/wizardHash.js","../src/study/files/sidebar/fileContext.js","../src/utils/uploader.js","../src/study/files/sidebar/nodeComponent.js","../src/study/files/sidebar/folderComponent.js","../src/study/files/sidebar/fileListComponent.js","../src/utils/dropdown.js","../src/study/templates/studyTemplatesComponent.js","../src/tags/tagsModel.js","../src/tags/studyTagsComponent.js","../src/downloads/dataComp.js","../src/study/sharing/sharingModel.js","../src/study/studyActions.js","../src/study/studyMenu.js","../src/study/files/sidebar/sidebarButtons.js","../src/study/files/sidebar/sidebarComponent.js","../src/utils/splitPane.js","../src/study/files/filesComponent.js","../src/study/files/viewFileCollectionModel.js","../src/study/files/viewFilesComponent.js","../src/study/studiesComponent.js","../src/deploy/forms/deployList/deployListModel.js","../src/deploy/forms/deployList/deployListComponent.js","../src/deploy/forms/changeRequestList/changeRequestListModel.js","../src/deploy/forms/changeRequestList/changeRequestListComponent.js","../src/deploy/forms/removalList/removalListModel.js","../src/deploy/forms/removalList/removalListComponent.js","../src/deploy/deployModel.js","../src/deploy/rulesComponent.js","../src/deploy/deployComponent.js","../src/deploy/studyRemovalComponent.js","../src/deploy/studyChangeRequestComponent.js","../src/addUser/addUserModel.js","../src/addUser/addUserComponent.js","../src/users/usersModel.js","../src/users/usersComponent.js","../src/settings/settingsModel.js","../src/settings/changeEmailView.js","../src/settings/changePasswordView.js","../src/settings/settingsActions.js","../src/settings/connect2dropboxView.js","../src/settings/templateStudiesView.js","../src/settings/settingsMenu.js","../src/settings/settingsComponent.js","../src/massMail/massMailModel.js","../src/massMail/massMailComponent.js","../src/activation/activationModel.js","../src/activation/activationComponent.js","../src/collaboration/collaborationModel.js","../src/collaboration/collaborationComponent.js","../src/settings/resetPasswordComponent.js","../src/recovery/recoveryModel.js","../src/recovery/recoveryComponent.js","../src/study/sharing/sharingComponent.js","../src/tags/tagsActions.js","../src/tags/tagsComponent.js","../src/study/templates/translateModel.js","../src/utils/textareaAutoresize.js","../src/study/templates/pagesComponent.js","../src/routes.js","../src/layoutWrapper.js","../src/main.js"],"sourcesContent":["/**\n * Object.assign polyfill from https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Polyfill\n **/\nif (typeof Object.assign != 'function') {\n    Object.assign = function (target, varArgs) { // eslint-disable-line no-unused-vars\n        'use strict';\n        if (target == null) { // TypeError if undefined or null\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var to = Object(target);\n\n        for (var index = 1; index < arguments.length; index++) {\n            var nextSource = arguments[index];\n\n            if (nextSource != null) { // Skip over if undefined or null\n                for (var nextKey in nextSource) {\n                    // Avoid bugs when hasOwnProperty is shadowed\n                    if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                        to[nextKey] = nextSource[nextKey];\n                    }\n                }\n            }\n        }\n        return to;\n    };\n}\n\nif (!Array.prototype.find) {\n    Object.defineProperty(Array.prototype, 'find', {\n        value: function(predicate) {\n            'use strict';\n            if (this == null) {\n                throw new TypeError('Array.prototype.find called on null or undefined');\n            }\n            if (typeof predicate !== 'function') {\n                throw new TypeError('predicate must be a function');\n            }\n            var list = Object(this);\n            var length = list.length >>> 0;\n            var thisArg = arguments[1];\n            var value;\n\n            for (var i = 0; i < length; i++) {\n                value = list[i];\n                if (predicate.call(thisArg, value, i, list)) {\n                    return value;\n                }\n            }\n            return undefined;\n        }\n    });\n}\n\nif (!Array.prototype.includes) {\n    Array.prototype.includes = function(searchElement /*, fromIndex*/) {\n        'use strict';\n        if (this == null) {\n            throw new TypeError('Array.prototype.includes called on null or undefined');\n        }\n\n        var O = Object(this);\n        var len = parseInt(O.length, 10) || 0;\n        if (len === 0) {\n            return false;\n        }\n        var n = parseInt(arguments[1], 10) || 0;\n        var k;\n        if (n >= 0) {\n            k = n;\n        } else {\n            k = len + n;\n            if (k < 0) {k = 0;}\n        }\n        var currentElement;\n        while (k < len) {\n            currentElement = O[k];\n            if (searchElement === currentElement || (searchElement !== searchElement && currentElement !== currentElement)) { // NaN !== NaN\n                return true;\n            }\n            k++;\n        }\n        return false;\n    };\n}\nif (!String.prototype.includes) {\n    String.prototype.includes = function(search, start) {\n        'use strict';\n        if (typeof start !== 'number') {\n            start = 0;\n        }\n\n        if (start + search.length > this.length) {\n            return false;\n        } else {\n            return this.indexOf(search, start) !== -1;\n        }\n    };\n}\n","export let checkStatus = response => {\n\n    if (response.status >= 200 && response.status < 300) {\n        return response;\n    }\n\n    let error = new Error(response.statusText);\n\n    error.response = response;\n\n    throw error;\n};\n\nexport let checkFullStatus = response => {\n    if (response.status >= 200 && response.status < 300) {\n        return response;\n    }\n    throw response;\n};\n\nexport let toJSON = response => response\n    .json()\n    .catch( );\n\n// extract info from status error\nexport let catchJSON = err => (err.response ? err.response.json() : Promise.reject())\n    .catch(() => Promise.reject(err))\n    .then(json => Promise.reject(json));\n\n\nexport function fetchVoid(url, options = {}){\n    let opts = Object.assign({\n        credentials: 'include',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        }\n    }, options);\n\n    opts.body = JSON.stringify(options.body);\n    return fetch(url, opts)\n        .then(checkStatus)\n        .catch(catchJSON);\n}\n\nexport function fetchFullJson(url, options = {}){\n    let opts = Object.assign({\n        credentials: 'same-origin',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        }\n    }, options);\n\n    opts.body = JSON.stringify(options.body);\n    return fetch(url, opts)\n        .then(checkFullStatus)\n        .then(toJSON)\n        .catch();\n}\n\nexport function fetchJson(url, options){\n    return fetchVoid(url, options)\n        .then(toJSON);\n}\n\nexport function fetchText(url, options){\n    return fetchVoid(url, options)\n        .then(response => response.text());\n}\n\nexport function fetchUpload(url, options){\n    const opts = Object.assign({\n        credentials: 'same-origin'\n    }, options);\n\n    return fetch(url, opts)\n        .then(checkStatus)\n        .then(toJSON)\n        .catch(catchJSON);\n}\n","/**/\n// const urlPrefix = 'http://app-prod-03.implicit.harvard.edu/openserver'; // first pathname section with slashes\n\n// const urlPrefix = window.location.origin; // first pathname section with slashes\n\nconst urlPrefix = '..';//location.pathname.match(/^(?=\\/)(.+?\\/|$)/)[1]; // first pathname section with slashes\n\n\n// console.log(location.href);\nexport const baseUrl            = `${urlPrefix}`;\nexport const studyUrl           = `${urlPrefix}/studies`;\nexport const launchUrl          = `${urlPrefix}/launch`;\nexport const templatesUrl       = `${urlPrefix}/templates`;\nexport const tagsUrl            = `${urlPrefix}/tags`;\nexport const translateUrl       = `${urlPrefix}/translate`;\nexport const poolUrl            = `${urlPrefix}/StudyData`;\nexport const statisticsUrl      = `${urlPrefix}/PITracking`;\nexport const downloadsUrl       = `${urlPrefix}/DashboardData`;\nexport const activationUrl      = `${urlPrefix}/activation`;\nexport const collaborationUrl   = `${urlPrefix}/collaboration`;\nexport const downloadsAccessUrl = `${urlPrefix}/DownloadsAccess`;\n","import {fetchJson} from 'utils/modelHelpers';\nimport {statisticsUrl as STATISTICS_URL} from 'modelUrls';\n\nexport let getStatistics = query => {\n    return fetchJson(STATISTICS_URL, {method:'post', body: parseQuery(query)})\n        .then(response => {\n            return response;\n        });\n\n    /**\n     * Parses the query as we build it locally and creates an appropriate post for the server\n     **/\n    function parseQuery({source, study, sortstudy, sorttask, sorttime, startDate, endDate, firstTask, lastTask}){\n        let post = {\n            schema: source().match(/^(.*?):/)[1], // before colon\n            studyId: study(),\n            startDate: parseDate(startDate()),\n            endDate: parseDate(endDate()),\n            startTask: firstTask(),\n            sorttask: sorttask(),\n            sortstudy: sortstudy(),\n            endTask: lastTask(),\n            timeframe: sorttime()==='None' ? 'All' : sorttime(),\n            extended:sorttask()\n        };\n        return post;\n\n        function parseDate(date){\n            if (!date) return;\n            return `${date.getMonth()+1}/${date.getDate()}/${date.getYear() + 1900}`;\n        }\n    } \n};\n\n\n/* eslint-disable */\n\n// ref: http://stackoverflow.com/a/1293163/2343\n// This will parse a delimited string into an array of\n// arrays. The default delimiter is the comma, but this\n// can be overriden in the second argument.\nfunction CSVToArray( strData, strDelimiter ){\n    // Check to see if the delimiter is defined. If not,\n    // then default to comma.\n    strDelimiter = (strDelimiter || \",\");\n\n    // Create a regular expression to parse the CSV values.\n    var objPattern = new RegExp(\n        (\n            // Delimiters.\n            \"(\\\\\" + strDelimiter + \"|\\\\r?\\\\n|\\\\r|^)\" +\n\n            // Quoted fields.\n            \"(?:\\\"([^\\\"]*(?:\\\"\\\"[^\\\"]*)*)\\\"|\" +\n\n            // Standard fields.\n            \"([^\\\"\\\\\" + strDelimiter + \"\\\\r\\\\n]*))\"\n        ),\n        \"gi\"\n        );\n\n\n    // Create an array to hold our data. Give the array\n    // a default empty first row.\n    var arrData = [[]];\n\n    // Create an array to hold our individual pattern\n    // matching groups.\n    var arrMatches = null;\n\n\n    // Keep looping over the regular expression matches\n    // until we can no longer find a match.\n    while (arrMatches = objPattern.exec( strData )){\n\n        // Get the delimiter that was found.\n        var strMatchedDelimiter = arrMatches[ 1 ];\n\n        // Check to see if the given delimiter has a length\n        // (is not the start of string) and if it matches\n        // field delimiter. If id does not, then we know\n        // that this delimiter is a row delimiter.\n        if (\n            strMatchedDelimiter.length &&\n            strMatchedDelimiter !== strDelimiter\n            ){\n\n            // Since we have reached a new row of data,\n            // add an empty row to our data array.\n            arrData.push( [] );\n\n        }\n\n        var strMatchedValue;\n\n        // Now that we have our delimiter out of the way,\n        // let's check to see which kind of value we\n        // captured (quoted or unquoted).\n        if (arrMatches[ 2 ]){\n\n            // We found a quoted value. When we capture\n            // this value, unescape any double quotes.\n            strMatchedValue = arrMatches[ 2 ].replace(\n                new RegExp( \"\\\"\\\"\", \"g\" ),\n                \"\\\"\"\n                );\n\n        } else {\n\n            // We found a non-quoted value.\n            strMatchedValue = arrMatches[ 3 ];\n\n        }\n\n\n        // Now that we have our value string, let's add\n        // it to the data array.\n        arrData[ arrData.length - 1 ].push( strMatchedValue );\n    }\n\n    // Return the parsed data.\n    return( arrData );\n}\n/* eslint-enable */\n","// import $ from 'jquery';\nlet Pikaday = window.Pikaday;\n\nexport let datePicker = (prop, options) => m.component(pikaday, {prop,options});\nexport let dateRangePicker = args => m.component(pikadayRange, args);\n\nlet pikaday = {\n    view(ctrl, {prop, options}){\n        return m('div', {config: pikaday.config(prop, options)});\n    },\n    config(prop, options){\n        return (element, isInitialized, ctx) => {\n            if (!isInitialized){\n                ctx.picker = new Pikaday(Object.assign({\n                    onSelect: prop,\n                    container: element\n                },options));\n\n                element.appendChild(ctx.picker.el);\n            }\n\n            ctx.picker.setDate(prop());\n        };\n    }\n};\n\n/**\n * args = {\n *  startValue: m.prop,\n *  endValue: m.prop,\n *  options: Object // specific daterange plugin options\n * }\n */\n\nlet pikadayRange = {\n    view: function(ctrl, args){\n        return m('.row.form-group.date-range', {config: pikadayRange.config(args)}, [\n            m('.col-sm-6', [\n                m('label','Start Date'),\n                m('label.input-group',[\n                    m('.input-group-addon', m('i.fa.fa-fw.fa-calendar')),\n                    m('input.form-control')\n                ])\n            ]),\n            m('.col-sm-6', [\n                m('label','End Date'),\n                m('label.input-group',[\n                    m('.input-group-addon', m('i.fa.fa-fw.fa-calendar')),\n                    m('input.form-control')\n                ])\n            ])\n        ]);\n    },\n    config({startDate, endDate}){\n        return (element, isInitialized, ctx) => {\n            let startPicker = ctx.startPicker;\n            let endPicker = ctx.endPicker;\n\n            if (!isInitialized) setup();\n\n            // external date change\n            if (!areDatesEqual(startDate, startPicker) || !areDatesEqual(endDate, endPicker)) update(); \n\n            function setup(){\n                let startElement = element.children[0].children[1].children[1];\n                startPicker = ctx.startPicker = new Pikaday({\n                    onSelect: onSelect(startDate),\n                    field: startElement \n                });\n                startElement.addEventListener('keyup', onKeydown(startPicker));\n                \n                let endElement = element.children[1].children[1].children[1];\n                endPicker = ctx.endPicker = new Pikaday({\n                    onSelect: onSelect(endDate),\n                    field: endElement\n                });\n                endElement.addEventListener('keyup', onKeydown(endPicker));\n\n                startPicker.setDate(startDate());\n                endPicker.setDate(endDate());\n\n                ctx.onunload = () => {\n                    startPicker.destroy();\n                    endPicker.destroy();\n                };\n            }\n\n            function onKeydown(picker){\n                return e => {\n                    if (e.keyCode === 13 && picker.isVisible()) e.stopPropagation();\n                    if (e.keyCode === 27 && picker.isVisible()) {\n                        e.stopPropagation();\n                        picker.hide();\n                    }\n                };\n            }\n\n            function onSelect(prop){\n                return date => {\n                    prop(date); // update start/end\n\n                    update();\n                    m.redraw();\n                };\n            }\n\n            function update(){\n                startPicker.setDate(startDate(),true);\n                endPicker.setDate(endDate(),true);\n\n                startPicker.setStartRange(startDate());\n                startPicker.setEndRange(endDate());\n                endPicker.setStartRange(startDate());\n                endPicker.setEndRange(endDate());\n                startPicker.setMaxDate(endDate());\n                endPicker.setMinDate(startDate());\n            }\n\n            function areDatesEqual(prop, picker){\n                return prop().getTime() === picker.getDate().getTime();\n            }\n        };\n    }\n};\n","export default inputWrapper;\nlet inputWrapper = (view) => (ctrl, args) => {\n    let isValid = !ctrl.validity || ctrl.validity();\n    let groupClass;\n    let inputClass;\n    let form = args.form;\n    let colWidth = args.colWidth || 2;\n\n    if (!form) throw new Error('Inputs require a form');\n        \n    if (form.showValidation()){\n        groupClass = isValid ? 'has-success' : 'has-danger';\n        inputClass = isValid ? 'form-control-success' : 'form-control-error';\n    }\n\n    return m('.form-group.row', {class: groupClass}, [\n        args.isStack\n        ? [ \n            m('.col-sm-12', [\n                args.label != null ? m('label', {class: 'strong'}, args.label) : '',\n                view(ctrl, args, {groupClass, inputClass}),\n                args.help && m('small.text-muted.m-y-0', args.help )\n            ])\n        ]\n        : [\n            m(`.col-sm-${colWidth}`, [\n                m('label.form-control-label', args.label)\n            ]),\n            m(`.col-sm-${12 - colWidth}`, [\n                view(ctrl, args, {groupClass, inputClass})\n            ]),\n            args.help && m('small.text-muted.col-sm-offset-2.col-sm-10.m-y-0', args.help )\n        ]\n    ]);\n};\n","import inputWrapper from './inputWrapper';\nexport default textInputComponent;\n\nlet textInputComponent  = {\n    controller({prop, form, required = false}) {\n        let validity = () => !required || prop().length;\n        form.register(validity);\n\n        return {validity};\n    },\n\n    view: inputWrapper((ctrl, {prop, isArea = false, isFirst = false, placeholder = '', help, rows = 3}, {inputClass}) => {\n        return !isArea\n            ? m('input.form-control', {\n                class: inputClass,\n                placeholder: placeholder,\n                value: prop(),\n                oninput: m.withAttr('value', prop),\n                config: (element, isInit) => isFirst && isInit && element.focus()\n            })\n            : m('textarea.form-control', {\n                class: inputClass,\n                placeholder: placeholder,\n                oninput: m.withAttr('value', prop),\n                rows,\n                config: (element, isInit) => isFirst && isInit && element.focus()\n            } , [prop()]);\n    })\n};\n","import inputWrapper from './inputWrapper';\nexport default maybeInputComponent;\n\nlet  maybeInputComponent = {\n    controller({prop, form, required, dflt}){\n        if (!form) throw new Error('Inputs require a form');\n\n        let text = m.prop(typeof prop() == 'boolean' ? dflt || '' : prop());\n        let checked = m.prop(!!prop()); \n        let validity = () => !required || prop();\n        form.register(validity);\n\n        return {validity, showValidation: form.showValidation,\n            text: function(value){\n                if (arguments.length){\n                    text(value);\n                    prop(value || true);\n                }\n                return text();\n            },\n            checked: function(value){\n                if (arguments.length) {\n                    checked(value);\n                    if (checked() && text()) prop(text());\n                    else prop(checked());\n                }\n                return checked();\n            }   \n        };\n    },\n    view: inputWrapper(({text, checked}, args) => {\n        let placeholder = args.placeholder || '';\n        return m('.input-group', [\n            m('span.input-group-addon', [\n                m('input', {\n                    type:'checkbox',\n                    onclick: m.withAttr('checked', checked),\n                    checked: checked()\n                })\n            ]),\n            m('input.form-control', {\n                placeholder: placeholder,\n                value: text(),\n                oninput: m.withAttr('value', text),\n                disabled: !checked()\n            })\n        ]);\n    })\n};\n","import inputWrapper from './inputWrapper';\nexport default checkboxInputComponent;\n\nlet  checkboxInputComponent = {\n    controller({prop, form, required}){\n        let validity = () => !required || prop();\n        form.register(validity);\n\n        return {validity, showValidation: form.showValidation};\n    },\n    view: inputWrapper((ctrl, {prop, description = ''}, {groupClass, inputClass}) => {\n        return m('.checkbox.checkbox-input-group', {class: groupClass}, [\n            m('label.c-input.c-checkbox', {class: inputClass}, [\n                m('input.form-control', {\n                    type: 'checkbox',\n                    onclick: m.withAttr('checked', prop),\n                    checked: prop()\n                }),\n                m('span.c-indicator'),\n                m.trust('&nbsp;'),\n                description\n            ])\n        ]);\n    })\n};\n","import inputWrapper from './inputWrapper';\nexport default selectInputComponent;\n\nlet selectInputComponent = {\n    controller({prop, form, required}){\n        if (!form) throw new Error('Inputs require a form');\n\n        let validity = () => !required || prop();\n        form.register(validity);\n\n        return {validity, showValidation: form.showValidation};\n    },\n    view: inputWrapper((ctrl, {prop, isFirst = false, values = {}}, {inputClass}) => {\n        const value = prop();\n        return m('.input-group', [\n            m('select.c-select.form-control', {\n                class: inputClass, \n                onchange: e => prop(values[e.target.value]),\n                config: (element, isInit) => isFirst && isInit && element.focus()\n            }, Object.keys(values).map(key => m('option', {selected:value === values[key]}, key)))\n        ]);\n    })\n};\n\n","export default transformProp;\n\n/**\n * TransformedProp transformProp(Prop prop, Map input, Map output)\n * \n * where:\n *  Prop :: m.prop\n *  Map  :: any Function(any)\n *\n *  Creates a Transformed prop that pipes the prop through transformation functions.\n **/\nlet transformProp = ({prop, input, output}) => {\n    let p = (...args) => {\n        if (args.length) prop(input(args[0]));\n        return output(prop());\n    };\n\n    p.toJSON = () => output(prop());\n\n    return p;\n};\n","import textInputComponent from './textInput';\nimport transformProp from 'utils/transformProp';\nexport default arrayInput;\n\nlet arrayInput = args => {\n    let identity = arg => arg;\n    let fixedArgs = Object.assign(args);\n    fixedArgs.prop = transformProp({\n        prop: args.prop,\n        output: arr => arr.map(args.fromArr || identity).join('\\n'),\n        input: str => str === '' ? [] : str.replace(/\\n*$/, '').split('\\n').map(args.toArr || identity)\n    });\n\n    return m.component(textInputComponent, fixedArgs);\n};\n\n","import inputWrapper from './inputWrapper';\nexport default selectInputComponent;\n\nlet selectInputComponent = {\n    controller({prop, form, required}){\n        if (!form) throw new Error('Inputs require a form');\n\n        let validity = () => !required || prop();\n        form.register(validity);\n\n        return {validity, showValidation: form.showValidation};\n    },\n    view: inputWrapper((ctrl, {prop, values = {}}) => {\n        const keys = Object.keys(values);\n        if (keys.length === 1)\n            prop(values[keys[0]]);\n        return m('.c-inputs-stacked', keys\n            .map(key => m('label.c-input.c-radio', [\n                m('input', {type:'radio', checked: values[key] === prop(), onchange: prop.bind(null, values[key])}),\n                m('span.c-indicator'),\n                key\n            ])));\n    })\n};\n\n","import textInputComponent from './forms/textInput';\nimport maybeInputComponent from './forms/maybeInput';\nimport checkboxInputComponent from './forms/checkboxInput';\nimport selectInputComponent from './forms/selectInput';\nimport arrayInputSrc from './forms/arrayInput';\nimport radioInputComponent from './forms/radioInput';\n\nexport function formFactory(){\n    let validationHash = [];\n    return {\n        register(fn){\n            validationHash.push(fn);\n        },\n        isValid() {\n            return validationHash.every(fn => fn.call());\n        },\n        showValidation: m.prop(false)\n    };\n}\n\nexport let textInput = args => m.component(textInputComponent, args);\nexport let maybeInput = args => m.component(maybeInputComponent, args);\nexport let checkboxInput = args => m.component(checkboxInputComponent, args);\nexport let selectInput = args => m.component(selectInputComponent, args);\nexport let radioInput = args => m.component(radioInputComponent, args);\nexport let arrayInput = arrayInputSrc;\n","import {dateRangePicker} from 'utils/dateRange';\nimport {formFactory, textInput, selectInput} from 'utils/formHelpers';\nexport default statisticsForm;\n\nlet statisticsForm = args => m.component(statisticsFormComponent, args);\nconst colWidth = 3;\nconst SOURCES = {\n    'Research pool - Current studies'   : 'Pool:Current',\n//    'Research pool - Past studies'      : 'Research:History',\n    'All research - Pool and lab'       : 'Research:Any',\n    'Demo studies'                      : 'Demo:Any',\n    'All studies'                       : 'Both:Any'\n};\n\nlet statisticsFormComponent = {\n    controller(){\n        let form = formFactory();\n\n        return {form};\n    },\n    view({form}, {query}){\n        return m('.col-sm-12', [\n            selectInput({label: 'Source', prop: query.source, values: SOURCES, form, colWidth}),\n            textInput({label:'Study', prop: query.study , form, colWidth}),\n            m('div', {style: 'padding: .375rem'},\n                [\n                    dateRangePicker({startDate:query.startDate, endDate: query.endDate})\n                    ,m('small.text-muted',  'The data for the study statistics by day is saved in 24 hour increments by date in USA eastern time (EST).')\n                ]\n            ),\n\n            m('.form-group.row', [\n                m('.col-sm-3', [\n                    m('label.form-control-label', 'Show by')\n                ]),\n                m('.col-sm-9.pull-right', [\n                    m('.btn-group.btn-group-sm', [\n                        button(query.sortstudy, 'Study'),\n                        button(query.sorttask, 'Task'),\n                        m('a.btn.btn-secondary.statistics-time-button', {class: query.sorttime() !== 'All' ? 'active' : ''}, [\n                            'Time',\n                            m('.time-card', [\n                                m('.card', [\n                                    m('.card-header', 'Time filter'),\n                                    m('.card-block.c-inputs-stacked', [\n                                        radioButton(query.sorttime, 'None'),\n                                        radioButton(query.sorttime, 'Days'),\n                                        radioButton(query.sorttime, 'Weeks'),\n                                        radioButton(query.sorttime, 'Months'),\n                                        radioButton(query.sorttime, 'Years')\n                                    ])\n                                ])\n                            ])\n                        ])\n                    ]),\n                    m('.btn-group.btn-group-sm.pull-right', [\n                        button(query.showEmpty, 'Hide Empty', 'Hide Rows with Zero Started Sessions'),\n                        button(query.sortgroup, 'Show Data Group')\n\n                    ])\n                ])\n            ]),\n            m('.form-group.row', [\n                m('.col-sm-3', [\n                    m('label.form-control-label', 'Compute completions')\n                ]),\n                m('.col-sm-9', [\n                    m('.row', [\n                        m('.col-sm-5', [\n                            m('input.form-control', {placeholder: 'First task', value: query.firstTask(), onchange: m.withAttr('value', query.firstTask)})\n                        ]),\n                        m('.col-sm-1', [\n                            m('.form-control-static', 'to')\n                        ]),\n                        m('.col-sm-5', [\n                            m('input.form-control', {placeholder: 'Last task', value: query.lastTask(), onchange: m.withAttr('value', query.lastTask)})\n                        ])\n                    ])\n                ])\n            ])\n        ]);\n    \n    \n    }\n};\n\nlet button = (prop, text, title = '') => m('a.btn.btn-secondary', {\n    class: prop() ? 'active' : '',\n    onclick: () => prop(!prop()),\n    title\n}, text);\n\nlet radioButton = (prop, text) => m('label.c-input.c-radio', [\n    m('input.form-control[type=radio]', {\n        onclick: prop.bind(null, text),\n        checked: prop() == text\n    }),\n    m('span.c-indicator'),\n    text\n]);\n","export default function sortTable(listProp, sortByProp) {\n    return function(e) {\n        let prop = e.target.getAttribute('data-sort-by');\n        let list = listProp();\n        if (prop) {\n            if (typeof sortByProp == 'function') sortByProp(prop); // record property so that we can change style accordingly\n            var first = list[0];\n            list.sort(function(a, b) {\n                return a[prop] > b[prop] ? 1 : a[prop] < b[prop] ? -1 : 0;\n            });\n            if (first === list[0]) list.reverse();\n        }\n    };\n}\n","export default function formatDate(date){\n    let pad = num => num < 10 ? '0' + num : num;\n    return `${pad(date.getMonth() + 1)}\\\\${pad(date.getDate())}\\\\${date.getFullYear()}`;\n}\n","import sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\n\nexport default statisticsTable;\n\nlet statisticsTable = args => m.component(statisticsTableComponent, args);\n\nlet statisticsTableComponent = {\n    controller(){\n        return {sortBy: m.prop()};\n    },\n    view({sortBy}, {tableContent, query}){\n        if (query.error())\n            return m('.alert.alert-warning', m('strong', 'Error: '), query.error());\n        let content = tableContent();\n        if (!content) return m('div');\n        if (!content.data) return m('.col-sm-12', [\n            m('.alert.alert-info', 'There was no data found for this request')\n        ]);\n\n        let list = m.prop(content.data);\n        return m('.col-sm-12',[\n            m('table.table.table-sm', {onclick: sortTable(list, sortBy)}, [\n                m('thead', [\n                    m('tr.table-default', [\n                        th_option(sortBy, 'studyName', 'Study Name'),\n                        !query.sorttask_sent() ? '' : th_option(sortBy, 'taskName', 'Task Name'),\n                        query.sorttime_sent()==='All' ? '' : th_option(sortBy, 'date', 'Date'),\n                        th_option(sortBy, 'starts', 'Starts'),\n                        th_option(sortBy, 'completes', 'Completes'),\n                        th_option(sortBy, 'completion_rate', 'Completion Rate %'),\n                        !query.sortgroup() ? '' : th_option(sortBy, 'schema', 'Schema')\n                    ])\n                ]),\n                m('tbody', [\n                    list().map(row =>\n                        query.showEmpty() && row.starts===0\n                    ?\n                    ''\n                    :\n                    m('tr.table-default', [\n                        m('td', row.studyName),\n                        !query.sorttask_sent() ? '' : m('td', row.taskName),\n                        query.sorttime_sent()==='All' ? '' : m('td', formatDate(new Date(row.date))),\n                        m('td', row.starts),\n                        m('td', row.completes),\n                        m('td', row.completion_rate = row.starts===0 ? 0 : (row.completes/row.starts).toFixed(2)),\n                        !query.sortgroup() ? '' : m('td', row.schema)\n                    ])\n                    )\n                ])\n            ])\n        ]);\n    }\n};\n\nlet th_option = (sortBy, sortByTxt, text) => m('th', {\n    'data-sort-by':sortByTxt, class: sortBy() === sortByTxt ? 'active' : ''\n}, text);\n\n","export default statisticsInstructions;\n\nlet statisticsInstructions = () => m('.text-muted', [\n    m('p', 'Choose whether you want participation data from demo studies, research pool, all research studies (including lab studies), or all studies (demo and research).'),\n    m('p', 'Enter the study id or any part of the study id (the study name that that appears in an .expt file). Note that the study id search feature is case-sensitive. If you leave this box blank you will get data from all studies.'),\n    m('p', 'You can also use the Task box to enter a task name or part of a task name (e.g., realstart) if you only want participation data from certain tasks.'),\n    m('p', 'You can also choose how you want the data displayed, using the \"Show by\" options. If you click \"Study\", you will see data from each study that meets your search criteria. If you also check \"Task\" you will see data from any study that meets your search criteria separated by task.  The \"Data Group\" option will allow you to see whether a given study is coming from the demo or research site.  '),\n    m('p', 'You can define how completion rate is calculated by entering text to \"First task\" and \"Last task\". Only sessions that visited those tasks would be used for the calculation.'),\n    m('p', 'When you choose to show the results by date, you will see all the studies that have at least one session in the requested date range, separated by day, week, month or year. This will also show dates with zero sessions. If you want to hide rows with zero sessions, select the \"Hide empty\" option.')\n]);\n","import {getStatistics} from './statisticsModel';\nimport statisticsForm from './statisticsFormComponent';\nimport statisticsTable from './statisticsTableComponent';\nimport statisticsInstructions from './instructions';\nexport default statisticsComponent;\n\nlet statisticsComponent = {\n    controller(){\n        let displayHelp = m.prop(false);\n        let tableContent = m.prop('');\n\n        let loading = m.prop(false);\n        let query = {\n            source: m.prop('Pool:Current'),\n            startDate: m.prop(firstDayInPreviousMonth(new Date())),\n            endDate: m.prop(new Date()),\n            study: m.prop(''),\n            task: m.prop(''),\n            studyType: m.prop('Both'),\n            studydb: m.prop('Any'),\n            sortstudy: m.prop(true),\n            sorttask: m.prop(false),\n            sorttask_sent: m.prop(false),\n            sortgroup: m.prop(false),\n            sorttime: m.prop('None'),\n            sorttime_sent: m.prop('None'),\n            showEmpty: m.prop(false),\n            firstTask: m.prop(''),\n            lastTask: m.prop(''),\n            error: m.prop(''),\n            rows:m.prop([])\n        };\n\n        return {query, submit, displayHelp, tableContent,loading};\n\n        function submit(){\n            loading(true);\n            getStatistics(query)\n                .then(tableContent)\n                .catch(response => {\n                    query.error(response.message);\n                })\n                .then(loading.bind(null, false))\n                .then(query.sorttask_sent(query.sorttask()))\n                .then(query.sorttime_sent(query.sorttime()))\n                .then(m.redraw);\n        }\n\n        function firstDayInPreviousMonth(yourDate) {\n            return new Date(yourDate.getFullYear(), yourDate.getMonth() - 1, 1);\n        }\n    },\n    view: ({query, tableContent, submit, displayHelp, loading}) => m('.container.statistics', [\n        m('h3', 'Statistics'),\n        m('.row', [\n            statisticsForm({query})\n        ]),\n        m('.row', [\n            m('.col-sm-12',[\n                m('button.btn.btn-secondary.btn-sm', {onclick: ()=>displayHelp(!displayHelp())}, ['Toggle help ', m('i.fa.fa-question-circle')]),\n                m('a.btn.btn-primary.pull-right', {onclick:submit}, 'Submit'),\n                !tableContent()  ? '' : m('a.btn.btn-secondary.pull-right.m-r-1', {config:downloadFile(query.study() ? `${query.study()}.csv` : 'stats.csv', tableContent(), query)}, 'Download CSV')\n            ])\n        ]),\n        !displayHelp() ? '' : m('.row', [\n            m('.col-sm-12.p-a-2', statisticsInstructions())\n        ]),\n        m('.row.m-t-1', [\n            loading()\n                ? m('.loader')\n                : statisticsTable({tableContent, query})\n        ])\n    ])\n};\n\nlet downloadFile = (filename, text, query) => element => {\n    var json = text.data;\n    json = !query.showEmpty() ? json : json.filter(row => row.starts !== 0);\n\n    var fields = ['studyName', !query.sorttask_sent() ? '' : 'taskName', query.sorttime_sent()==='All' ? '' : 'date', 'starts', 'completes', !query.sortgroup() ? '' : 'schema'].filter(n => n);\n\n    var replacer = function(key, value) { return value === null ? '' : value;};\n    var csv = json.map(function(row){\n        return fields.map(function(fieldName){\n            return JSON.stringify(row[fieldName], replacer);\n        }).join(',');\n    });\n    csv.unshift(fields.join(',')); // add header column\n\n\n    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(csv.join('\\r\\n') ));\n    element.setAttribute('download', filename);\n};\n","import {fetchText} from 'utils/modelHelpers';\nimport {statisticsUrl as STATISTICS_URL} from 'modelUrls';\n\nexport let getStatistics = query => {\n    return fetchText(STATISTICS_URL, {method:'post', body: parseQuery(query)})\n        .then(response => {\n            let csv = response ? CSVToArray(response) : [[]];\n            return {\n                study: query.study(),\n                file: response,\n                headers: csv.shift(),\n                data: csv,\n                query: Object.assign(query) // clone the query so that we can get back to it in the future\n            };\n        });\n\n    /**\n     * Parses the query as we build it locally and creates an appropriate post for the server\n     **/\n    function parseQuery({source, study, task, sortstudy, sorttask, sortgroup, sorttime, showEmpty, startDate, endDate, firstTask, lastTask}){\n        let baseUrl = `${location.origin}/implicit`;\n        let post = {\n            db: source().match(/^(.*?):/)[1], // before colon\n            current: source().match(/:(.*?)$/)[1], // after colon\n            testDB:'newwarehouse',\n            study: study(),\n            task: task(),\n            since: parseDate(startDate()),\n            until: parseDate(endDate()),\n            refresh: 'no',\n            startTask: firstTask(),\n            endTask: lastTask(),\n            filter:'',\n            studyc:sortstudy(),\n            taskc:sorttask(),\n            datac:sortgroup(),\n            timec:sorttime() !== 'None',\n            dayc:sorttime() === 'Days',\n            weekc:sorttime() === 'Weeks',\n            monthc:sorttime() === 'Months',\n            yearc:sorttime() === 'Years',\n            method:'3',\n            cpath:'',\n            hpath:'',\n            tasksM:'3',\n            threads:'yes',\n            threadsNum:'1',\n            zero: showEmpty(),\n            curl:`${baseUrl}/research/library/randomStudiesConfig/RandomStudiesConfig.xml`,\n            hurl:`${baseUrl}/research/library/randomStudiesConfig/HistoryRand.xml`,\n            baseURL:baseUrl\n        };\n        return post;\n\n        function parseDate(date){\n            if (!date) return;\n            return `${date.getMonth()+1}/${date.getDate()}/${date.getYear() + 1900}`;\n        }\n    } \n};\n\n\n/* eslint-disable */\n\n// ref: http://stackoverflow.com/a/1293163/2343\n// This will parse a delimited string into an array of\n// arrays. The default delimiter is the comma, but this\n// can be overriden in the second argument.\nfunction CSVToArray( strData, strDelimiter ){\n    // Check to see if the delimiter is defined. If not,\n    // then default to comma.\n    strDelimiter = (strDelimiter || \",\");\n\n    // Create a regular expression to parse the CSV values.\n    var objPattern = new RegExp(\n        (\n            // Delimiters.\n            \"(\\\\\" + strDelimiter + \"|\\\\r?\\\\n|\\\\r|^)\" +\n\n            // Quoted fields.\n            \"(?:\\\"([^\\\"]*(?:\\\"\\\"[^\\\"]*)*)\\\"|\" +\n\n            // Standard fields.\n            \"([^\\\"\\\\\" + strDelimiter + \"\\\\r\\\\n]*))\"\n        ),\n        \"gi\"\n        );\n\n\n    // Create an array to hold our data. Give the array\n    // a default empty first row.\n    var arrData = [[]];\n\n    // Create an array to hold our individual pattern\n    // matching groups.\n    var arrMatches = null;\n\n\n    // Keep looping over the regular expression matches\n    // until we can no longer find a match.\n    while (arrMatches = objPattern.exec( strData )){\n\n        // Get the delimiter that was found.\n        var strMatchedDelimiter = arrMatches[ 1 ];\n\n        // Check to see if the given delimiter has a length\n        // (is not the start of string) and if it matches\n        // field delimiter. If id does not, then we know\n        // that this delimiter is a row delimiter.\n        if (\n            strMatchedDelimiter.length &&\n            strMatchedDelimiter !== strDelimiter\n            ){\n\n            // Since we have reached a new row of data,\n            // add an empty row to our data array.\n            arrData.push( [] );\n\n        }\n\n        var strMatchedValue;\n\n        // Now that we have our delimiter out of the way,\n        // let's check to see which kind of value we\n        // captured (quoted or unquoted).\n        if (arrMatches[ 2 ]){\n\n            // We found a quoted value. When we capture\n            // this value, unescape any double quotes.\n            strMatchedValue = arrMatches[ 2 ].replace(\n                new RegExp( \"\\\"\\\"\", \"g\" ),\n                \"\\\"\"\n                );\n\n        } else {\n\n            // We found a non-quoted value.\n            strMatchedValue = arrMatches[ 3 ];\n\n        }\n\n\n        // Now that we have our value string, let's add\n        // it to the data array.\n        arrData[ arrData.length - 1 ].push( strMatchedValue );\n    }\n\n    // Return the parsed data.\n    return( arrData );\n}\n/* eslint-enable */\n","import {dateRangePicker} from 'utils/dateRange';\nimport {formFactory, textInput, selectInput} from 'utils/formHelpers';\nexport default statisticsForm;\n\nlet statisticsForm = args => m.component(statisticsFormComponent, args);\nconst colWidth = 3;\nconst SOURCES = {\n    'Research pool - Current studies'   : 'Research:Current',\n//    'Research pool - Past studies'      : 'Research:History',\n    'All research - Pool and lab'       : 'Research:Any',\n    'Demo studies'                      : 'Demo:Any',\n    'All studies'                       : 'Both:Any'\n};\n\nlet statisticsFormComponent = {\n    controller(){\n        let form = formFactory();\n\n        return {form};\n    },\n    view({form}, {query}){\n        return m('.col-sm-12', [\n            selectInput({label: 'Source', prop: query.source, values: SOURCES, form, colWidth}),\n            textInput({label:'Study', prop: query.study , form, colWidth}),\n            textInput({label:'Task', prop: query.task , form, colWidth}),\n            m('div', {style: 'padding: .375rem .75rem'}, dateRangePicker({startDate:query.startDate, endDate: query.endDate})),\n            m('.form-group.row', [\n                m('.col-sm-3', [\n                    m('label.form-control-label', 'Show by')\n                ]),\n                m('.col-sm-9.pull-right', [\n                    m('.btn-group.btn-group-sm', [\n                        button(query.sortstudy, 'Study'),\n                        button(query.sorttask, 'Task'),\n                        m('a.btn.btn-secondary.statistics-time-button', {class: query.sorttime() !== 'None' ? 'active' : ''}, [\n                            'Time',\n                            m('.time-card', [\n                                m('.card', [\n                                    m('.card-header', 'Time filter'),\n                                    m('.card-block.c-inputs-stacked', [\n                                        radioButton(query.sorttime, 'None'),\n                                        radioButton(query.sorttime, 'Days'),\n                                        radioButton(query.sorttime, 'Weeks'),\n                                        radioButton(query.sorttime, 'Months'),\n                                        radioButton(query.sorttime, 'Years')\n                                    ])\n                                ])\n                            ])\n                        ]),\n                        button(query.sortgroup, 'Data Group')\n                    ]),\n                    m('.btn-group.btn-group-sm.pull-right', [\n                        button(query.showEmpty, 'Hide empty', 'Hide Rows with Zero Started Sessions')\n                    ])\n                ])\n            ]),\n            m('.form-group.row', [\n                m('.col-sm-3', [\n                    m('label.form-control-label', 'Compute completions')\n                ]),\n                m('.col-sm-9', [\n                    m('.row', [\n                        m('.col-sm-5', [\n                            m('input.form-control', {placeholder: 'First task', value: query.firstTask(), onchange: m.withAttr('value', query.firstTask)})\n                        ]),\n                        m('.col-sm-1', [\n                            m('.form-control-static', 'to')\n                        ]),\n                        m('.col-sm-5', [\n                            m('input.form-control', {placeholder: 'Last task', value: query.lastTask(), onchange: m.withAttr('value', query.lastTask)})\n                        ])\n                    ])\n                ])\n            ])\n        ]);\n    \n    \n    }\n};\n\nlet button = (prop, text, title = '') => m('a.btn.btn-secondary', {\n    class: prop() ? 'active' : '',\n    onclick: () => prop(!prop()),\n    title\n}, text);\n\nlet radioButton = (prop, text) => m('label.c-input.c-radio', [\n    m('input.form-control[type=radio]', {\n        onclick: prop.bind(null, text),\n        checked: prop() == text\n    }),\n    m('span.c-indicator'),\n    text\n]);\n","import sortTable from 'utils/sortTable';\nexport default statisticsTable;\n\nlet statisticsTable = args => m.component(statisticsTableComponent, args);\n\nlet statisticsTableComponent = {\n    controller(){\n        return {sortBy: m.prop()};\n    },\n    view({sortBy}, {tableContent}){\n        let content = tableContent();\n        if (!content) return m('div'); \n        if (!content.file) return m('.col-sm-12', [\n            m('.alert.alert-info', 'There was no data found for this request')            \n        ]);\n\n        let list = m.prop(content.data);\n        \n        return m('.col-sm-12', [\n            m('table.table.table-sm', {onclick: sortTable(list, sortBy)}, [\n                m('thead', [\n                    m('tr.table-default', tableContent().headers.map((header,index) => m('th',{'data-sort-by':index, class: sortBy() === index ? 'active' : ''}, header)))\n                ]),\n                m('tbody', tableContent().data.map(row => m('tr', !row.length ? '' : row.map(column => m('td', column)))))\n            ])\n        ]);\n    }\n};\n","export default statisticsInstructions;\n\nlet statisticsInstructions = () => m('.text-muted', [\n    m('p', 'Choose whether you want participation data from demo studies, research pool, all research studies (including lab studies), or all studies (demo and research).'),\n    m('p', 'Enter the study id or any part of the study id (the study name that that appears in an .expt file). Note that the study id search feature is case-sensitive. If you leave this box blank you will get data from all studies.'),\n    m('p', 'You can also use the Task box to enter a task name or part of a task name (e.g., realstart) if you only want participation data from certain tasks.'),\n    m('p', 'You can also choose how you want the data displayed, using the \"Show by\" options. If you click \"Study\", you will see data from each study that meets your search criteria. If you also check \"Task\" you will see data from any study that meets your search criteria separated by task.  The \"Data Group\" option will allow you to see whether a given study is coming from the demo or research site.  '),\n    m('p', 'You can define how completion rate is calculated by entering text to \"First task\" and \"Last task\". Only sessions that visited those tasks would be used for the calculation.'),\n    m('p', 'When you choose to show the results by date, you will see all the studies that have at least one session in the requested date range, separated by day, week, month or year. This will also show dates with zero sessions. If you want to hide rows with zero sessions, select the \"Hide empty\" option.')\n]);\n","import {getStatistics} from './statisticsModel';\nimport statisticsForm from './statisticsFormComponent';\nimport statisticsTable from './statisticsTableComponent';\nimport statisticsInstructions from './instructions';\nexport default statisticsComponent;\n\nlet statisticsComponent = {\n    controller(){\n        let displayHelp = m.prop(false);\n        let tableContent = m.prop();\n        let loading = m.prop(false);\n        let query = {\n            source: m.prop('Research:Current'),\n            startDate: m.prop(firstDayInPreviousMonth(new Date())),\n            endDate: m.prop(new Date()),\n            study: m.prop(''),\n            task: m.prop(''),\n            studyType: m.prop('Both'),\n            studydb: m.prop('Any'),\n            sortstudy: m.prop(true),\n            sorttask: m.prop(false),\n            sortgroup: m.prop(false),\n            sorttime: m.prop('None'),\n            showEmpty: m.prop(false),\n            firstTask: m.prop(''),\n            lastTask: m.prop('')\n        };\n\n        return {query, submit, displayHelp, tableContent,loading};\n\n        function submit(){\n            loading(true);\n            getStatistics(query)\n                .then(tableContent)\n                .then(loading.bind(null, false))\n                .then(m.redraw);\n        }\n\n        function firstDayInPreviousMonth(yourDate) {\n            return new Date(yourDate.getFullYear(), yourDate.getMonth() - 1, 1);\n        }\n    },\n    view: ({query, tableContent, submit, displayHelp, loading}) => m('.container.statistics', [\n        m('h3', 'Statistics'),\n        m('.row', [\n            statisticsForm({query})\n        ]),\n        m('.row', [\n            m('.col-sm-12',[\n                m('button.btn.btn-secondary.btn-sm', {onclick: ()=>displayHelp(!displayHelp())}, ['Toggle help ', m('i.fa.fa-question-circle')]),\n                m('a.btn.btn-primary.pull-right', {onclick:submit}, 'Submit'),\n                !tableContent() || !tableContent().file ? '' : m('a.btn.btn-secondary.pull-right.m-r-1', {config:downloadFile(`${tableContent().study}.csv`, tableContent().file)}, 'Download CSV')\n            ])\n        ]),\n        !displayHelp() ? '' : m('.row', [\n            m('.col-sm-12.p-a-2', statisticsInstructions())\n        ]),\n        m('.row.m-t-1', [\n            loading()\n                ? m('.loader')\n                : statisticsTable({tableContent})\n        ])\n    ])\n};\n\nlet downloadFile = (filename, text) => element => {\n    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n    element.setAttribute('download', filename);\n};\n","import {fetchJson} from 'utils/modelHelpers';\nimport {poolUrl as url} from 'modelUrls';\n\nexport const STATUS_RUNNING = 'R';\nexport const STATUS_PAUSED = 'P';\nexport const STATUS_STOP = 'S';\n\nexport function createStudy(study){\n    let body = Object.assign({\n        action:'insertRulesTable',\n        creationDate: new Date(),\n        studyStatus: STATUS_RUNNING\n    }, study);\n\n    return fetchJson(url, {method: 'post', body: body})\n        .then(interceptErrors);\n}\n\nexport function updateStudy(study){\n    let body = Object.assign({\n        action:'updateRulesTable'\n    }, study);\n\n    return  fetchJson(url, {method: 'post',body:body})\n        .then(interceptErrors);\n}\n\nexport function updateStatus(study, status){\n    let body = Object.assign({\n        action:'updateStudyStatus'\n    }, study,{studyStatus: status});\n\n    return  fetchJson(url, {method: 'post',body:body})\n        .then(interceptErrors);\n}\n\nexport function getAllPoolStudies(){\n    return fetchJson(url, {method:'post', body: {action:'getAllPoolStudies'}})\n        .then(interceptErrors);\n}\n\nexport function getLast100PoolUpdates(){\n    return fetchJson(url, {method:'post', body: {action:'getLast100PoolUpdates'}})\n        .then(interceptErrors);\n}\n\nexport function getStudyId(study){\n    let body = Object.assign({\n        action:'getStudyId'\n    }, study);\n\n    return  fetchJson(url, {method: 'post',body:body});\n}\n\nexport function resetStudy(study){\n    return fetchJson(url, {method:'post', body: Object.assign({action:'resetCompletions'}, study)})\n        .then(interceptErrors);\n}\n\nfunction interceptErrors(response){\n    if (!response.error){\n        return response;\n    }\n\n    let errors = {\n        1: 'This ID already exists.',\n        2: 'The study could not be found.',\n        3: 'The rule file could not be found.',\n        4: 'The rules file does not fit the \"research\" schema.'\n    };\n\n    return Promise.reject({message: errors[response.error]});\n}\n","export default messages;\n\nlet noop = ()=>{};\n\nlet messages = {\n    vm: {isOpen: false},\n\n    open: (type, opts={}) => {\n        let promise = new Promise((resolve, reject) => {\n            messages.vm = {resolve,reject,type, opts, isOpen:true};\n        });\n        m.redraw();\n\n        return promise;\n    },\n\n    close: response => {\n        let vm = messages.vm;\n        vm.isOpen = false;\n        if (typeof vm.resolve === 'function') vm.resolve(response);\n        m.redraw();\n    },\n\n    custom: opts=>messages.open('custom', opts),\n    alert: opts => messages.open('alert', opts),\n    confirm: opts => messages.open('confirm', opts),\n    prompt: opts => messages.open('prompt', opts),\n\n    view: () => {\n        let vm = messages.vm;\n        let close = messages.close.bind(null, null);\n        let stopPropagation = e => e.stopPropagation();\n        return m('#messages.backdrop', [\n            !vm || !vm.isOpen\n                ? ''\n                :[\n                    m('.overlay', {config:messages.config(vm.opts)}),\n                    m('.backdrop-content', {onclick:close}, [\n                        m('.card', {class: vm.opts.wide ? 'col-sm-8' : 'col-sm-5', config:maxHeight}, [\n                            m('.card-block', {onclick: stopPropagation}, [\n                                messages.views[vm.type](vm.opts)\n                            ])\n                        ])\n                    ])\n                ]\n        ]);\n\n    },\n\n    config: (opts) => {\n        return (element, isInitialized, context) => {\n            if (!isInitialized) {\n                let handleKey = function(e) {\n                    if (e.keyCode == 27) {\n                        messages.close(null);\n                    }\n                    if (e.keyCode == 13 && !opts.preventEnterSubmits) {\n                        messages.close(true);\n                    }\n                };\n\n                document.body.addEventListener('keyup', handleKey);\n\n                context.onunload = function() {\n                    document.body.removeEventListener('keyup', handleKey);\n                };\n            }\n        };\n    },\n\n    views: {\n        custom: (opts={}) => opts.content,\n\n        alert: (opts={}) => {\n            let close = response => messages.close.bind(null, response);\n            return [\n                m('h4', opts.header),\n                m('p.card-text', opts.content),\n                m('.text-xs-right.btn-toolbar',[\n                    m('button.btn.btn-primary.btn-sm', {onclick:close(true)}, opts.okText || 'OK')\n                ])\n            ];\n        },\n\n        confirm: (opts={}) => {\n            let close = response => messages.close.bind(null, response);\n            return [\n                m('h4', opts.header),\n                m('p.card-text', opts.content),\n                m('.text-xs-right.btn-toolbar',[\n                    m('button.btn.btn-secondary.btn-sm', {onclick:close(null)}, opts.cancelText || 'Cancel'),\n                    m('button.btn.btn-primary.btn-sm', {onclick:close(true)}, opts.okText || 'OK')\n                ])\n            ];\n        },\n\n        /**\n         * Promise prompt(Object opts{header: String, content: String, name: Prop})\n         *\n         * where:\n         *   any Prop(any value)\n         */\n        prompt: ({prop, header, content, postContent, okText, cancelText}={prop:noop}) => {\n            let close = response => messages.close.bind(null, response);\n            return [\n                m('h4', header),\n                m('.card-text', content),\n                m('.card-block', [\n                    m('input.form-control', {\n                        key: 'prompt',\n                        value: prop(),\n                        onchange: m.withAttr('value', prop),\n                        config: (element, isInitialized) => {\n                            if (!isInitialized) setTimeout(() => element.focus());\n                        }\n                    })\n                ]),\n                m('.card-text', postContent),\n                m('.text-xs-right.btn-toolbar',[\n                    m('button.btn.btn-secondary.btn-sm', {onclick:close(null)}, cancelText || 'Cancel'),\n                    m('button.btn.btn-primary.btn-sm', {onclick:close(true)}, okText || 'OK')\n                ])\n            ];\n        }\n    }\n};\n\n// set message max height, so that content can scroll within it.\nlet maxHeight = (element, isInitialized, ctx) => {\n    if (!isInitialized){\n        onResize();\n\n        window.addEventListener('resize', onResize, true);\n\n        ctx.onunload = function(){\n            window.removeEventListener('resize', onResize);\n        };\n\n    }\n\n    function onResize(){\n        element.style.maxHeight = document.documentElement.clientHeight * 0.9 + 'px';\n    }\n};\n","export default spinner;\n\nlet spinner = {\n    display: m.prop(false),\n    show(response){\n        spinner.display(true);\n        m.redraw();\n        return response;\n    },\n    hide(response){\n        spinner.display(false);\n        m.redraw();\n        return response;\n    },\n    view(){\n        return m('.backdrop', {hidden:!spinner.display()}, // spinner.show()\n            m('.overlay'),\n            m('.backdrop-content.spinner.icon.fa.fa-cog.fa-spin')\n        );\n    }\n};","// taken from here:\n// https://github.com/JedWatson/classnames/blob/master/index.js\nvar hasOwn = {}.hasOwnProperty;\n\nfunction classNames () {\n    var classes = '';\n\n    for (var i = 0; i < arguments.length; i++) {\n        var arg = arguments[i];\n        if (!arg) continue;\n\n        var argType = typeof arg;\n\n        if (argType === 'string' || argType === 'number') {\n            classes += ' ' + arg;\n        } else if (Array.isArray(arg)) {\n            classes += ' ' + classNames.apply(null, arg);\n        } else if (argType === 'object') {\n            for (var key in arg) {\n                if (hasOwn.call(arg, key) && arg[key]) {\n                    classes += ' ' + key;\n                }\n            }\n        }\n    }\n\n    return classes.substr(1);\n}\n\nexport default classNames;\n","import classNames from 'utils/classNames';\nimport messages from 'utils/messagesComponent';\nexport default editMessage;\n\n/**\n * Create edit component\n * Promise editMessage({input:Object, output:Prop})\n */\nlet editMessage = args => messages.custom({\n    content: m.component(editComponent, Object.assign({close:messages.close}, args)),\n    wide: true\n});\n\nlet editComponent = {\n    controller({input, output, close}){\n        let study = ['rulesUrl', 'targetCompletions', 'autopauseUrl', 'userEmail'].reduce((study, prop)=>{\n            study[prop] = m.prop(input[prop] || '');\n            return study;\n        }, {});\n\n        // export study to calling component\n        output(study);\n\n\n        let ctrl = {\n            study,\n            submitAttempt: false,\n            validity(){\n                let isEmail = str  => /\\S+@\\S+\\.\\S+/.test(str);\n                let isNormalInteger = str => /^\\+?(0|[1-9]\\d*)$/.test(str);\n\n                let response = {\n                    rulesUrl: study.rulesUrl(),\n                    targetCompletions: isNormalInteger(study.targetCompletions()),\n                    autopauseUrl: study.autopauseUrl(),\n                    userEmail: isEmail(study.userEmail())\n\n                };\n                return response;\n            },\n            ok(){\n                ctrl.submitAttempt = true;\n                let response = ctrl.validity();\n                let isValid = Object.keys(response).every(key => response[key]);\n\n                if (isValid) {\n                    study.targetCompletions(+study.targetCompletions());// targetCompletions should be cast as a number\n                    close(true);\n                }\n            },\n            cancel() {\n                close(null);\n            }\n        };\n\n        return ctrl;\n    },\n    view(ctrl, {input}){\n        let study = ctrl.study;\n        let validity = ctrl.validity();\n        let miniButtonView = (prop, name, url) => m('button.btn.btn-secondary.btn-sm', {onclick: prop.bind(null,url)}, name);\n        let validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n        let groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n            'has-danger': !valid,\n            'has-success' : valid\n        });\n        let inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n            'form-control-danger': !valid,\n            'form-control-success': valid\n        });\n\n        return m('div',[\n            m('h4', 'Study Editor'),\n            m('.card-block', [\n                m('.form-group', [\n                    m('label', 'Study ID'),\n                    m('p',[\n                        m('strong.form-control-static', input.studyId)\n                    ])\n\n                ]),\n                m('.form-group', [\n                    m('label', 'Study URL'),\n                    m('p',[\n                        m('strong.form-control-static', input.studyUrl)\n                    ])\n                ]),\n\n                m('.form-group', {class:groupClasses(validity.rulesUrl)}, [\n                    m('label', 'Rules File URL'),\n                    m('input.form-control', {\n                        config: focusConfig,\n                        placeholder:'Rules file URL',\n                        value: study.rulesUrl(),\n                        oninput: m.withAttr('value', study.rulesUrl),\n                        class:inputClasses(validity.rulesUrl)\n                    }),\n                    m('p.text-muted.btn-toolbar', [\n                        miniButtonView(study.rulesUrl, 'Priority26', '/research/library/rules/Priority26.xml')\n                    ]),\n                    validationView(validity.rulesUrl, 'This row is required')\n                ]),\n                m('.form-group', {class:groupClasses(validity.autopauseUrl)}, [\n                    m('label', 'Auto-pause file URL'),\n                    m('input.form-control', {\n                        placeholder:'Auto pause file URL',\n                        value: study.autopauseUrl(),\n                        oninput: m.withAttr('value', study.autopauseUrl),\n                        class:inputClasses(validity.autopauseUrl)\n                    }),\n                    m('p.text-muted.btn-toolbar', [\n                        miniButtonView(study.autopauseUrl, 'Default', '/research/library/pausefiles/pausedefault.xml'),\n                        miniButtonView(study.autopauseUrl, 'Never', '/research/library/pausefiles/neverpause.xml'),\n                        miniButtonView(study.autopauseUrl, 'Low restrictions', '/research/library/pausefiles/pauselowrestrictions.xml')\n                    ]),\n                    validationView(validity.autopauseUrl, 'This row is required')\n                ]),\n                m('.form-group', {class:groupClasses(validity.targetCompletions)}, [\n                    m('label','Target number of sessions'),\n                    m('input.form-control', {\n                        type:'number',\n                        placeholder:'Target Sessions',\n                        value: study.targetCompletions(),\n                        oninput: m.withAttr('value', study.targetCompletions),\n                        onclick: m.withAttr('value', study.targetCompletions),\n                        class:inputClasses(validity.targetCompletions)\n                    }),\n                    validationView(validity.targetCompletions, 'This row is required and has to be an integer above 0')\n                ]),\n                m('.form-group', {class:groupClasses(validity.userEmail)}, [\n                    m('label','User Email'),\n                    m('input.form-control', {\n                        type:'email',\n                        placeholder:'Email',\n                        value: study.userEmail(),\n                        oninput: m.withAttr('value', study.userEmail),\n                        class:inputClasses(validity.userEmail)\n                    }),\n                    validationView(validity.userEmail, 'This row is required and must be a valid Email')\n                ])\n            ]),\n            m('.text-xs-right.btn-toolbar',[\n                m('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n                m('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n            ])\n        ]);\n    }\n};\n\nlet focusConfig = (element, isInitialized) => {\n    if (!isInitialized) element.focus();\n};\n","import classNames from 'utils/classNames';\nimport messages from 'utils/messagesComponent';\nexport default createMessage;\n\n/**\n * Create edit component\n * Promise editMessage({output:Prop})\n */\nlet createMessage = args => messages.custom({\n    content: m.component(createComponent, Object.assign({close:messages.close}, args)),\n    wide: true\n});\n\nlet createComponent = {\n    controller({output, close}){\n        let study = output({\n            studyUrl: m.prop('')\n        });\n\n        let ctrl = {\n            study,\n            submitAttempt: false,\n            validity(){\n                let response = {\n                    studyUrl: study.studyUrl()\n                };\n                return response;\n            },\n            ok(){\n                ctrl.submitAttempt = true;\n                let response = ctrl.validity();\n                let isValid = Object.keys(response).every(key => response[key]);\n                if (isValid) close(true);\n            },\n            cancel() {\n                close(null);\n            }\n        };\n\n        return ctrl;\n    },\n    view(ctrl){\n        let study = ctrl.study;\n        let validity = ctrl.validity();\n        let validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n        let groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n            'has-danger': !valid,\n            'has-success' : valid\n        });\n        let inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n            'form-control-danger': !valid,\n            'form-control-success': valid\n        });\n\n        return m('div',[\n            m('h4', 'Create Study'),\n            m('.card-block', [\n                m('.form-group', {class:groupClasses(validity.studyUrl)}, [\n                    m('label', 'Study URL'),\n                    m('input.form-control', {\n                        config: focusConfig,\n                        placeholder:'Study URL',\n                        value: study.studyUrl(),\n                        oninput: m.withAttr('value', study.studyUrl),\n                        class:inputClasses(validity.studyUrl)\n                    }),\n                    validationView(validity.studyUrl, 'This row is required')\n                ])\n            ]),\n            m('.text-xs-right.btn-toolbar',[\n                m('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n                m('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'Proceed')\n            ])\n        ]);\n    }\n};\n\nlet focusConfig = (element, isInitialized) => {\n    if (!isInitialized) element.focus();\n};","import {updateStudy, createStudy, updateStatus, getStudyId, resetStudy, STATUS_RUNNING, STATUS_PAUSED, STATUS_STOP} from './poolModel';\nimport messages from 'utils/messagesComponent';\nimport spinner from 'utils/spinnerComponent';\nimport editMessage from './poolEditComponent';\nimport createMessage from './poolCreateComponent';\n\n\nexport function play(study){\n    return messages.confirm({\n        header: 'Continue Study:',\n        content: `Are you sure you want to continue \"${study.studyId}\"?`\n    })\n    .then(response => {\n        if(response) {\n            studyPending(study, true)();\n            return updateStatus(study, STATUS_RUNNING)\n                .then(()=>study.studyStatus = STATUS_RUNNING)\n                .catch(reportError('Continue Study'))\n                .then(studyPending(study, false));\n        }\n    });\n}\n\nexport function pause(study){\n    return messages.confirm({\n        header: 'Pause Study:',\n        content: `Are you sure you want to pause \"${study.studyId}\"?`\n    })\n    .then(response => {\n        if(response) {\n            studyPending(study, true)();\n            return updateStatus(study, STATUS_PAUSED)\n                .then(()=>study.studyStatus = STATUS_PAUSED)\n                .catch(reportError('Pause Study'))\n                .then(studyPending(study, false));\n        }\n    });\n}\n\nexport let remove  = (study, list) => {\n    return messages.confirm({\n        header: 'Remove Study:',\n        content: `Are you sure you want to remove \"${study.studyId}\" from the pool?`\n    })\n    .then(response => {\n        if(response) {\n            studyPending(study, true)();\n            return updateStatus(study, STATUS_STOP)\n                .then(() => list(list().filter(el => el !== study)))\n                .catch(reportError('Remove Study'))\n                .then(studyPending(study, false));\n        }\n    });\n};\n\nexport let edit  = (input) => {\n    let output = m.prop();\n    return editMessage({input, output})\n        .then(response => {\n            if (response) {\n                studyPending(input, true)();\n                let study = Object.assign({}, input, unPropify(output()));\n                return updateStudy(study)\n                    .then(() => Object.assign(input, study)) // update study in view\n                    .catch(reportError('Study Editor'))\n                    .then(studyPending(input, false));\n            }\n        });\n};\n\nexport let create = (list) => {\n    let output = m.prop();\n    return createMessage({output})\n        .then(response => {\n            if (response) {\n                spinner.show();\n                getStudyId(output())\n                    .then(response => Object.assign(unPropify(output()), response)) // add response data to \"newStudy\"\n                    .then(spinner.hide)\n                    .then(editNewStudy);\n            }\n        });\n\n    function editNewStudy(input){\n        let output = m.prop();\n        return editMessage({input, output})\n            .then(response => {\n                if (response) {\n                    let study = Object.assign({\n                        startedSessions: 0,\n                        completedSessions: 0,\n                        creationDate:new Date(),\n                        studyStatus: STATUS_RUNNING\n                    }, input, unPropify(output()));\n                    return createStudy(study)\n                        .then(() => list().push(study))\n                        .then(m.redraw)\n                        .catch(reportError('Create Study'));\n                }\n            });\n    }\n};\n\nexport let reset = study => {\n    messages.confirm({\n        header: 'Restart study',\n        content: 'Are you sure you want to restart this study? This action will reset all started and completed sessions.'\n    }).then(response => {\n        if (response) {\n            let old = {\n                startedSessions: study.startedSessions,\n                completedSessions: study.completedSessions\n            };\n            study.startedSessions = study.completedSessions = 0;\n            m.redraw();\n            return resetStudy(study)\n                .catch(response => {\n                    Object.assign(study, old);\n                    return Promise.reject(response);\n                })\n                .catch(reportError('Restart study'));\n        }\n    });\n};\n\nlet reportError = header => err => messages.alert({header, content: err.message});\n\nlet studyPending = (study, state) => () => {\n    study.$pending = state;\n    m.redraw();\n};\n\nlet unPropify = obj => Object.keys(obj).reduce((result, key) => {\n    result[key] = obj[key]();\n    return result;\n}, {});","import {fetchJson,fetchVoid} from 'utils/modelHelpers';\nimport {baseUrl} from 'modelUrls';\n\nconst loginUrl = `${baseUrl}/connect`;\nconst logoutUrl = `${baseUrl}/logout`;\nconst is_logedinUrl = `${baseUrl}/is_loggedin`;\n\nexport let login = (username, password) => fetchJson(loginUrl, {\n    method: 'post',\n    body: {username, password}\n});\n\nexport let logout = () => fetchVoid(logoutUrl, {method:'post'}).then(getAuth);\n\nexport let getAuth = () => fetchJson(is_logedinUrl, {\n    method: 'get'\n});","import {getAllPoolStudies, STATUS_PAUSED, STATUS_RUNNING} from './poolModel';\nimport {play, pause, remove, edit, create, reset} from './poolActions';\nimport {getAuth} from 'login/authModel';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nexport default poolComponent;\n\nconst PRODUCTION_URL = 'https://implicit.harvard.edu/implicit/';\nconst TABLE_WIDTH = 8;\n\nlet poolComponent = {\n    controller: () => {\n        const ctrl = {\n            play, pause, remove, edit, reset, create,\n            canCreate: false,\n            list: m.prop([]),\n            globalSearch: m.prop(''),\n            sortBy: m.prop(),\n            error: m.prop(''),\n            loaded: m.prop()\n        };\n\n        getAuth().then((response) => {ctrl.canCreate = response.role === 'SU';});\n        getAllPoolStudies()\n            .then(ctrl.list)\n            .then(ctrl.loaded)\n            .catch(ctrl.error)\n            .then(m.redraw);\n        return ctrl;\n    },\n    view: ctrl => {\n        let list = ctrl.list;\n        return m('.pool', [\n            m('h2', 'Study pool'),\n            ctrl.error()\n                ?\n                m('.alert.alert-warning',\n                    m('strong', 'Warning!! '), ctrl.error().message\n                )\n                :\n                m('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n                    m('thead', [\n                        m('tr', [\n                            m('th', {colspan:TABLE_WIDTH - 1}, [\n                                m('input.form-control', {placeholder: 'Global Search ...', oninput: m.withAttr('value', ctrl.globalSearch)})\n                            ]),\n                            m('th', [\n                                m('a.btn.btn-secondary', {href:'/pool/history', config:m.route}, [\n                                    m('i.fa.fa-history'), '  History'\n                                ])\n                            ])\n                        ]),\n                        ctrl.canCreate ? m('tr', [\n                            m('th.text-xs-center', {colspan:TABLE_WIDTH}, [\n                                m('button.btn.btn-secondary', {onclick:ctrl.create.bind(null, list)}, [\n                                    m('i.fa.fa-plus'), '  Add new study'\n                                ])\n                            ])\n                        ]) : '',\n                        m('tr', [\n                            m('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n                            m('th', thConfig('studyUrl',ctrl.sortBy), 'Study'),\n                            m('th', thConfig('rulesUrl',ctrl.sortBy), 'Rules'),\n                            m('th', thConfig('autopauseUrl',ctrl.sortBy), 'Autopause'),\n                            m('th', thConfig('completedSessions',ctrl.sortBy), 'Completion'),\n                            m('th', thConfig('creationDate',ctrl.sortBy), 'Date'),\n                            m('th','Status'),\n                            m('th','Actions')\n                        ])\n                    ]),\n                    m('tbody', [\n                        list().length === 0\n                            ?\n                            m('tr.table-info',\n                                m('td.text-xs-center', {colspan: TABLE_WIDTH},\n                                    m('strong', 'Heads up! '), \n                                    ctrl.loaded()\n                                        ? 'None of your studies is in the Research Pool right now'\n                                        : 'Loading...'\n                                )\n                            )\n                            :\n                            list().filter(studyFilter(ctrl)).map(study => m('tr', [\n                                // ### ID\n                                m('td', study.studyId),\n\n                                // ### Study url\n                                m('td', [\n                                    m('a', {href:PRODUCTION_URL + study.studyUrl, target: '_blank'}, 'Study')\n                                ]),\n\n                                // ### Rules url\n                                m('td', [\n                                    m('a', {href:PRODUCTION_URL + study.rulesUrl, target: '_blank'}, 'Rules')\n                                ]),\n\n                                // ### Autopause url\n                                m('td', [\n                                    m('a', {href:PRODUCTION_URL + study.autopauseUrl, target: '_blank'}, 'Autopause')\n                                ]),\n\n                                // ### Completions\n                                m('td', [\n                                    study.startedSessions ? (100 * study.completedSessions / study.startedSessions).toFixed(1) + '% ' : 'n/a ',\n                                    m('i.fa.fa-info-circle'),\n                                    m('.info-box', [\n                                        m('.card', [\n                                            m('.card-header', 'Completion Details'),\n                                            m('ul.list-group.list-group-flush',[\n                                                m('li.list-group-item', [\n                                                    m('strong', 'Target Completions: '), study.targetCompletions\n                                                ]),\n                                                m('li.list-group-item', [\n                                                    m('strong', 'Started Sessions: '), study.startedSessions\n                                                ]),\n                                                m('li.list-group-item', [\n                                                    m('strong', 'Completed Sessions: '), study.completedSessions\n                                                ])\n                                            ])\n                                        ])\n                                    ])\n                                ]),\n\n                                // ### Date\n                                m('td', formatDate(new Date(study.creationDate))),\n\n                                // ### Status\n                                m('td', [\n                                    {\n                                        R: m('span.label.label-success', 'Running'),\n                                        P: m('span.label.label-info', 'Paused'),\n                                        S: m('span.label.label-danger', 'Stopped')\n                                    }[study.studyStatus]\n                                ]),\n\n                                // ### Actions\n                                m('td', [\n                                    study.$pending\n                                        ?\n                                        m('.l', 'Loading...')\n                                        :\n                                        m('.btn-group', [\n                                            study.canUnpause && study.studyStatus === STATUS_PAUSED ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.play.bind(null, study)}, [\n                                                m('i.fa.fa-play')\n                                            ]) : '',\n                                            study.canPause && study.studyStatus === STATUS_RUNNING ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.pause.bind(null, study)}, [\n                                                m('i.fa.fa-pause')\n                                            ]) : '',\n                                            study.canReset ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.edit.bind(null, study)}, [\n                                                m('i.fa.fa-edit')\n                                            ]): '',\n                                            study.canReset ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.reset.bind(null, study)}, [\n                                                m('i.fa.fa-refresh')\n                                            ]) : '',\n                                            study.canStop ? m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.remove.bind(null, study, list)}, [\n                                                m('i.fa.fa-close')\n                                            ]) : ''\n                                        ])\n                                ])\n                            ]))\n                    ])\n                ])\n        ]);\n    }\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction studyFilter(ctrl){\n    return study =>\n        includes(study.studyId, ctrl.globalSearch()) ||\n        includes(study.studyUrl, ctrl.globalSearch()) ||\n        includes(study.rulesUrl, ctrl.globalSearch());\n\n    function includes(val, search){\n        return typeof val === 'string' && val.includes(search);\n    }\n}\n","import {getLast100PoolUpdates} from './poolModel';\nimport {dateRangePicker} from 'utils/dateRange';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nexport default poolComponent;\n\nconst PRODUCTION_URL = 'https://implicit.harvard.edu/implicit/';\nlet poolComponent = {\n    controller: () => {\n        const ctrl = {\n            list: m.prop([]),\n            globalSearch: m.prop(''),\n            startDate: m.prop(new Date(0)),\n            endDate: m.prop(new Date()),\n            sortBy: m.prop()\n        };\n\n        getLast100PoolUpdates()\n            .then(ctrl.list)\n            .then(m.redraw);\n\n        return ctrl;\n    },\n    view: ctrl => {\n        let list = ctrl.list;\n        return m('.pool', [\n            m('h2', 'Pool history'),\n            m('.row', {colspan:8}, [\n                m('.col-sm-3',[\n                    m('label', 'Search'),\n                    m('input.form-control', {placeholder: 'Search ...', oninput: m.withAttr('value', ctrl.globalSearch)})\n                ]),\n                m('.col-sm-4',[\n                    dateRangePicker(ctrl)\n                ]),\n                m('.col-sm-5',[\n                    m('label', m.trust('&nbsp')),\n                    m('.text-muted.btn-toolbar', [\n                        dayButtonView(ctrl, 'Last 7 Days', 7),\n                        dayButtonView(ctrl, 'Last 30 Days', 30),\n                        dayButtonView(ctrl, 'Last 90 Days', 90),\n                        dayButtonView(ctrl, 'All time', 3650)\n                    ])\n                ])\n            ]) ,\n            m('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n                m('thead', [\n                    m('tr', [\n                        m('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n                        m('th', thConfig('studyUrl',ctrl.sortBy), 'Study'),\n                        m('th', thConfig('rulesUrl',ctrl.sortBy), 'Rules'),\n                        m('th', thConfig('autopauseUrl',ctrl.sortBy), 'Autopause'),     \n                        m('th', thConfig('creationDate',ctrl.sortBy), 'Creation Date'),\n                        m('th', thConfig('completedSessions',ctrl.sortBy), 'Completion'),\n                        m('th','New Status'),\n                        m('th','Old Status'),\n                        m('th', thConfig('updaterId',ctrl.sortBy), 'Updater')\n                    ])\n                ]),\n                m('tbody', [\n                    list().filter(studyFilter(ctrl)).map(study => m('tr', [\n                        // ### ID\n                        m('td', study.studyId),\n\n                        // ### Study url\n                        m('td', [\n                            m('a', {href:PRODUCTION_URL + study.studyUrl, target: '_blank'}, 'Study')\n                        ]),\n\n                        // ### Rules url\n                        m('td', [\n                            m('a', {href:PRODUCTION_URL + study.rulesUrl, target: '_blank'}, 'Rules')\n                        ]),\n\n                        // ### Autopause url\n                        m('td', [\n                            m('a', {href:PRODUCTION_URL + study.autopauseUrl, target: '_blank'}, 'Autopause')\n                        ]),\n                        \n                    \n\n                        // ### Date\n                        m('td', formatDate(new Date(study.creationDate))),\n                        \n                        // ### Target Completionss\n                        m('td', [\n                            study.startedSessions ? (100 * study.completedSessions / study.startedSessions).toFixed(1) + '% ' : 'n/a ',\n                            m('i.fa.fa-info-circle'),\n                            m('.card.info-box', [\n                                m('.card-header', 'Completion Details'),\n                                m('ul.list-group.list-group-flush',[\n                                    m('li.list-group-item', [\n                                        m('strong', 'Target Completions: '), study.targetCompletions\n                                    ]),\n                                    m('li.list-group-item', [\n                                        m('strong', 'Started Sessions: '), study.startedSessions\n                                    ]),\n                                    m('li.list-group-item', [\n                                        m('strong', 'Completed Sessions: '), study.completedSessions\n                                    ])\n                                ])\n                            ])\n                        ]),\n\n                        // ### New Status\n                        m('td', [\n                            {\n                                R: m('span.label.label-success', 'Running'),\n                                P: m('span.label.label-info', 'Paused'),\n                                S: m('span.label.label-danger', 'Stopped')\n                            }[study.newStatus]\n                        ]),\n                        // ### Old Status\n                        m('td', [\n                            {\n                                R: m('span.label.label-success', 'Running'),\n                                P: m('span.label.label-info', 'Paused'),\n                                S: m('span.label.label-danger', 'Stopped')\n                            }[study.studyStatus]\n                        ]),\n                        m('td', study.updaterId)\n                    ]))\n                ])\n            ])\n        ]);\n    }\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction studyFilter(ctrl){\n    return study =>\n        (includes(study.studyId, ctrl.globalSearch()) ||    includes(study.updaterId, ctrl.globalSearch()) || includes(study.rulesUrl, ctrl.globalSearch())\n            || includes(study.targetCompletions, ctrl.globalSearch()))\n        && (new Date(study.creationDate)).getTime() >= ctrl.startDate().getTime()\n    && (new Date(study.creationDate)).getTime() <= ctrl.endDate().getTime()+86000000; //include the end day selected\n\n    function includes(val, search){\n        return typeof val === 'string' && val.includes(search);\n    }\n}\n\nlet dayButtonView = (ctrl, name, days) => m('button.btn.btn-secondary.btn-sm', {onclick: () => {\n    let d = new Date();\n    d.setDate(d.getDate() - days);\n    ctrl.startDate(d);\n    ctrl.endDate(new Date());\n}}, name);\n","import {fetchJson, fetchVoid} from 'utils/modelHelpers';\nimport {downloadsUrl as url} from 'modelUrls';\n\nexport const STATUS_RUNNING = 'R';\nexport const STATUS_COMPLETE = 'C';\nexport const STATUS_ERROR = 'X';\n\nexport let getAllDownloads = () => fetchJson(url, {\n    method:'post',\n    body: {action:'getAllDownloads'}\n}).then(interceptErrors);\n\nexport let removeDownload = download => fetchVoid(url, {\n    method:'post',\n    body: Object.assign({action:'removeDownload'}, download)\n}).then(interceptErrors);\n\nexport let createDownload = download => fetchVoid(url, {\n    method: 'post',\n    body: Object.assign({action:'download'}, download)\n}).then(interceptErrors);\n\nfunction interceptErrors(response){\n    if (!response || !response.error){\n        return response;\n    }\n\n    return Promise.reject({message: response.msg});\n}\n","import messages from 'utils/messagesComponent';\nimport {dateRangePicker} from 'utils/dateRange';\nimport classNames from 'utils/classNames';\n\nexport default args => messages.custom({\n    content: m.component(createComponent, Object.assign({close:messages.close}, args)),\n    wide: true\n});\n\n\nlet createComponent = {\n    controller({output, close}){\n        let download ={\n            studyId: m.prop(''),\n            db: m.prop('test'),\n            startDate: m.prop(daysAgo(3650)),\n            endDate: m.prop(new Date())\n        };\n\n        // export study to calling component\n        output(download);\n\n        let ctrl = {\n            download,\n            submitAttempt: false,\n            validity(){\n                let response = {\n                    studyId: download.studyId()\n                };\n                return response;\n            },\n            ok(){\n                ctrl.submitAttempt = true;\n                let response = ctrl.validity();\n                let isValid = Object.keys(response).every(key => response[key]);\n\n                if (isValid) {\n                    download.endDate(endOfDay(download.endDate())); \n                    close(true);\n                }\n            },\n            cancel() {\n                close(null);\n            }\n        };\n\n        return ctrl;\n\n        function endOfDay(date){\n            if (date) return new Date(date.setHours(23,59,59,999));\n        }\n    },\n    view(ctrl){\n        let download = ctrl.download;\n        let validity = ctrl.validity();\n        let validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n        let groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n            'has-danger': !valid,\n            'has-success' : valid\n        });\n        let inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n            'form-control-danger': !valid,\n            'form-control-success': valid\n        });\n\n        return m('div',[\n            m('h4', 'Request Data'),\n            m('.card-block', [\n                m('.row', [\n                    m('.col-sm-6', [\n                        m('.form-group', {class:groupClasses(validity.studyId)}, [\n                            m('label', 'Study ID'),\n                            m('input.form-control', {\n                                config: focusConfig,\n                                placeholder:'Study Id',\n                                value: download.studyId(),\n                                oninput: m.withAttr('value', download.studyId),\n                                class:inputClasses(validity.studyId)\n                            }),\n                            validationView(validity.studyId, 'The study ID is required in order to request a download.')\n                        ])   \n                    ]),\n                    m('.col-sm-6', [\n                        m('.form-group', [\n                            m('label','Database'),\n                            m('select.form-control.c-select', {onchange: m.withAttr('value',download.db)}, [\n                                m('option',{value:'test', selected: download.db() === 'test'}, 'Development'),\n                                m('option',{value:'warehouse', selected: download.db() === 'warehouse'}, 'Production')\n                            ])\n                        ])\n                    ])\n                ]),\n                m('.row', [\n                    m('.col-sm-12', [\n                        m('.form-group', [\n                            dateRangePicker(download),\n                            m('p.text-muted.btn-toolbar', [\n                                dayButtonView(download, 'Last 7 Days', 7),\n                                dayButtonView(download, 'Last 30 Days', 30),\n                                dayButtonView(download, 'Last 90 Days', 90),\n                                dayButtonView(download, 'All time', 3650)\n                            ])\n                        ])\n                    ])\n                ])\n            ]),\n            m('.text-xs-right.btn-toolbar',[\n                m('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n                m('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n            ])\n        ]);\n    }\n};\n\nlet focusConfig = (element, isInitialized) => {\n    if (!isInitialized) element.focus();\n};\n\n// helper functions for the day buttons\nlet daysAgo = (days) => {\n    let d = new Date();\n    d.setDate(d.getDate() - days);\n    return d;\n};\nlet equalDates = (date1, date2) => date1.getDate() === date2.getDate();\nlet activeDate = ({startDate, endDate}, days) => equalDates(startDate(), daysAgo(days)) && equalDates(endDate(), new Date());\n\nlet dayButtonView = (download, name, days) => m('button.btn.btn-secondary.btn-sm', {\n    class: activeDate(download, days)? 'active' : '',\n    onclick: () => {\n        download.startDate(daysAgo(days));\n        download.endDate(new Date());\n    }\n}, name);\n","import {getAllDownloads, removeDownload, createDownload, STATUS_RUNNING} from './downloadsModel';\nimport createMessage from './downloadsCreate';\nimport messages from 'utils/messagesComponent';\nconst DURATION = 5000;\n\n/**\n * Get all downloads\n */\n\nexport let recursiveGetAll = debounce(getAll, DURATION);\nexport function getAll({list, cancel, error, loaded}){\n    return getAllDownloads()\n        .then(list)\n        .then(response => {\n            if (!cancel() && response.some(download => download.studyStatus === STATUS_RUNNING)) {\n                recursiveGetAll({list, cancel, error, loaded});\n            }\n        })\n        .catch(error)\n        .then(function(){loaded(true);})\n        .then(m.redraw);\n}\n\n\n// debounce but call at first iteration\nfunction debounce(func, wait) {\n    let first = true;\n    let timeout;\n    return function() {\n        var context = this, args = arguments;\n        var later = function() {\n            timeout = null;\n            func.apply(context, args);\n        };\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (first) {\n            func.apply(context, args);\n            first = false;\n        }\n    };\n}\n\n\n/**\n * Remove download\n */\n\nexport function remove(download, list) {\n    return messages.confirm({\n        header: 'Delete Request:',\n        content: [\n            'Are you sure you want to delete this request from your queue?',\n            m('.text-xs-center',\n                m('small.muted-text','(Don\\'t worry, the data will stay on our servers and you can request it again in the future)')\n            )\n        ]\n    })\n    .then(function(response){\n        if (response) return doRemove(download, list);\n    });\n}\n\nfunction doRemove(download, list){\n    list(list().filter(el => el !== download));\n    m.redraw();\n    removeDownload(download)\n        .catch(err => {\n            list().push(download);\n            return messages.alert({\n                header: 'Delete Request',\n                content: err.message\n            });\n        });\n}\n\n/**\n * Create download\n */\n\nexport function create(list, cancel, loaded){\n    let output = m.prop();\n    return createMessage({output})\n        .then(response => {\n            if (response){\n                let download = unPropify(output());\n                list().unshift(Object.assign({\n                    studyStatus: STATUS_RUNNING,\n                    creationDate: new Date()\n                },download));\n                cancel(true);\n                return createDownload(download)\n                    .catch(reportError('Error creating download'))\n                    .then(cancel.bind(null, false))\n                    .then(() => {\n                        getAll({list, cancel, loaded});\n                    });\n            }\n        });\n}\n\nlet unPropify = obj => Object.keys(obj).reduce((result, key) => {\n    result[key] = obj[key]();\n    return result;\n}, {});\n\nlet reportError = header => err => messages.alert({header, content: err.message});\n","import {STATUS_RUNNING, STATUS_COMPLETE, STATUS_ERROR} from './downloadsModel';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nimport {getAll, remove, create} from './downloadsActions';\nexport default downloadsComponent;\n\nconst TABLE_WIDTH = 7;\nconst statusLabelsMap = {}; // defined at the bottom of this file\n\nconst downloadsComponent = {\n    controller(){\n        let list = m.prop([]);\n        let loaded = m.prop(false);\n\n        let cancelDownload = m.prop(false);\n\n        const ctrl = {\n            loaded,\n            list,\n            cancelDownload,\n            create,\n            remove,\n            globalSearch: m.prop(''),\n            sortBy: m.prop('studyId'),\n            onunload(){\n                cancelDownload(true);\n            },\n            error: m.prop('')\n        };\n\n        getAll({list:ctrl.list, cancel: cancelDownload, error: ctrl.error, loaded:ctrl.loaded});\n        return ctrl;\n    },\n\n    view(ctrl) {\n\n        if (!ctrl.loaded())\n            return m('.loader');\n\n        let list = ctrl.list;\n\n        if (ctrl.error()) return m('.downloads', [\n            m('h3', 'Data Download'),\n            m('.alert.alert-warning', [\n                m('strong', 'Warning!! '), ctrl.error().message\n            ])\n        ]);\n\n        return m('.downloads', [\n            m('.row.m-b-1', [\n                m('.col-sm-6', [\n                    m('h3', 'Data Download')\n                ]),\n                m('.col-sm-3',[\n                    m('button.btn.btn-secondary.pull-right', {onclick:ctrl.create.bind(null, list, ctrl.cancelDownload, ctrl.loaded)}, [\n                        m('i.fa.fa-plus'), ' Request Data'\n                    ])\n                ]),\n                m('.col-sm-3',[\n                    m('input.form-control', {placeholder: 'Search ...', oninput: m.withAttr('value', ctrl.globalSearch)})\n                ])\n            ]),\n\n            m('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n                m('thead', [\n                    m('tr', [\n                        m('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n                        m('th', 'Data file'),\n                        m('th', thConfig('db',ctrl.sortBy), 'Database'),\n                        m('th', thConfig('fileSize',ctrl.sortBy), 'File Size'),\n                        m('th', thConfig('creationDate',ctrl.sortBy), 'Date Added'),\n                        m('th','Status'),\n                        m('th','Actions')\n                    ])\n                ]),\n                m('tbody', [\n                    list().length === 0\n                        ? m('tr.table-info', [\n                            m('td.text-xs-center', {colspan: TABLE_WIDTH}, 'There are no downloads running yet')\n                        ])\n                        : list().filter(studyFilter(ctrl)).map(download => m('tr', [\n                            // ### ID\n                            m('td', download.studyId),\n\n                            // ### Study url\n                            m('td', download.studyStatus == STATUS_RUNNING\n                                ? m('i.text-muted', 'Loading...')\n                                : download.fileSize\n                                    ? m('a', {href:download.studyUrl, download:download.studyId + '.zip', target: '_blank'}, 'Download')\n                                    : m('i.text-muted', 'No Data')\n                            ),\n\n                            // ### Database\n                            m('td', download.db),\n\n                            // ### Filesize\n                            m('td', download.fileSize !== 'unknown'\n                                ? download.fileSize\n                                : m('i.text-muted', 'Unknown')\n                            ),\n\n                            // ### Date Added\n                            m('td', [\n                                formatDate(new Date(download.creationDate)),\n                                '  ',\n                                m('i.fa.fa-info-circle'),\n                                m('.info-box', [\n                                    m('.card', [\n                                        m('.card-header', 'Creation Details'),\n                                        m('ul.list-group.list-group-flush',[\n                                            m('li.list-group-item', [\n                                                m('strong', 'Creation Date: '), formatDate(new Date(download.creationDate))\n                                            ]),\n                                            m('li.list-group-item', [\n                                                m('strong', 'Start Date: '), formatDate(new Date(download.startDate))\n                                            ]),\n                                            m('li.list-group-item', [\n                                                m('strong', 'End Date: '), formatDate(new Date(download.endDate))\n                                            ])\n                                        ])\n                                    ])\n                                ])\n                            ]),\n\n                            // ### Status\n                            m('td', [\n                                statusLabelsMap[download.studyStatus]\n                            ]),\n\n                            // ### Actions\n                            m('td', [\n                                m('.btn-group', [\n                                    m('button.btn.btn-sm.btn-secondary', {onclick: ctrl.remove.bind(null, download, list)}, [\n                                        m('i.fa.fa-close')\n                                    ])\n                                ])\n                            ])\n                        ]))\n                ])\n            ])\n        ]);\n    }\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction studyFilter(ctrl){\n    let search = ctrl.globalSearch();\n    return study =>\n        includes(study.studyId, search) ||\n        includes(study.studyUrl, search);\n\n    function includes(val, search){\n        return typeof val === 'string' && val.includes(search);\n    }\n}\n\nstatusLabelsMap[STATUS_COMPLETE] = m('span.label.label-success', 'Complete');\nstatusLabelsMap[STATUS_RUNNING] = m('span.label.label-info', 'Running');\nstatusLabelsMap[STATUS_ERROR] = m('span.label.label-danger', 'Error');\n","import {fetchJson} from 'utils/modelHelpers';\nimport {downloadsAccessUrl as url} from 'modelUrls';\n\nexport const STATUS_APPROVED = true;\nexport const STATUS_SUBMITTED = false;\n\nexport function createDataAccessRequest(dataAccessRequest){\n    let body = Object.assign({\n        action:'createDataAccessRequest'\n    }, dataAccessRequest);\n\n    return fetchJson(url, {method: 'post', body: body})\n        .then(interceptErrors);\n}\n\nexport function deleteDataAccessRequest(dataAccessRequest){\n    let body = Object.assign({\n        action:'deleteDataAccessRequest'\n    }, dataAccessRequest);\n\n    return  fetchJson(url, {method: 'post',body:body})\n        .then(interceptErrors);\n}\n\nexport function updateApproved(dataAccessRequest, approved){\n    let body = Object.assign({\n        action:'updateApproved'\n    }, dataAccessRequest,{approved: approved});\n\n    return  fetchJson(url, {method: 'post',body:body})\n        .then(interceptErrors);\n}\n\nexport function getAllOpenRequests(){\n    return fetchJson(url, {method:'post', body: {action:'getAllOpenRequests'}})\n        .then(interceptErrors);\n}\n\n\n\nfunction interceptErrors(response){\n    if (!response.error){\n        return response;\n    }\n\n    let errors = {\n        1: 'This ID already exists.',\n        2: 'The study could not be found.',\n        3: 'The rule file could not be found.',\n        4: 'The rules file does not fit the \"research\" schema.'\n    };\n\n    return Promise.reject({message: errors[response.error]});\n}\n","import messages from 'utils/messagesComponent';\nimport classNames from 'utils/classNames';\nexport default createMessage;\n\nlet createMessage = args => messages.custom({\n    content: m.component(createComponent, Object.assign({close:messages.close}, args)),\n    wide: true\n});\n\nlet createComponent = {\n    controller({output, close}){\n        let downloadAccess ={\n            studyId: m.prop('')\n        };\n\n        // export study to calling component\n        output(downloadAccess);\n\n\n        let ctrl = {\n            downloadAccess,\n            submitAttempt: false,\n            validity(){\n                let response = {\n                    studyId: downloadAccess.studyId()\n                };\n                return response;\n            },\n            ok(){\n                ctrl.submitAttempt = true;\n                let response = ctrl.validity();\n                let isValid = Object.keys(response).every(key => response[key]);\n\n                if (isValid) close(true);\n            },\n            cancel() {\n                close(null);\n            }\n        };\n\n        return ctrl;\n    },\n    view(ctrl){\n        let downloadAccess = ctrl.downloadAccess;\n        let validity = ctrl.validity();\n        let validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n        let groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n            'has-danger': !valid,\n            'has-success' : valid\n        });\n        let inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n            'form-control-danger': !valid,\n            'form-control-success': valid\n        });\n\n        return m('div',[\n            m('h4', 'Request Download Access From Admin'),\n            m('p', 'This page will request access to a study from admin.  For studies created by users you should instead email them directly for access.'),\n            m('.card-block', [\n                m('.form-group', {class:groupClasses(validity.studyId)}, [\n                    m('label', 'Study Id'),\n                    m('input.form-control', {\n                        config: focusConfig,\n                        placeholder:'Study Id',\n                        value: downloadAccess.studyId(),\n                        oninput: m.withAttr('value', downloadAccess.studyId),\n                        class:inputClasses(validity.studyId)\n                    }),\n                    validationView(validity.studyId, 'The study ID is required in order to request access.')\n                ])\n                \n                \n            ]),\n            m('.text-xs-right.btn-toolbar',[\n                m('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n                m('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n            ])\n        ]);\n    }\n};\n\nlet focusConfig = (element, isInitialized) => {\n    if (!isInitialized) element.focus();\n};\n","import messages from 'utils/messagesComponent';\nimport classNames from 'utils/classNames';\nexport default grantMessage;\n\nlet grantMessage = args => messages.custom({\n    content: m.component(grantComponent, Object.assign({close:messages.close}, args)),\n    wide: true\n});\n\nlet grantComponent = {\n    controller({output, close}){\n        let downloadAccess ={\n            studyId: m.prop(''),\n            username: m.prop('')\n        };\n\n        // export study to calling component\n        output(downloadAccess);\n\n\n        let ctrl = {\n            downloadAccess,\n            submitAttempt: false,\n            validity(){\n                let response = {\n                    studyId: downloadAccess.studyId(),\n                    username: downloadAccess.username()\n                };\n                return response;\n            },\n            ok(){\n                ctrl.submitAttempt = true;\n                let response = ctrl.validity();\n                let isValid = Object.keys(response).every(key => response[key]);\n\n                if (isValid) close(true);\n            },\n            cancel() {\n                close(null);\n            }\n        };\n\n        return ctrl;\n    },\n    view(ctrl){\n        let downloadAccess = ctrl.downloadAccess;\n        let validity = ctrl.validity();\n        let validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n        let groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n            'has-danger': !valid,\n            'has-success' : valid\n        });\n        let inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n            'form-control-danger': !valid,\n            'form-control-success': valid\n        });\n\n        return m('div',[\n            m('h4', 'Grant Data Access'),\n            m('.card-block', [\n                m('.form-group', {class:groupClasses(validity.studyId)}, [\n                    m('label', 'Study Id'),\n                    m('input.form-control', {\n                        config: focusConfig,\n                        placeholder:'Study Id',\n                        value: downloadAccess.studyId(),\n                        oninput: m.withAttr('value', downloadAccess.studyId),\n                        class:inputClasses(validity.studyId)\n                    }),\n                    m('label', 'Username'),\n                    m('input.form-control', {\n                        config: focusConfig,\n                        placeholder:'Username',\n                        value: downloadAccess.username(),\n                        oninput: m.withAttr('value', downloadAccess.username),\n                        class:inputClasses(validity.username)\n                    }),\n                    validationView(validity.studyId, 'The study ID is required in order to grant access.'),\n                    validationView(validity.username, 'The username is required in order to grant access.')\n                ])\n                \n                \n            ]),\n            m('.text-xs-right.btn-toolbar',[\n                m('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n                m('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n            ])\n        ]);\n    }\n};\n\nlet focusConfig = (element, isInitialized) => {\n    if (!isInitialized) element.focus();\n};\n\n","import messages from 'utils/messagesComponent';\nimport classNames from 'utils/classNames';\nexport default revokeMessage;\n\nlet revokeMessage = args => messages.custom({\n    content: m.component(revokeComponent, Object.assign({close:messages.close}, args)),\n    wide: true\n});\n\nlet revokeComponent = {\n    controller({output, close}){\n        let downloadAccess ={\n            studyId: m.prop(''),\n            username: m.prop('')\n        };\n\n        // export study to calling component\n        output(downloadAccess);\n\n\n        let ctrl = {\n            downloadAccess,\n            submitAttempt: false,\n            validity(){\n                let response = {\n                    studyId: downloadAccess.studyId(),\n                    username: downloadAccess.username()\n                };\n                return response;\n            },\n            ok(){\n                ctrl.submitAttempt = true;\n                let response = ctrl.validity();\n                let isValid = Object.keys(response).every(key => response[key]);\n\n                if (isValid) close(true);\n            },\n            cancel() {\n                close(null);\n            }\n        };\n\n        return ctrl;\n    },\n    view(ctrl){\n        let downloadAccess = ctrl.downloadAccess;\n        let validity = ctrl.validity();\n        let validationView = (isValid, message) => isValid || !ctrl.submitAttempt ? '' : m('small.text-muted', message);\n        let groupClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n            'has-danger': !valid,\n            'has-success' : valid\n        });\n        let inputClasses = valid => !ctrl.submitAttempt ? '' : classNames({\n            'form-control-danger': !valid,\n            'form-control-success': valid\n        });\n\n        return m('div',[\n            m('h4', 'Revoke Data Access'),\n            m('.card-block', [\n                m('.form-group', {class:groupClasses(validity.studyId)}, [\n                    m('label', 'Study Id'),\n                    m('input.form-control', {\n                        config: focusConfig,\n                        placeholder:'Study Id',\n                        value: downloadAccess.studyId(),\n                        oninput: m.withAttr('value', downloadAccess.studyId),\n                        class:inputClasses(validity.studyId)\n                    }),\n                    m('label', 'Username'),\n                    m('input.form-control', {\n                        config: focusConfig,\n                        placeholder:'Username',\n                        value: downloadAccess.username(),\n                        oninput: m.withAttr('value', downloadAccess.username),\n                        class:inputClasses(validity.username)\n                    }),\n                    validationView(validity.studyId, 'The study ID is required in order to revoke access.'),\n                    validationView(validity.username, 'The username is required in order to revoke access.')\n                ])\n                \n                \n            ]),\n            m('.text-xs-right.btn-toolbar',[\n                m('a.btn.btn-secondary.btn-sm', {onclick:ctrl.cancel}, 'Cancel'),\n                m('a.btn.btn-primary.btn-sm', {onclick:ctrl.ok}, 'OK')\n            ])\n        ]);\n    }\n};\n\nlet focusConfig = (element, isInitialized) => {\n    if (!isInitialized) element.focus();\n};\n\n","import {createDataAccessRequest, deleteDataAccessRequest, updateApproved, STATUS_APPROVED} from './downloadsAccessModel';\nimport messages from 'utils/messagesComponent';\nimport createMessage from './downloadsAccessCreateComponent';\nimport grantMessage from './downloadsAccessGrantComponent';\nimport revokeMessage from './downloadsAccessRevokeComponent';\n\nexport function play(downloadAccess, list){\n    return messages.confirm({\n        header: 'Approve Access Request:',\n        content: `Are you sure you want to grant access of '${downloadAccess.studyId}' to '${downloadAccess.username}'?`\n    })\n    .then(response => {\n        if(response) {\n            return updateApproved(downloadAccess, STATUS_APPROVED)\n                .then(() => list(list().filter(el => el !== downloadAccess)))\n                .then(messages.alert({header:'Grant access completed', content: 'Access granted'}))\n                .catch(reportError('Grant Access'))\n                .then(m.redraw());\n        }\n    });\n}\n\n\nexport let remove  = (downloadAccess, list) => {\n    return messages.confirm({\n        header: 'Delete request:',\n        content: `Are you sure you want to delete the access request for'${downloadAccess.studyId}'? If access has already been granted you will lose it`\n    })\n    .then(response => {\n        if(response) {\n            \n            return deleteDataAccessRequest(downloadAccess)\n                .then(() => list(list().filter(el => el !== downloadAccess)))\n                .then(messages.alert({header:'Deletion complete', content: 'Access has been deleted'}))\n                .catch(reportError('Remove Download Request'))\n                .then(m.redraw());\n\n        }\n    });\n};\nexport let grant = () => {\n    let output = m.prop();\n    return grantMessage({output})\n    .then(response => {\n        if (response) {\n            var now = new Date();\n            let downloadAccess = Object.assign({\n                approved: STATUS_APPROVED,\n                creationDate: now\n            }, null, unPropify(output()));\n            return createDataAccessRequest(downloadAccess)\n            .then(messages.alert({header:'Grant access completed', content: 'Access granted'}))\n            .catch(reportError('Grant Access'));\n        }\n    });\n};\nexport let revoke = () => {\n    let output = m.prop();\n    return revokeMessage({output})\n    .then(response => {\n        if (response) {\n            var now = new Date();\n            let downloadAccess = Object.assign({\n                creationDate: now\n            }, null, unPropify(output()));\n            return deleteDataAccessRequest(downloadAccess)\n            .then(messages.alert({header:'Revoke access completed', content: 'Access revoked'}))\n            .catch(reportError('Revoke Access'));\n        }\n    });\n};\nexport let create = (list) => {\n    let output = m.prop();\n    return createMessage({output})\n        .then(response => {\n            if (response) {\n                var now = new Date();\n                let downloadAccess = Object.assign({\n                    creationDate: now,\n                    approved: 'access pending'\n                }, null, unPropify(output()));\n                return createDataAccessRequest(downloadAccess)\n                    .then(() => list().unshift(downloadAccess))\n                    .then(m.redraw)\n                    .catch(reportError('Data Access Request'));\n            }\n        });\n};\n\nlet reportError = header => err => messages.alert({header, content: err.message});\n\nlet unPropify = obj => Object.keys(obj).reduce((result, key) => {\n    result[key] = obj[key]();\n    return result;\n}, {});\n","import {getAllOpenRequests, STATUS_APPROVED, STATUS_SUBMITTED} from './downloadsAccessModel';\nimport {play, remove, create, grant, revoke} from './downloadsAccessActions';\nimport {getAuth} from 'login/authModel';\nimport sortTable from 'utils/sortTable';\nimport formatDate from 'utils/formatDate';\nexport default downloadsAccessComponent;\n\nconst TABLE_WIDTH = 6;\n\nlet downloadsAccessComponent = {\n    controller: () => {\n        const ctrl = {\n            play: play,\n            loaded: m.prop(false),\n            remove: remove,\n            create: create,\n            grant: grant,\n            revoke: revoke,\n            list: m.prop([]),\n            globalSearch: m.prop(''),\n            sortBy: m.prop(),\n            error: m.prop(''),\n            isAdmin: false\n        };\n        getAuth().then((response) => {ctrl.isAdmin = response.role === 'SU';});\n\n        getAllOpenRequests()\n            .then(ctrl.list)\n            .catch(ctrl.error)\n            .then(function(){ctrl.loaded(true);})\n            .then(m.redraw);\n\n        return ctrl;\n    },\n    view: ctrl => {\n        if (!ctrl.loaded())\n            return m('.loader');\n\n        let list = ctrl.list;\n        return m('.downloadAccess', [\n            m('h3', 'Data Download Access Requests'),\n            m('p.col-xs-12.text-muted', [\n                m('small', [\n                    ctrl.isAdmin\n                        ? 'Approve requests by clicking the Play button; Reject requests by clicking the X button; To grant permission without a request: hit the Grant Access button; For all actions: The user will be notified by email.'\n                        : 'You will receive an email when your request is approved or rejected; To cancel a request, click the X button next to the request'\n                ])\n            ]),\n            ctrl.error()\n                ?\n                m('.alert.alert-warning',\n                    m('strong', 'Warning!! '), ctrl.error().message\n                )\n                :\n                m('table', {class:'table table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n                    m('thead', [\n                        m('tr', [ \n                            m('th', {colspan: TABLE_WIDTH}, [ \n                                m('.row', [\n                                    m('.col-xs-3.text-xs-left', [\n                                        m('button.btn.btn-secondary', {disabled: ctrl.isAdmin, onclick:ctrl.isAdmin || ctrl.create.bind(null, list)}, [\n                                            m('i.fa.fa-plus'), '  Request Access From Admin'\n                                        ])\n                                    ]),\n                                    m('.col-xs-2.text-xs-left', [\n                                        m('button.btn.btn-secondary', {onclick:ctrl.grant.bind(null, list)}, [\n                                            m('i.fa.fa-plus'), '  Grant Access'\n                                        ])\n                                    ])\n                                    ,m('.col-xs-2.text-xs-left', [\n                                        ctrl.isAdmin ? m('button.btn.btn-secondary', {onclick:ctrl.revoke.bind(null, list)}, [\n                                            m('i.fa.fa-plus'), '  Revoke Access'\n                                        ]) : ''\n                                    ]),\n                                    m('.col-xs-5.text-xs-left', [\n                                        m('input.form-control', {placeholder: 'Global Search ...', oninput: m.withAttr('value', ctrl.globalSearch)})\n                                    ])\n                                ])\n                            ])\n                        ]),\n\n                        m('tr', [\n                            m('th', thConfig('studyId',ctrl.sortBy), 'ID'),\n                            m('th', thConfig('username',ctrl.sortBy), 'Username'),\n                            m('th', thConfig('email',ctrl.sortBy), 'Email'),\n                            m('th', thConfig('creationDate',ctrl.sortBy), 'Date'),\n                            m('th','Status'),\n                            m('th','Actions')\n                        ])\n                    ]),\n                    m('tbody', [\n                        list().length === 0\n                            ?\n                            m('tr.table-info',\n                                m('td.text-xs-center', {colspan: TABLE_WIDTH},\n                                    m('strong', 'Heads up! '), 'There are no requests yet'\n                                )\n                            )\n                            :\n                            list().filter(dataRequestFilter(ctrl)).map(dataRequest => m('tr', [\n                                // ### ID\n                                m('td', dataRequest.studyId),\n                                \n                                // ### USERNAME\n                                m('td', dataRequest.username),\n                                \n                                // ### EMAIL\n                                m('td', dataRequest.email),\n\n                                // ### Date\n                                m('td', formatDate(new Date(dataRequest.creationDate))),\n                                dataRequest.approved=== STATUS_APPROVED\n                                    ?\n                                    m('td', {style:'color:green'},'access granted')\n                                    :\n                                    m('td', {style:'color:red'},'access pending'),\n\n                                // ### Actions\n                                m('td', [\n                                    m('.btn-group', [\n                                        dataRequest.canApprove && dataRequest.approved === STATUS_SUBMITTED ? m('button.btn.btn-sm.btn-secondary', {title:'Approve request, and auto email requester',onclick: ctrl.play.bind(null, dataRequest,list)}, [\n                                            m('i.fa.fa-play')\n                                        ]) : '',\n                                        dataRequest.canDelete ? m('button.btn.btn-sm.btn-secondary', {title:'Delete request.  If this is a granted request owner will lose access to it',onclick: ctrl.remove.bind(null, dataRequest, list)}, [\n                                            m('i.fa.fa-close')\n                                        ]) : ''\n                                    ])\n                                ])\n                            ]))\n                    ])\n                ])\n        ]);\n    }\n};\n\n// @TODO: bad idiom! should change things within the object, not the object itself.\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nfunction dataRequestFilter(ctrl){\n    return dataRequest =>\n        includes(dataRequest.studyId, ctrl.globalSearch()) ||\n        includes(dataRequest.username, ctrl.globalSearch()) ||\n        includes(dataRequest.email, ctrl.globalSearch());\n\n    function includes(val, search){\n        return typeof val === 'string' && val.includes(search);\n    }\n}\n","export default fullHeight;\nlet fullHeight = (element, isInitialized, ctx) => {\n    if (!isInitialized){\n        onResize();\n\n        window.addEventListener('resize', onResize, true);\n\n        ctx.onunload = function(){\n            window.removeEventListener('resize', onResize);\n        };\n\n    }\n\n    function onResize(){\n        element.style.height = document.documentElement.clientHeight - element.getBoundingClientRect().top + 'px';\n    }\n};\n","import {login, getAuth} from './authModel';\nimport fullHeight from 'utils/fullHeight';\nexport default loginComponent;\n\nlet loginComponent = {\n    controller(){\n        const ctrl = {\n            username:m.prop(''),\n            password:m.prop(''),\n            isloggedin: false,\n            loginAction,\n            error: m.prop('')\n        };\n        is_loggedin();\n        return ctrl;\n\n        function loginAction(){\n            if(ctrl.username() && ctrl.password())\n                login(ctrl.username, ctrl.password)\n                    .then(() => {\n                        m.route(!location.hash ? './' : decodeURIComponent(location.hash).substring(1));\n                    })\n                    .catch(response => {\n                        ctrl.error(response.message);\n                        m.redraw();\n                    })\n                ;\n        }\n\n        function is_loggedin(){\n            getAuth().then((response) => {\n                if(response.isloggedin)\n                    m.route('./');\n            });\n        }\n    },\n    view(ctrl){\n        return m('.login.centrify', {config:fullHeight},[\n            m('.card.card-inverse.col-md-4', [\n                m('.card-block',[\n                    m('h4', 'Please sign in'),\n\n                    m('form', {onsubmit:ctrl.loginAction}, [\n                        m('input.form-control', {\n                            type:'username',\n                            placeholder: 'Username / Email',\n                            value: ctrl.username(),\n                            name: 'username',\n                            autofocus:true,\n                            oninput: m.withAttr('value', ctrl.username),\n                            onkeydown: (e)=>{(e.keyCode == 13) ? ctrl.loginAction(): false;},\n                            onchange: m.withAttr('value', ctrl.username),\n                            config: getStartValue(ctrl.username)\n                        }),\n                        m('input.form-control', {\n                            type:'password',\n                            name:'password',\n                            placeholder: 'Password',\n                            value: ctrl.password(),\n                            oninput: m.withAttr('value', ctrl.password),\n                            onkeydown: (e)=>{(e.keyCode == 13) ? ctrl.loginAction(): false;},\n                            onchange: m.withAttr('value', ctrl.password),\n                            config: getStartValue(ctrl.password)\n                        })\n                    ]),\n\n                    !ctrl.error() ? '' : m('.alert.alert-warning', m('strong', 'Error: '), ctrl.error()),\n                    m('button.btn.btn-primary.btn-block', {onclick: ctrl.loginAction},'Sign in'),\n                    m('p.text-center',\n                        m('small.text-muted',  m('a', {href:'index.html?/recovery'}, 'Lost your password?'))\n                    )\n                ])\n            ])\n        ]);\n    }\n};\n\nfunction getStartValue(prop){\n    return (element, isInit) => {// !isInit && prop(element.value);\n        if (!isInit) setTimeout(()=>prop(element.value), 30);\n    };\n}\n","export default jshintOptions;\nvar jshintOptions = {\n    // JSHint Default Configuration File (as on JSHint website)\n    // See http://jshint.com/docs/ for more details\n\n    'curly'         : false,    // true: Require {} for every new block or scope\n    'latedef'       : 'nofunc', // true: Require variables/functions to be defined before being used\n    'undef'         : true,     // true: Require all non-global variables to be declared (prevents global leaks)\n    'unused'        : 'vars',   // Unused variables:\n    'strict'        : false,    // true: Requires all functions run in ES5 Strict Mode\n\n    'browser'       : true,     // Web Browser (window, document, etc)\n    'devel'         : true,     // Development/debugging (alert, confirm, etc)\n\n    esversion   : 3,        // Require es3 syntax for backward compatibility\n\n    // Custom Globals\n    predef: ['piGlobal','define','require','requirejs','angular']\n};\n","import jshintOptions from './editors/jshintOptions';\nimport {fetchVoid, fetchJson} from 'utils/modelHelpers';\nimport {baseUrl} from 'modelUrls';\nexport default fileFactory;\n\nlet filePrototype = {\n    apiUrl(){\n\n        return `${baseUrl}/files/${encodeURIComponent(this.studyId)}/file/${encodeURIComponent(this.id)}`;\n    },\n\n    get(){\n        return fetchJson(this.apiUrl())\n            .then(response => {\n                const content = response.content\n                    .replace(/\\r\\n/g, '\\n') // Replace carriage returns \n                    .replace(/([^\\n])$/,'$1\\n'); //  Make sure all files are unix EOF encoded...\n\n                this.sourceContent(content);\n                this.content(content);\n                this.loaded = true;\n                this.error = false;\n                this.last_modify = response.last_modify;\n\n            })\n            .catch(reason => {\n                this.loaded = true;\n                this.error = true;\n                return Promise.reject(reason); // do not swallow error\n            });\n    },\n\n    save(){\n\n\n        return fetchJson(this.apiUrl(), {\n            method:'put',\n            body: {content: this.content, last_modify:this.last_modify}\n        })\n            .then(response => {\n                this.sourceContent(this.content()); // update source content\n                this.last_modify = response.last_modify;\n                return response;\n            });\n    },\n\n    move(path, study){\n        let basePath = (path.substring(0, path.lastIndexOf('/')));\n        let folderExists = basePath === '' || study.files().some(f => f.isDir && f.path === basePath);\n\n        if (!folderExists) return Promise.reject({message: `Folder ${basePath} does not exist.`});\n        if (study.files().some(f=>f.path === path)) return Promise.reject({message: `File ${path} already exists.`});\n\n\n        let oldPath = this.path;\n        this.setPath(path);\n        this.content(this.content()); // in case where changing into a file type that needs syntax checking\n\n        return fetchJson(this.apiUrl() + `/move/` , {\n            method:'put',\n            body: {path, url:this.url}\n        })\n            .then(response => {\n                this.id = response.id;\n                this.url = response.url;\n            })\n            .catch(response => {\n                this.setPath(oldPath);\n                return Promise.reject(response);\n            });\n    },\n\n    copy(path, study_id, new_study_id){\n        return fetchJson(this.apiUrl() + `/copy/`, {\n            method:'put',\n            body: {new_study_id}\n        })\n            .catch(response => {\n                return Promise.reject(response);\n            });\n    },\n\n    del(){\n        return fetchVoid(this.apiUrl(), {method:'delete'});\n    },\n\n\n    hasChanged() {\n        return this.sourceContent() !== this.content();\n    },\n\n    define(context = window){\n        var requirejs = context.requirejs;\n        var name = this.url;\n        var content = this.content();\n\n        return new Promise((resolve) => {\n            requirejs.undef(name);\n            context.eval(content.replace(`define(`,`define('` + name + `',`));\n            resolve();\n        });\n    },\n\n    require(context = window){\n        var requirejs = context.requirejs;\n        return new Promise((resolve, reject) => {\n            requirejs([this.url], resolve,reject);\n        });\n    },\n\n    checkSyntax(){\n        var jshint = window.JSHINT;\n        this.syntaxValid = jshint(this.content(), jshintOptions);\n        this.syntaxData = jshint.data();\n        return this.syntaxValid;\n    },\n\n    setPath(path = ''){\n        this.path = path;\n        this.name = path.substring(path.lastIndexOf('/')+1);\n        this.basePath = (path.substring(0, path.lastIndexOf('/'))) + '/';\n        this.type = path.substring(path.lastIndexOf('.')+1).toLowerCase();\n    }\n};\n\n/**\n * fileObj = {\n *  id: #hash,\n *  path: path,     \n *  url: URL\n * }\n */\n\nconst fileFactory = fileObj => {\n    let file = Object.create(filePrototype);\n    let path = decodeURIComponent(fileObj.path);\n\n\n    file.setPath(path);\n\n    Object.assign(file, fileObj, {\n        id          : fileObj.id,\n        sourceContent       : m.prop(fileObj.content || ''),\n        content         : contentProvider.call(file, fileObj.content || ''), // custom m.prop, alows checking syntax on change\n\n        // keep track of loaded state\n        loaded          : false,\n        error           : false,\n\n        // these are defined when calling checkSyntax\n        syntaxValid     : undefined,\n        syntaxData      : undefined,\n\n        undoManager     : m.prop(), // a prop to keep track of the ace-editor undo manager for this file\n        position        : m.prop() // a prop to keep track of the ace-editor position in this file\n    });\n\n    file.content(fileObj.content || '');\n\n    if (fileObj.files) file.files = fileObj.files.map(fileFactory).map(file => Object.assign(file, {studyId: fileObj.studyId}));\n\n    return file;\n\n    function contentProvider (store) {\n        var prop = (...args) => {\n            if (args.length) {\n                store = args[0];\n                this.type === 'js' && this.checkSyntax();\n            }\n            return store;\n        };\n        prop.toJSON = () => store;\n        return prop;\n    }\n};\n","import {fetchJson, fetchVoid, fetchUpload} from 'utils/modelHelpers';\nimport fileFactory from './fileModel';\nexport default studyFactory;\nimport {baseUrl} from 'modelUrls';\n\nconst studyPrototype = {\n    loaded: false,\n    isUploading: false,\n    apiURL(path = ''){\n        return `${baseUrl}/files/${encodeURIComponent(this.id)}${path}`;\n    },\n\n    get(){\n        return fetchJson(this.apiURL())\n            .then(study => {\n                const files = this.parseFiles(study.files).map(fileFactory);\n\n                this.loaded = true;\n                this.isReadonly = study.is_readonly || study.is_locked;\n                this.istemplate = study.is_template;\n                this.is_locked = study.is_locked;\n                this.is_published = study.is_published;\n                this.is_public = study.is_public;\n                this.name = study.study_name;\n                this.type = study.type || 'minno02';\n                this.base_url = study.base_url;\n                this.versions = study.versions ? study.versions : [];\n                this.files(files);\n                this.sort();\n            })\n            .catch(reason => {\n                this.error = true;\n                return Promise.reject(reason); // do not swallow error\n            });\n\n\n    },\n\n    parseFiles(files){\n        const study = this;\n        if (!files) return [];\n        return ensureArray(files)\n            .map(spreadFile)\n            .reduce(flatten, [])\n            .map(assignStudyId);\n\n        function ensureArray(arr){ return arr || []; }\n        function flatten(acc, val){ return acc.concat(val); }\n        function assignStudyId(file){ return Object.assign(file, {studyId: study.id}); }\n\n        // create an array including file and all its children\n        function spreadFile(file){ return [file].concat(study.parseFiles(file.files)); }\n    },\n\n    getFile(id){\n        return this.files().find(f => f.id === id);\n    },\n\n    // makes sure not to return both a folder and its contents.\n    // This is important mainly for server side clarity (don't delete or download both a folder and its content)\n    // We go recurse through all the files, starting with those sitting in root (we don't have a root node, so we need to get them manually).\n    getChosenFiles(){\n        const vm = this.vm;\n        const rootFiles = this.files().filter(f => f.basePath === '/');\n        return getChosen(rootFiles);\n\n        function getChosen(files){\n            return files.reduce((response, file) => {\n                // a chosen file/dir does not need sub files to be checked\n                if (vm(file.id).isChosen() === 1) response.push(file);\n                // if not chosen, we need to look deeper\n                else response = response.concat(getChosen(file.files || []));\n                return response;\n            }, []);\n        }\n    },\n\n    addFile(file){\n        const files = this.files();\n        files.push(file);\n\n        // update the parent folder\n        const parent = this\n            .getParents(file)\n            .reduce((result, f) => result && (result.path.length > f.path.length) ? result : f , null); \n\n        if (parent) {\n            parent.files || (parent.files = []);\n            parent.files.push(file);\n        }\n    },\n\n    createFile({name, content='',isDir}){\n        // validation (make sure there are no invalid characters)\n        if(/[^\\/-_.A-Za-z0-9]/.test(name)) return Promise.reject({message: `The file name \"${name}\" is not valid`});\n\n        // validation (make sure file does not already exist)\n        const exists = this.files().some(file => file.path === name);\n        if (exists) return Promise.reject({message: `The file \"${name}\" already exists`});\n\n        // validateion (make sure direcotry exists)\n        const basePath = (name.substring(0, name.lastIndexOf('/'))).replace(/^\\//, '');\n        const dirExists = basePath === '' || this.files().some(file => file.isDir && file.path === basePath);\n        if (!dirExists) return Promise.reject({message: `The directory \"${basePath}\" does not exist`});\n        return fetchJson(this.apiURL('/file'), {method:'post', body: {name, content, isDir}})\n            .then(response => {\n                Object.assign(response, {studyId: this.id, content, path:name, isDir});\n                const file = fileFactory(response);\n                file.loaded = true;\n                this.addFile(file);\n                return response;\n            })\n            .then(this.sort.bind(this));\n    },\n\n    sort(response){\n        let files = this.files().sort(sort);\n        this.files(files);\n        return response;\n\n        function sort(a,b){\n            // sort by isDir then name\n            let nameA= +!a.isDir + a.name.toLowerCase(), nameB=+!b.isDir + b.name.toLowerCase();\n            if (nameA < nameB) return -1;//sort string ascending\n            if (nameA > nameB) return 1;\n            return 0; //default return value (no sorting)\n        }\n    },\n\n    uploadFiles({path, fd, force}){\n        fd.append('forceUpload', +force);\n        this.isUploading = true;\n        m.redraw();\n\n        return fetchUpload(this.apiURL(`/upload/${path === '/' ? '' : encodeURIComponent(path)}`), {method:'post', body:fd})\n            .then(this.parseFiles.bind(this))\n            .then(newfiles => {\n                let oldfiles = this.files();\n\n                return newfiles\n                    .filter(newfile => !oldfiles.some(oldfile => oldfile.path == newfile.path))\n                    .map(newfile => Object.assign({studyId: this.id},newfile))\n                    .map(fileFactory)\n                    .forEach(this.addFile.bind(this));\n            })\n            .then(this.sort.bind(this))\n            .then(() => this.isUploading = false)\n            .catch(() => this.isUploading = false);\n    },\n\n    /*\n     * @param files [Array] a list of file.path to download\n     * @returns url [String] the download url\n     */\n    downloadFiles(files){\n        return fetchJson(this.apiURL(), {method: 'post', body: {files}})\n            .then(response => `${baseUrl}/download?path=${response.zip_file}&study=_PATH`);\n    },\n\n    delFiles(files){\n        let paths = files.map(f=>f.path);\n        return fetchVoid(this.apiURL(), {method: 'delete', body: {files:paths}})\n            .then(() => this.removeFiles(files));\n    },\n\n    removeFiles(files){\n        // for cases that we remove a directory without explicitly removing the children (this will cause redundancy, but it shouldn't affect us too much\n        let children = files.reduce((arr, f) => arr.concat(this.getChildren(f).map(f=>f.path)),[]);\n        // get all files not to be deleted\n        let filesList = this.files() .filter(f => children.indexOf(f.path) === -1); \n        files.forEach(file => {\n            let parent = this.getParents(file).reduce((result, f) => result && (result.path.length > f.path.length) ? result : f , null); \n            if (parent) {\n                let index = parent.files.indexOf(file);\n                parent.files.splice(index, 1);\n            }\n        });\n\n        this.files(filesList);\n    },\n\n    make_experiment(file, descriptive_id){\n        return fetchJson(this.apiURL(`/file/${file.id}/experiment`),\n                        {method: 'post', body: {descriptive_id:descriptive_id}}).then((exp_data)=>file.exp_data=exp_data);\n    },\n\n    delete_experiment(file){\n        return fetchVoid(this.apiURL(`/file/${file.id}/experiment`),\n            {method: 'delete'});\n    },\n\n    update_experiment(file, descriptive_id){\n        return fetchVoid(this.apiURL(`/file/${file.id}/experiment`),\n            {method: 'put', body: {descriptive_id:descriptive_id}});\n    },\n\n    getParents(file){\n        return this.files().filter(f => f.isDir && file.basePath.indexOf(f.path) === 0);\n    },\n\n    // returns array of children for this file, including itself\n    getChildren(file){\n        return children(file);\n       \n        function children(file){\n            if (!file.files) return [file];\n            return file.files\n                .map(children) // harvest children\n                .reduce((result, files) => result.concat(files), [file]); // flatten\n        }\n    }\n};\n\nconst studyFactory =  id =>{\n    const study = Object.create(studyPrototype);\n    Object.assign(study, {\n        id      : id,\n        files   : m.prop([]),\n        loaded  : false,\n        error   :false,\n        vm      : viewModelMap({\n            isOpen: m.prop(false),\n            isChanged: m.prop(false),\n            isChosen: m.prop(0)\n        })\n    });\n\n    return study;\n};\n\n// http://lhorie.github.io/mithril-blog/mapping-view-models.html\nconst viewModelMap = function(signature) {\n    const map = {};\n    return function(key) {\n        if (!map[key]) {\n            map[key] = {};\n            for (let prop in signature) map[key][prop] = m.prop(signature[prop]());\n        }\n        return map[key];\n    };\n};\n","export default imgEditor;\n\nlet imgEditor = ({file}) => m('div.img-editor.centrify', [\n    m('img', {src:file.url})\n]);","export default pdfEditor;\n\nlet pdfEditor = ({file}) => m('object', {\n    data: file.url,\n    type: 'application/pdf',\n    width: '100%',\n    height: '100%'\n}, [\n    m('embed', {src: file.url, type: 'application/pdf'}, 'Your browser does not support PDF')\n]);\n\n","export default unknownComponent;\n\nlet unknownComponent = () => m('.centrify', [\n    m('i.fa.fa-file.fa-5x'),\n    m('h5', 'Unknow file type')\n]);","// download support according to modernizer\nconst downloadSupport = !window.externalHost && 'download' in document.createElement('a');\n\nexport default downloadLink;\n\nconst downloadLink = (url, name) => {\n    if (downloadSupport){\n        let link = document.createElement('a');\n        link.href = url;\n        link.download = name;\n        link.target = '_blank';\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n    } else {\n        let win = window.open(url, '_blank');\n        win.focus();\n    }\n};\n","import classNames from 'utils/classNames';\nexport default moveFileComponent;\n\nconst moveFileComponent = args => m.component(component, args);\n\n\nconst component = {\n    controller({study}){\n        const dirs = study\n            .files()\n            .filter(file => file.isDir)\n            .map(({name, basePath, path, id}) => ({name, basePath, path, id, isOpen: m.prop(study.vm(id).isOpen())}))\n            .reduce((hash, dir)=>{\n                let path = dir.basePath;\n                if (!hash[path]) hash[path] = [];\n                hash[path].push(dir);\n                return hash;\n            }, {'/': []});\n\n\n        const root = {isOpen: m.prop(true), name:'/', path: '/'};\n        return {root, dirs};\n    },\n    view({dirs, root}, {newPath}){\n        return m('.card-block', [\n            m('p.card-text', [\n                m('strong', 'Moving to: '),\n                dirName(newPath())\n            ]),\n            m('.folders-well', [\n                m('ul.list-unstyled', dirNode(root, dirs, newPath) )\n            ])\n        ]);\n    }\n};\n\n\nfunction dirNode(dir, dirs, newPath){\n    const children = dirs[dir.path.replace(/\\/?$/, '/')]; // optionally add a backslash at the end\n    return m('li', [\n        m('i.fa.fa-fw', {\n            onclick: () => dir.isOpen(!dir.isOpen()),\n            class: classNames({\n                'fa-caret-right' : children && !dir.isOpen(),\n                'fa-caret-down': children && dir.isOpen()\n            })\n        }),\n        m('span', {onclick: () => newPath(dir.path)}, [\n            m('i.fa.fa-folder-o.m-r-1'),\n            dirName(dir.name)\n        ]),\n        !children || !dir.isOpen() ? '' : m('ul.bulletless', children.map(d => dirNode(d, dirs, newPath)))\n    ]);\n}\n\nfunction dirName(name){\n    return name === '/' ? m('span.text-muted', 'Root Directory') : name;\n}\n","import {fetchJson} from 'utils/modelHelpers';\nimport {templatesUrl, studyUrl as baseUrl} from 'modelUrls';\n\n\nfunction get_url(study_id) {\n    return `${baseUrl}/${encodeURIComponent(study_id)}`;\n}\n\nfunction get_duplicate_url(study_id) {\n    return `${baseUrl}/${encodeURIComponent(study_id)}/copy`;\n}\n\n\nfunction get_exps_url(study_id) {\n    return `${baseUrl}/${encodeURIComponent(study_id)}/experiments`;\n}\n\nfunction get_lock_url(study_id , lock) {\n\n    if (lock)\n        return `${baseUrl}/${encodeURIComponent(study_id)}/lock`;\n    return `${baseUrl}/${encodeURIComponent(study_id)}/unlock`;\n}\n\nfunction get_publish_url(study_id) {\n    return `${baseUrl}/${encodeURIComponent(study_id)}/publish`;\n}\n\n/*CRUD*/\nexport let load_studies = () => fetchJson(baseUrl);\n\nexport let load_templates = () => fetchJson(templatesUrl);\n\nexport let create_study = body => fetchJson(baseUrl, { method: 'post', body });\n\nexport let get_exps = (study_id) => fetchJson(get_exps_url(study_id));\n\nexport let get_data = (study_id, exp_id, version_id, file_format, file_split, start_date, end_date) => fetchJson(get_exps_url(study_id), {\n    method: 'post',\n    body: {exp_id, version_id, file_format, file_split, start_date, end_date}\n})\n;\n\nexport const update_study = (study_id, body) => fetchJson(get_url(study_id), {\n    method: 'put',\n    body\n});\n\nexport const rename_study = (study_id, study_name) => fetchJson(`${get_url(study_id)}/rename`, {\n    method: 'put',\n    body: {study_name}\n});\n\nexport let duplicate_study = (study_id, study_name) => fetchJson(get_duplicate_url(study_id), {\n    method: 'put',\n    body: {study_name}\n});\n\nexport let lock_study = (study_id, lock) => fetchJson(get_lock_url(study_id, lock), {\n    method: 'post'\n});\n\nexport let publish_study = (study_id, publish, update_url) => fetchJson(get_publish_url(study_id), {\n    method: 'post',\n    body: {publish, update_url}\n});\n\nexport let delete_study = (study_id) => fetchJson(get_url(study_id), {method: 'delete'});\n\n","import {load_studies} from 'study/studyModel';\n\nexport default args => m.component(copyFileComponent, args);\n\nlet copyFileComponent = {\n    controller({new_study_id, study_id}){\n        let studies = m.prop([]);\n        let loaded = m.prop(false);\n        let error = m.prop(null);\n        load_studies()\n            .then(response => studies(response.studies.sort(sort_studies_by_name2).filter(template_filter())))\n            .catch(error)\n            .then(loaded.bind(null, true))\n            .then(m.redraw);\n        return {studies, study_id, new_study_id, loaded, error};\n    },\n    view: ({studies, study_id, new_study_id, loaded, error}) => m('div', [\n        loaded() ? '' : m('.loader'),\n        error() ? m('.alert.alert-warning', error().message): '',\n\n        loaded() && !studies().length ? m('.alert.alert-info', 'You have no studies yet') : '',\n\n        m('select.form-control', {value:new_study_id(), onchange: m.withAttr('value',new_study_id)}, [\n            m('option',{value:'', disabled: true}, 'Select Study'),\n            studies()\n                .filter(study => !study.is_locked && !study.is_public && !study.isReadonly && study.permission!=='read only' && study.id!=study_id())\n                .map(study => m('option',{value:study.id, selected: new_study_id() === study.id}, study.name))\n        ])\n    ])\n};\n\n\n\nfunction sort_studies_by_name2(study1, study2){\n    return study1.name.toLowerCase() === study2.name.toLowerCase() ? 0 : study1.name.toLowerCase() > study2.name.toLowerCase() ? 1 : -1;\n}\n\nlet template_filter = () => study => {\n    return study.study_type === 'regular' && !study.is_template;\n};\n","import messages from 'utils/messagesComponent';\nimport downloadUrl from 'utils/downloadUrl';\nimport moveFileComponent from './moveFileComponent';\nimport copyFileComponent from './copyFileComponent';\nimport {baseUrl} from 'modelUrls';\n\nexport const uploadFiles = (path,study) => (fd, files) => {\n    // validation (make sure files do not already exist)\n    const filePaths = files.map(file => path === '/' ? file : path + '/' + file);\n    const exist = study.files().filter(file => filePaths.includes(file.path)).map(f => f.path);\n\n    if (!exist.length) return upload({force:false});\n    else return messages.confirm({\n        header: 'Upload Files', \n        content: `The file${exist.length > 1 ? 's' : ''} \"${exist.join(', ')}\" already exists, do you want to overwrite ${exist.length > 1 ? 'them' : 'it'}?`,\n        okText: 'Overwrite'\n    })\n        .then(response => response && upload({force:true}));\n\n    function upload({force} = {force:false}) {\n        return study.uploadFiles({path, fd, force})\n            .catch(response => messages.alert({\n                header: 'Upload File',\n                content: response.message\n            }))\n            .then(m.redraw);\n    }\n};\n\nexport const moveFile = (file, study) => () => {\n    const newPath = m.prop(file.basePath);\n    messages.confirm({\n        header: 'Move File',\n        content: moveFileComponent({newPath, file, study})\n    })\n        .then(response => {\n            const targetPath = newPath().replace(/\\/$/, '') + '/' + file.name;\n            if (response && newPath() !== file.basePath) return moveAction(targetPath, file,study);\n        });\n};\n\nexport let duplicateFile = (file,study) => () => {\n    let newPath = m.prop(file.path);\n    return messages.prompt({\n        header: 'Duplicate File',\n        postContent: m('p.text-muted', 'You can move a file to a specific folder be specifying the full path. For example \"images/img.jpg\"'),\n        prop: newPath\n    })\n    .then(response => {\n        if (response && newPath() !== file.name) return createFile(study, newPath, file.content);\n    });\n};\n\nexport let copyFile = (file, study) => () => {\n    let filePath = m.prop(file.basePath);\n    let study_id = m.prop(study.id);\n    let new_study_id = m.prop('');\n    messages.confirm({\n        header: 'Copy File',\n        content: copyFileComponent({new_study_id, study_id})\n    })\n        .then(response => {\n            if (response && study_id() !== new_study_id) return copyAction(filePath() +'/'+ file.name, file, study_id, new_study_id);\n        })\n    ;\n};\n\nexport let renameFile = (file,study) => () => {\n    let newPath = m.prop(file.path);\n    return messages.prompt({\n        header: 'Rename File',\n        postContent: m('p.text-muted', 'You can move a file to a specific folder be specifying the full path. For example \"images/img.jpg\"'),\n        prop: newPath\n    })\n        .then(response => {\n            if (response && newPath() !== file.name) return moveAction(newPath(), file,study);\n        });\n};\n\nexport let make_experiment = (file, study) => () => {\n    let descriptive_id = m.prop(file.path);\n    let error = m.prop('');\n    return messages.confirm({\n        header:'New Name',\n        content: m('div', [\n            m('input.form-control',  {placeholder: 'Enter Descriptive Id', onchange: m.withAttr('value', descriptive_id)}),\n            !error() ? '' : m('p.alert.alert-danger', error())\n        ])}).then(response => response && study.make_experiment(file, descriptive_id()).then(()=>m.redraw()));\n};\n\nexport let update_experiment = (file, study) => () => {\n    let descriptive_id = m.prop(file.exp_data.descriptive_id);\n    console.log({file: file});\n    let error = m.prop('');\n    return messages.confirm({\n        header:'New Name',\n        content: m('div', [\n            m('input.form-control',  {placeholder: 'Enter new descriptive id', value: descriptive_id(), onchange: m.withAttr('value', descriptive_id)}),\n            !error() ? '' : m('p.alert.alert-danger', error())\n        ])}).then(response => response && study.update_experiment(file, descriptive_id()))\n        .then(()=>{file.exp_data.descriptive_id=descriptive_id; m.redraw();});\n};\n\nexport let delete_experiment = (file, study) => () => {\n    messages.confirm({\n        header: 'Remove Experiment',\n        content: 'Are you sure you want to remove this experiment? This is a permanent change.'\n    })\n        .then(response => {\n            if (response) study.delete_experiment(file);})\n        .then(()=>{delete file.exp_data; m.redraw();});\n\n};\n\nfunction moveAction(newPath, file, study){\n    let isFocused = file.id === m.route.param('fileId');\n\n    let def = file\n    .move(newPath,study) // the actual movement\n    .then(redirect)\n    .catch(response => messages.alert({\n        header: 'Move/Rename File',\n        content: response.message\n    }))\n    .then(m.redraw); // redraw after server response\n\n    m.redraw();\n    return def;\n\n    function redirect(response){\n        // redirect only if the file is chosen, otherwise we can stay right here...\n        if (isFocused) m.route(`/editor/${study.id}/file/${file.id}`);\n        return response;\n    }\n}\n\nfunction copyAction(path, file, study_id, new_study_id){\n    let def = file\n    .copy(path, study_id, new_study_id) // the actual movement\n    .catch(response => messages.alert({\n\n        header: 'Copy File',\n        content: response.message\n    }))\n    .then(m.redraw); // redraw after server response\n\n    return def;\n}\n\nlet playground;\nexport const play = (file,study) => () => {\n    const isSaved = study.files().every(file => !file.hasChanged());  \n    const isOpenServer = true;\n    const open = isOpenServer ? openNew : openOld;\n\n    if (isSaved) open();\n    else messages.confirm({\n        header: 'Play task',\n        content: 'You have unsaved files, the player will use the saved version, are you sure you want to proceed?' \n    }).then(response => response && open());\n\n    function openNew(){\n        if (playground && !playground.closed) playground.close();\n\n        playground = window.open(`${baseUrl}/play/${study.id}/${file.id}`, 'Playground');\n        playground.onload = function(){\n            playground.addEventListener('unload', function() {\n                window.focus();\n            });\n            playground.focus();\n        };\n    }\n\n    function openOld(){\n        // this is important, if we don't close the original window we get problems with onload\n        if (playground && !playground.closed) playground.close();\n\n        playground = window.open('playground.html', 'Playground');\n        playground.onload = function(){\n            // first set the unload listener\n            playground.addEventListener('unload', function() {\n                // get focus back here\n                window.focus();\n            });\n\n            // then activate the player (this ensures that when )\n            playground.activate(file);\n            playground.focus();\n        };\n    }\n};\n\nexport let save = file => () => {\n    file.save()\n        .then(m.redraw)\n        .catch(err => messages.alert({\n            header: 'Error Saving:',\n            content: err.message\n        }));\n};\n\n\n// add trailing slash if needed, and then remove proceeding slash\n// return prop\nlet pathProp = path => m.prop(path.replace(/\\/?$/, '/').replace(/^\\//, ''));\n\nexport let  createFile = (study, name, content) => {\n    study.createFile({name:name(), content:content()})\n        .then(response => {\n            m.route(`/editor/${study.id}/file/${encodeURIComponent(response.id)}`);\n            return response;\n        })\n        .catch(err => messages.alert({\n            header: 'Failed to create file:',\n            content: err.message\n        }));\n};\n\nexport let createDir = (study, path='') => () => {\n    let name = pathProp(path);\n\n    messages.prompt({\n        header: 'Create Directory',\n        content: 'Please insert directory name',\n        prop: name\n    })\n        .then(response => {\n            if (response) return study.createFile({name:name(), isDir:true});\n        })\n        .then(m.redraw)\n        .catch(err => messages.alert({\n            header: 'Failed to create directory:',\n            content: err.message\n        }));\n};\n\nexport let createEmpty = (study, path = '') => () => {\n    let name = pathProp(path);\n    let content = ()=>'';\n\n    messages.prompt({\n        header: 'Create file',\n        content: 'Please insert the file name:',\n        prop: name\n    }).then(response => {\n        if (response) return createFile(study, name,content);\n    });\n};\n\nexport let deleteFiles = study => () => {\n    let chosenFiles = study.getChosenFiles();\n    let isFocused = chosenFiles.some(file => file.id === m.route.param('fileId'));\n\n    if (!chosenFiles.length) {\n        messages.alert({\n            header:'Remove Files',\n            content: 'There are no files selected'\n        });\n        return;\n    }\n\n    messages.confirm({\n        header: 'Remove Files',\n        content: 'Are you sure you want to remove all checked files? This is a permanent change.'\n    })\n        .then(response => {\n            if (response) doDelete();\n        });\n\n    function doDelete(){\n        study.delFiles(chosenFiles)\n            .then(redirect)\n            .catch(err => messages.alert({\n                header: 'Failed to delete files:',\n                content: err.message\n            }))\n            .then(m.redraw);\n    }\n\n    function redirect(response){\n        // redirect only if the file is chosen, otherwise we can stay right here...\n        if (isFocused) m.route(`/editor/${study.id}`); \n        return response;\n    }\n};\n\nexport let downloadChosenFiles = (study) => () => {\n    let chosenFiles = study.getChosenFiles().map(f=>f.path);\n    if (!chosenFiles.length) {\n        messages.alert({\n            header:'Download Files',\n            content: 'There are no files selected'\n        });\n        return;\n    }\n\n    study.downloadFiles(chosenFiles)\n        .then(url => downloadUrl(url, study.name))\n        .catch(err => messages.alert({\n            header: 'Failed to download files:',\n            content: err.message\n        }));\n};\n\nexport let downloadFile = (study, file) => () => {\n    if (!file.isDir) return downloadUrl(file.url, file.name);\n\n    study.downloadFiles([file.path])\n        .then(url => downloadUrl(url, study.name))\n        .catch(err => messages.alert({\n            header: 'Failed to download files:',\n            content: err.message\n        }));\n};\n\nexport let resetFile = file => () => file.content(file.sourceContent());\n","import fullHeight from 'utils/fullHeight';\nexport default ace;\n\nlet ace = args => m.component(aceComponent, args);\n\nlet noop = function(){};\n\nlet aceComponent = {\n    controller: function(){\n        const editorCache = m.prop();\n        return {editorCache, onunload};\n\n        function onunload(){\n            if (editorCache()){\n                editorCache().destroy();\n            }\n        }\n    },\n    view: function editorView(ctrl, args){\n        return m('.editor', {id:'text-editor', config: aceComponent.config(ctrl, args)});\n    },\n\n    config: function({editorCache},{content, observer, settings = {}}){\n        return function(element, isInitialized, ctx){\n            let editor = editorCache();\n            let mode = settings.mode || 'javascript';\n\n            // paster with padding\n            let paste = text => {\n                if (!editor) return false;\n                let pos = editor.getSelectionRange().start; \n                let line = editor.getSession().getLine(pos.row);\n                let padding = line.match(/^\\s*/);\n                // replace all new lines with padding\n                if (padding) text = text.replace(/(?:\\r\\n|\\r|\\n)/g, '\\n' + padding[0]);\n                \n                editor.insert(text);\n                editor.focus();\n            };\n\n            if (!isInitialized){\n                fullHeight(element, isInitialized, ctx);\n\n                require(['ace/ace'], function(ace){\n                    const undoManager = settings.undoManager || (u => u);\n                    const position = settings.position || (u => u);\n                    ace.config.set('packaged', true);\n                    ace.config.set('basePath', require.toUrl('ace'));\n\n                    editor = ace.edit(element);\n                    editorCache(editor);\n\n                    let session = editor.getSession();\n                    let commands = editor.commands;\n\n                    editor.setReadOnly(!!settings.isReadonly);\n                    editor.setTheme('ace/theme/cobalt');\n                    session.setMode('ace/mode/' + mode);\n                    if (mode !== 'javascript') session.setUseWorker(false);\n                    editor.setHighlightActiveLine(true);\n                    editor.setShowPrintMargin(false);\n                    editor.setFontSize('18px');\n                    editor.$blockScrolling = Infinity; // scroll to top\n\n                    // set jshintOptions\n                    session.on('changeMode', function(e, session){\n                        if (session.getMode().$id === 'ace/mode/javascript' && !!session.$worker && settings.jshintOptions) {\n                            session.$worker.send('setOptions', [settings.jshintOptions]);\n                        }\n                    });\n\n                    session.on('change', function(){\n                        content(editor.getValue());\n                        m.redraw();\n                    });\n\n                    commands.addCommand({\n                        name: 'save',\n                        bindKey: {win: 'Ctrl-S', mac: 'Command-S'},\n                        exec: settings.onSave || noop\n                    });\n                    \n                    if(observer) observer.on('paste',paste );\n                    if(observer) observer.on('settings',() => editor.execCommand('showSettingsMenu'));\n                    \n                    setContent();\n\n                    // return to the last position when reinitializing an editor\n                    if (position()) {\n                        let {scroll, row, column} = position();\n                        editor.session.setScrollTop(scroll);\n                        editor.moveCursorTo(row, column);\n                        editor.clearSelection();\n                    }\n\n                    // reset undo manager so that ctrl+z doesn't erase file\n                    // save it so that it doesn't get lost when users navigate away\n                    session.setUndoManager(undoManager() || undoManager(new ace.UndoManager())); \n                    editor.focus();\n                    editor.on('destroy', () => {\n                        position(Object.assign({scroll: editor.session.getScrollTop()},editor.getCursorPosition()));\n                        if(observer) observer.off(paste );\n                    });\n                });\n            }\n            \n            // each redraw set content from model (the function makes sure that this is not done when not needed...)\n            setContent();\n\n            function setContent(){\n                let editor = editorCache();\n                if (!editor) return;\n                \n                // this should trigger only drastic changes such as the first time the editor is set\n                if (editor.getValue() !== content()){\n                    editor.setValue(content());\n                    editor.moveCursorTo(0,0);\n                    editor.focus();\n                }\n            }\n        };\n    }\n};\n","export  default observer;\n\nfunction observer(){\n    let channels = {};\n    return {\n        on(channel,cb){\n            channels[channel] || (channels[channel] = []);\n            channels[channel].push(cb);\n        },\n        off(cb){\n            for (let channel in channels) {\n                let index = channels[channel].indexOf(cb);\n                if (index > -1) channels[channel].splice(index, 1);\n            }\n        },\n        trigger(channel, ...args){\n            if (!channels[channel]) return;\n            channels[channel].forEach(cb => cb.apply(null, args));\n        }\n    };\n}\n","export default syntax;\n\nlet syntax = args => m.component(syntaxComponent, args);\n\n/**\n * Syntax component\n * Takes an argument as follows:\n *\n * {valid: Boolean, data: jshint(script).data()}\n */\nvar syntaxComponent = {\n\n    /**\n     * Analyze script\n     * @param  {String} script A script to analyze\n     * @return {Object}\n     * {\n     *      isValid: Boolean,\n     *      data: Object, // raw data\n     *      errors: Array, // an array of analyzed errors\n     *      errorCount: Number, // the number of errors\n     *      warningCount: Number // the number of warnings\n     * }\n     */\n    analize: (isValid, data) => {\n        var errorCount = 0;\n        var warningCount = 0;\n        var errors = isValid ? [] : data.errors\n            .filter(e => e) // clean null values\n            .map(err => {\n                var isError = err.code && (err.code[0] === 'E');\n\n                isError ? errorCount++ : warningCount++;\n\n                return {\n                    isError: isError,\n                    line: err.line,\n                    col: err.character,\n                    reason: err.reason,\n                    evidence: err.evidence\n                };\n            });\n        return {\n            isValid: isValid,\n            data: data,\n            errors : errors,\n            errorCount: errorCount,\n            warningCount: warningCount\n        };\n    },\n\n    controller:  args => {\n        var file = args.file;\n        return syntaxComponent.analize(file.syntaxValid, file.syntaxData);\n    },\n\n    view: ctrl => {\n        return m('div', [\n            ctrl.isValid\n                ?\n                m('div', {class:'alert alert-success'}, [\n                    m('strong','Well done!'),\n                    'Your script is squeaky clean'\n                ])\n                :\n                m('div', [\n                    m('table.table', [\n                        m('tbody', ctrl.errors.map(err => {\n                            return m('tr',[\n                                m('td.text-muted', `line ${err.line}`),\n                                m('td.text-muted', `col ${err.col}`),\n                                m('td', {class: err.isError ? 'text-danger' : 'text-info'}, err.reason),\n                                m('td',err.evidence)\n                            ]);\n                        }))\n                    ]),\n\n                    m('.row',[\n                        m('.col-md-6', [\n                            m('div', {class:'alert alert-danger'}, [\n                                m('strong',{class:'glyphicon glyphicon-exclamation-sign'}),\n                                `You have ${ctrl.errorCount} critical errors.`\n                            ])\n                        ]),\n                        m('.col-md-6', [\n                            m('div', {class:'alert alert-info'}, [\n                                m('strong',{class:'glyphicon glyphicon-warning-sign'}),\n                                `You have ${ctrl.warningCount} non standard syntax errors.`\n                            ])\n                        ])\n                    ])\n\n                ])\n        ]);\n    }\n};\n","export function warn(message, test){\n    return {level:'warn', message: message, test:test};\n}\n\nexport function error(message, test){\n    return {level:'error', message: message, test:test};\n}\n\nexport function row(element, testArr){\n    var messages = flatten(testArr)\n        .filter(msg => msg) // clean empty\n        .filter(msg => typeof msg.test == 'function' ? msg.test(element) : !!msg.test); // run test...\n\n    return !messages.length ? null : {\n        element: element,\n        messages: messages\n    };\n}\n\nfunction flatten(arr) {\n    return arr.reduce(function (flat, toFlatten) {\n        return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\n    }, []);\n}","function multiPick(arr, propArr){\n    return arr\n        .map(e=> e && [].concat(e[propArr[0]], e[propArr[1]], e[propArr[2]])) // gather all stim arrays\n        .reduce((previous, current)=>previous.concat(current),[]) // flatten arrays\n        .filter(t=>t); // remove all undefined stim\n}\n\nfunction flattenSequence(sequence){\n    function unMix(e){\n        return flattenSequence([].concat(e.data, e.elseData, (e.branches || []).map(e=>e.data)));\n    }\n\n    return sequence\n        .reduce((previous, current) => {return previous.concat(current && current.mixer ? unMix(current) : current);},[])\n        .filter(t=>t); // remove all undefined stim;\n}\n\nfunction concatClean(){\n    var args = [].splice.call(arguments,0);\n    return [].concat.apply([], args).filter(e=>e);\n}\n\nexport function pipElements(script){\n    var trials, stimuli, media;\n\n    trials = concatClean(flattenSequence(script.sequence), script.trialSets);\n    stimuli = concatClean(\n        script.stimulusSets,\n        multiPick(trials,['stimuli', 'layout'])\n    );\n    media = concatClean(\n        script.mediaSets,\n        multiPick(stimuli,['media','touchMedia'])\n    );\n\n    return {trials:trials, stimuli:stimuli, media:media};\n}\n\nexport function questElements(script){\n    var pages, questions;\n\n    pages = [].concat(\n        flattenSequence(script.sequence),\n        script.pagesSets\n    ).filter(t=>t);\n\n    questions = [].concat(\n        script.questionsSets,\n        flattenSequence(multiPick(pages,['questions']))\n    ).filter(t=>t);\n\n    return {pages:pages, questions:questions};\n}\n\nexport function managerElements(script){\n    var tasks;\n\n    tasks = [].concat(\n        flattenSequence(script.sequence),\n        script.pagesSets\n    ).filter(t=>t);\n\n    return {tasks:tasks};\n}","import {warn, error, row} from './messages';\nimport {pipElements} from './parser';\n\nexport default pipValidator;\n\nfunction pipValidator(script, url){\n    var errors = [];\n    var elements = pipElements(script);\n\n    errors.push({type:'Settings',errors: checkSettings(script, url)});\n    errors.push({type:'Trials',errors: filterMap(elements.trials, trialTest)});\n    // errors.push({type:'Stimuli',errors: filterMap(elements.stimuli, stimuliTest)});\n    // errors.push({type:'Media',errors: filterMap(elements.media, mediaTest)});\n\n    return errors;\n}\n\nfunction filterMap(arr, fn){\n    return arr.map(fn).filter(e=>e);\n}\n\n/**\n * Check settings\n * @param  {Object} script The script to be tested\n * @param  {String} url    The script origin URL\n * @return {Array}        Array of error rows\n */\nfunction checkSettings(script, url){\n    var settings = script.settings || {};\n\n    var w = byProp(warn);\n    // var e = byProp(error);\n\n    var errors = [\n        r('base_url', [\n            w('Your base_url is not in the same directory as your script.', e => {\n                // use this!!!\n                // http://stackoverflow.com/questions/4497531/javascript-get-url-path\n                var getPath = url => {\n                    var a = document.createElement('a');\n                    a.href = url;\n                    return a.pathname;\n                };\n\n                var path = getPath(url).substring(0, url.lastIndexOf('/') + 1); // get path but remove file name\n                var t = s => (!s || getPath(s).indexOf(path) !== 0);\n\n                return (typeof e == 'object') ? t(e.image) && t(e.template) : t(e);\n            })\n        ])\n    ];\n\n    return errors.filter(function(err){return !!err;});\n\n    function r(prop, arr){\n        var el = {};\n        el[prop] = settings[prop];\n        return prop in settings && row(el, arr);\n    }\n\n    // wrap warn/error so that I don't have to individually\n    function byProp(fn){\n        return function(msg, test){\n            return fn(msg, e => {\n                for (var prop in e) {\n                    return test(e[prop]);\n                }\n            });\n        };\n    }\n}\n\nfunction trialTest(trial) {\n    var tests = [\n        testInteractions(trial.interactions),\n        testInput(trial.input)\n    ];\n\n    return row(trial, tests);\n\n    function testInteractions(interactions){\n        if (!interactions) {return;}\n\n        if (!Array.isArray(interactions)){\n            return [error('Interactions must be an array.', true)];\n        }\n\n        return  interactions.map((interaction, index) => {\n            return [\n                !interaction.conditions ? error(`Interaction [${index}] must have conditions`, true) : [\n                    error(`Interaction conditon [${index}] must have a type`, toArray(interaction.conditions).some(c=>!c.type))\n                ],\n                !interaction.actions ? error(`Interaction [${index}] must have actions`, true) : [\n                    error(`Interaction action [${index}] must have a type`, toArray(interaction.actions).some(a=>!a.type))\n                ]\n            ];\n        });\n\n\n        function toArray(arr){\n            return Array.isArray(arr) ? arr : [arr];\n        }\n\n    }\n\n    function testInput(input){\n        if (!input) {return;}\n\n        if (!Array.isArray(trial.input)){\n            return [error('Input must be an Array', true)];\n        }\n\n        return [\n            error('Input must always have a handle', input.some(i=>!i.handle)),\n            error('Input must always have an on attribute', input.some(i=>!i.on))\n        ];\n    }\n}\n","export default function questValidator(){\n    var errors = [];\n\n    errors.push({type:'Settings', errors:[]});\n    errors.push({type:'Pages', errors:[]});\n    errors.push({type:'Questions', errors:[]});\n\n    return errors;\n}\n","export default function managerValidator(){\n    var errors = [];\n\n    errors.push({type:'Settings', errors:[]});\n    errors.push({type:'Tasks', errors:[]});\n\n    return errors;\n}\n\n\n\n","import pipValidate from './pipValidator';\nimport questValidate from './questValidator';\nimport managerValidate from './managerValidator';\n\nexport default function validate(script){\n    var type = script.type && script.type.toLowerCase();\n    switch (type){\n        case 'pip' : return pipValidate.apply(null, arguments);\n        case 'quest' : return questValidate.apply(null, arguments);\n        case 'manager' : return managerValidate.apply(null, arguments);\n        default:\n            throw new Error('Unknown script.type: ' + type);\n    }\n}\n\nexport function dd(){\n    return [\n        {\n            type: 'task',\n            errosrs:[],\n            errors: [\n                {\n                    element: {name:'myName', content: [1,2,3]},\n                    messages: [\n                        {level:'error', message: 'error message1'},\n                        {level:'warn', message: 'warn message2'},\n                        {level:'warn', message: 'warn message3'},\n                        {level:'error', message: 'error message4'}\n                    ]\n                },\n                {\n                    element: {name:'otherName', content: [1,2,3]},\n                    messages: [\n                        {level:'warn', message: 'warn message1'},\n                        {level:'error', message: 'error message2'}\n                    ]\n                }\n            ]\n        }\n\n    ];\n}\n","import validator from './parser/validator';\nexport default validate;\n\nlet validate = args => m.component(validateComponent, args);\n\nvar validateComponent = {\n    controller: args => {\n        var file = args.file;\n        var ctrl = {\n            validations : m.prop([]),\n            isError: false\n        };\n\n        m.startComputation();\n        file\n            .define()\n            .then(()=>{\n                return file.require();\n            })\n            .then(script => {\n                ctrl.validations(validator(script, file.url));\n                m.endComputation();\n            })\n            .catch(() => {\n                ctrl.isError = true;\n                m.endComputation();\n            });\n\n        return ctrl;\n    },\n    view: ctrl => {\n        return  m('div', [\n            !ctrl.isError ? '' :    m('div', {class:'alert alert-danger'}, [\n                m('strong',{class:'glyphicon glyphicon-exclamation-sign'}),\n                `There was a problem parsing this script. Are you sure that it is a valid PI script? Make sure you fix all syntax errors.`\n            ]),\n\n            ctrl.validations().map(validationReport => {\n                return [\n                    m('h4', validationReport.type),\n                    !validationReport.errors.length\n                        ?\n                        m('div', {class:'alert alert-success'}, [\n                            m('strong','Well done!'),\n                            'Your script is squeaky clean'\n                        ])\n                        :\n                        validationReport.errors.map(err => {\n                            return m('.row',[\n                                m('.col-md-4.stringified',\n                                    m('div', {class:'pre'}, m.trust(stringify(err.element)))\n                                ),\n                                m('.col-md-8',[\n                                    m('ul', err.messages.map(msg => {\n                                        return m('li.list-unstyled', {class: msg.level == 'error' ? 'text-danger' : 'text-info'}, [\n                                            m('strong', msg.level),\n                                            msg.message\n                                        ]);\n                                    }))\n                                ])\n                            ]);\n                        })\n                ];\n            })\n\n        ]);\n    }\n};\n\n\nfunction stringify(value) {\n    if (value == null) { // null || undefined\n        return '<i class=\"text-muted\">undefined</i>';\n    }\n    if (value === '') {\n        return '<i class=\"text-muted\">an empty string</i>';\n    }\n\n    switch (typeof value) {\n        case 'string':\n            break;\n        case 'number':\n            value = '' + value;\n            break;\n        case 'object':\n            // display the error message not the full thing...\n            if (value instanceof Error){\n                value = value.message;\n                break;\n            }\n        /* fall through */\n        default:\n            // @TODO: implement this: http://stackoverflow.com/questions/4810841/how-can-i-pretty-print-json-using-javascript\n            value = syntaxHighlight(JSON.stringify(value, null, 4));\n    }\n\n    return value;\n}\n\n\nfunction syntaxHighlight(json) {\n    json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n\n    return json.replace(/(\"(\\\\u[a-zA-Z0-9]{4}|\\\\[^u]|[^\\\\\"])*\"(\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function (match) {\n        var cls = 'number';\n        if (/^\"/.test(match)) {\n            if (/:$/.test(match)) {\n                cls = 'key';\n            } else {\n                cls = 'string';\n            }\n        } else if (/true|false/.test(match)) {\n            cls = 'boolean';\n        } else if (/null/.test(match)) {\n            cls = 'null';\n        }\n        return '<span class=\"' + cls + '\">' + match + '</span>';\n    });\n}\n","import messages from 'utils/messagesComponent';\n\nexport default copyUrl;\n\nconst copyUrl = (url, launch) => () => {\n    messages.alert({\n        header: 'Copy URL',\n        content: m.component(copyComponent, getAbsoluteUrl(url), launch),\n        okText: 'Done'\n    });\n};\n\nlet copyComponent = {\n    controller: (url) => {\n        let copyFail = m.prop(false);\n        let autoCopy = () => copy(url).catch(() => copyFail(true)).then(m.redraw);\n        return {autoCopy, copyFail};\n    },\n    view: ({autoCopy, copyFail}, url, launch) => m('.card-block', [\n        m('.form-group', [\n            m('label', 'Copy Url by clicking Ctrl + C, or click the copy button.'),\n            m('label.input-group',[\n                m('.input-group-addon', {onclick: autoCopy}, m('i.fa.fa-fw.fa-copy')),\n                m('input.form-control', { config: el => el.select(), value: url })\n\n            ]),\n            !launch ? '' : [\n                m('input-group-addon', ['Right-click ', m('a', {href: url}, 'HERE'), ' to launch']),\n                m('label', 'You can use this option to play that study in a private or incognito window to bypass cached content.'),\n            ],\n            !copyFail() ? '' : m('small.text-muted', 'Auto copy will not work on your browser, you need to manually copy this url')\n        ])\n    ])\n};\n\nfunction getAbsoluteUrl(url) {\n    const a = document.createElement('a');\n    a.href=url;\n    return a.href;\n}\n\nfunction copy(text){\n    return new Promise((resolve, reject) => {\n        let input = document.createElement('input');\n        input.value = text;\n        document.body.appendChild(input);\n        input.select();\n\n        try {\n            document.execCommand('copy');\n        } catch(err){\n            reject(err);\n        }\n\n        input.parentNode.removeChild(input);\n    });\n}\n","const END_LINE = '\\n';\nconst TAB = '\\t';\nexport let indent = (str, tab = TAB) => str.replace(/^/gm, tab);\n\nexport let print = obj => {\n    switch (typeof obj) {\n        case 'boolean': return obj ? 'true' : 'false';\n        case 'string' : return printString(obj); \n        case 'number' : return obj + '';\n        case 'undefined' : return 'undefined';\n        case 'function': \n            if (obj.toJSON) return print(obj()); // Support m.prop\n            else return obj.toString();\n    }\n\n    if (obj === null) return 'null';\n\n    if (Array.isArray(obj)) return printArray(obj);\n    \n    return printObj(obj);\n\n    function printString(str){\n        return str === '' ? str : str\n            // escape string\n            .replace(/[\\\\\"']/g, '\\\\$&')\n            .replace(/\\u0000/g, '\\\\0')\n            // manage rows separately\n            .split(END_LINE)\n            .map(str => `'${str}'`)\n            .join(` +${END_LINE}${TAB}`);\n    }\n    \n    function printArray(arr){\n        let isShort = arr.every(element => ['string', 'number', 'boolean'].includes(typeof element) && (element.length === undefined || element.length < 15) );\n        let content = arr\n            .map(value => print(value))\n            .join(isShort ? ', ' : ',\\n');\n\n        return isShort\n            ? `[${content}]`\n            : `[\\n${indent(content)}\\n]`;\n    }\n\n    function printObj(obj){\n        let content = Object.keys(obj)\n            .map(key => `${escapeKey(key)} : ${print(obj[key])}`)\n            .map(row => indent(row))\n            .join(',' + END_LINE);\n        return `{\\n${content}\\n}`;\n\n        function escapeKey(key){\n            return /[^1-9a-zA-Z$_]/.test(key) ? `'${key}'` : key;\n        }\n    }\n};\n","import inputWrapper from 'utils/forms/inputWrapper';\nexport default inheritInput;\n\nlet inheritInput = args => m.component(inheritInputComponent, args);\n\nlet inheritInputComponent = {\n    controller({prop}){\n        let value = prop();\n        let rawType = m.prop(typeof value === 'string' ? 'random' : value.type);\n        let rawSet = m.prop(typeof value === 'string' ? value : value.set);\n\n        return {type, set};\n\n        function update(){\n            let type = rawType();\n            let set = rawSet();\n            prop(type === 'random' ? set : {type, set});\n        }\n        \n        function type(value){\n            if (arguments){\n                rawType(value);\n                update();\n            }\n\n            return rawType();\n        }\n        \n        function set(value){\n            if (arguments){\n                rawSet(value);\n                update();\n            }\n\n            return rawSet();\n        }\n    },\n\n    view: inputWrapper(({type,set}) => {\n\n        return m('.form-inline', [\n            m('.form-group.input-group', [\n                m('input.form-control', {\n                    placeholder:'Set',\n                    onchange: m.withAttr('value', set)\n                }),\n                m('span.input-group-addon', {style:'display:none'}) // needed to make the corners of the input square...\n            ]),\n            m('select.c-select', {\n                onchange: m.withAttr('value', type)\n            }, TYPES.map(key => m('option', {value:key},key)))\n        ]);\n    })\n};\n\nconst TYPES = ['random', 'exRandom', 'sequential'];\n","import {formFactory, textInput, selectInput} from 'utils/formHelpers';\nimport inheritInput from './inheritInput';\nexport default taskComponent;\n\nlet taskComponent = {\n    controller({output,close}){\n        let form = formFactory();\n        \n        let type = m.prop('message');\n        let common = {\n            inherit: m.prop(''),\n            name: m.prop(''),\n            title: m.prop('')\n        };\n        let task = m.prop({});\n            \n        return {type, common, task, form, close, proceed};\n\n        function proceed(){\n            output(Object.assign({type}, common, task()));\n            close(true)();\n        }       \n\n    },\n    view({type, common, task, form, close, proceed}){\n        return m('div', [   \n            m('h4', 'Add task'),\n            m('.card-block', [\n                inheritInput({label:'inherit', prop:common.inherit, form, help: 'Base this element off of an element from a set'}),\n                selectInput({label:'type', prop: type, form, values: {message: 'message', pip: 'pip', quest: 'quest'}}),\n                textInput({label: 'name', prop: common.name, help: 'The name for the task',form}),\n                textInput({label: 'title', prop: common.title, help: 'The title to be displayed in the browsers tab',form}),\n                m.component(taskSwitch(type()), {task, form})\n            ]),\n            m('.text-xs-right.btn-toolbar',[\n                m('a.btn.btn-secondary.btn-sm', {onclick:close(false)}, 'Cancel'),\n                m('a.btn.btn-primary.btn-sm', {onclick:proceed}, 'Proceed')\n            ])\n        ]);\n    }\n};\n\nfunction taskSwitch(type){\n    switch (type) {\n        case 'message' : return messageComponent;\n        case 'pip' : return pipComponent;\n        case 'quest' : return questComponent;\n        default :\n            throw new Error(`Unknown task type: ${type}`);\n    }\n}\n\nlet messageComponent = {\n    controller({task}){\n        task({\n            piTemplate: m.prop(true),\n            template: m.prop(''),\n            templateUrl: m.prop('')\n        });\n    },\n    view(ctrl, {task, form}){\n        let props = task();\n        return m('div', [\n            selectInput({label:'piTemplate', prop: props.piTemplate, form, values: {'Active': true, 'Debriefing template': 'debrief', 'Don\\'t use': false}, help: 'Use the PI style templates'}),\n            textInput({label: 'templateUrl', prop: props.templateUrl, help: 'The URL for the task template file',form}),\n            textInput({label: 'template', prop: props.template, rows:6,  form, isArea:true, help: m.trust('You can manually create your template here <strong>instead</strong> of using a url')})\n        ]); \n    }\n};\n\nlet pipComponent = {\n    controller({task}){\n        task({\n            version: m.prop('0.3'),\n            scriptUrl: m.prop('')\n        });\n    },\n    view(ctrl, {task, form}){\n        let props = task();\n        return m('div', [\n            textInput({label: 'scriptUrl', prop: props.scriptUrl, help: 'The URL for the task script file',form}),\n            selectInput({label:'version', prop: props.version, form, values: {'0.3':0.3, '0.2':0.2}, help: 'The version of PIP that you want to use'})\n        ]); \n    }\n};\n\nlet questComponent = {\n    controller({task}){\n        task({\n            scriptUrl: m.prop('')\n        });\n    },\n    view(ctrl, {task, form}){\n        let props = task();\n        return m('div', [\n            textInput({label: 'scriptUrl', prop: props.scriptUrl, help: 'The URL for the task script file',form})\n        ]); \n    }\n};\n","import {formFactory, textInput, checkboxInput, maybeInput} from 'utils/formHelpers';\nimport inheritInput from './inheritInput';\nexport default pageComponent;\n\nlet pageComponent = {\n    controller({output,close}){\n        let form = formFactory();\n        let page = {\n            inherit: m.prop(''),\n            header: m.prop(''),\n            decline: m.prop(false),\n            progressBar: m.prop('<%= pagesMeta.number %> out of <%= pagesMeta.outOf%>'),\n            autoFocus: true,\n            questions: [],\n            v1style:2\n        };\n        output(page);\n\n        return {page,form, close};\n\n    },\n    view({page,form,close}){\n        return m('div', [   \n            m('h4', 'Add Page'),\n            m('.card-block', [\n                inheritInput({label:'inherit', prop:page.inherit, form, help: 'Base this element off of an element from a set'}),\n                textInput({label: 'header', prop: page.header, help: 'The header for the page',form}),\n                checkboxInput({label: 'decline', description: 'Allow declining to answer', prop: page.decline,form}),\n                maybeInput({label:'progressBar', help: 'If and when to display the  progress bar (use templates to control the when part)', prop: page.progressBar,form})\n            ]),\n            m('.text-xs-right.btn-toolbar',[\n                m('a.btn.btn-secondary.btn-sm', {onclick:close(false)}, 'Cancel'),\n                m('a.btn.btn-primary.btn-sm', {onclick:close(true)}, 'Proceed')\n            ])\n        ]);\n    }\n};\n\n","import {formFactory, textInput, checkboxInput, arrayInput, selectInput, maybeInput} from 'utils/formHelpers';\nimport inheritInput from './inheritInput';\nexport default questComponent;\n\nlet questComponent = {\n    controller({output,close}){\n        let form = formFactory();\n        let type = m.prop();\n        let common = {\n            inherit: m.prop(''),\n            name: m.prop(''),\n            stem: m.prop(''),\n            required: m.prop(false),\n            errorMsg: {\n                required: m.prop('')\n            }\n        };\n        let quest = m.prop({});\n        output(quest);\n\n        return {type, common, quest,form, close, proceed};\n\n        function proceed(){\n            let script = output(Object.assign({type}, common, quest()));\n            if (!script.required()) script.required = script.errorMsg = undefined;\n            if (!script.help || !script.help()) script.help = script.helpText = undefined;\n            \n            close(true)();\n        }       \n\n    },\n    view({type, common, quest,form,close, proceed}){\n        return m('div', [   \n            m('h4', 'Add Question'),\n            m('.card-block', [\n                selectInput({label:'type', prop: type, form, values: typeMap}),\n                inheritInput({label:'inherit', prop:common.inherit, form, help: 'Base this element off of an element from a set'}),\n                textInput({label: 'name', prop: common.name, help: 'The name by which this question will be recorded',form}),\n                textInput({label: 'stem', prop: common.stem, help: 'The question text',form}),\n                m.component(question(type()), {type,quest,form,common}),\n                checkboxInput({label: 'required', prop: common.required, description: 'Require this question to be answered', form}),\n                common.required()\n                    ? textInput({label:'requiredText',  help: 'The error message for when the question has not been answered', prop: common.errorMsg.required ,form})\n                    : ''\n            ]),\n            m('.text-xs-right.btn-toolbar',[\n                m('a.btn.btn-secondary.btn-sm', {onclick:close(false)}, 'Cancel'),\n                m('a.btn.btn-primary.btn-sm', {onclick:proceed}, 'Proceed')\n            ])\n        ]);\n    }\n};\n\nlet typeMap = {None: undefined, Text: 'text', 'Text Area': 'textarea', 'Select One': 'selectOne', 'Select Multiple': 'selectMulti', Slider: 'slider'};\n\nlet question = type => {\n    switch (type) {\n        case 'text' : return textComponent;\n        case 'textarea' : return textareaComponent;\n        case 'selectOne' : return selectOneComponent;\n        case 'selectMulti' : return selectOneComponent;\n        case 'slider' : return sliderComponent;\n        case undefined : return {view: () => m('div')};\n        default:\n            throw new Error('Unknown question type');\n    }\n};\n\nlet textComponent = {\n    controller({quest, common}){\n        common.errorMsg.required('This text field is required');\n        // setup unique properties\n        quest({\n            autoSubmit: m.prop(false)\n        });\n    },\n    view(ctrl, {quest, form}){\n        let props = quest();\n        return m('div', [\n            checkboxInput({label: 'autoSubmit', prop: props.autoSubmit, description: 'Submit on enter', form})\n        ]); \n    }\n};\n\nlet textareaComponent = {\n    controller({quest, common}){\n        common.errorMsg.required('This text field is required');\n        // setup unique properties\n        quest({\n            rows: m.prop(3),\n            columns: m.prop('')\n        });\n    },\n    view(ctrl, {quest, form}){\n        let props = quest();\n        return m('div', [\n            textInput({label: 'rows', prop: props.rows, help: 'The number of visible text lines', form})\n        ]); \n\n    }\n};\n\nlet selectOneComponent = {\n    controller({quest,common}){\n        common.errorMsg.required('Please select an answer, or click \\'decline to answer\\'');\n        // setup unique properties\n        quest({\n            autoSubmit: m.prop(true),\n            answers: m.prop([\n                'Very much',\n                'Somewhat',\n                'Undecided',\n                'Not realy',\n                'Not at all'\n            ]),\n            numericValues:true,\n            help: m.prop(false),\n            helpText: m.prop('Tip: For quick response, click to select your answer, and then click again to submit.')\n        });\n    },\n    view(ctrl, {quest, form}){\n        let props = quest();\n        return m('div', [\n            checkboxInput({label: 'autoSubmit', prop: props.autoSubmit, description: 'Submit on double click', form}),\n            arrayInput({label: 'answers', prop: props.answers, rows:7,  form, isArea:true, help: 'Each row here represents an answer option', required:true}),\n            maybeInput({label:'help', help: 'If and when to display the help text (use templates to control the when part)', prop: props.help,form, dflt: '<%= pagesMeta.number < 3 %>'}),\n            props.help()\n                ? textInput({label:'helpText',  help: 'The instruction text for using this type of question', prop: props.helpText,form, isArea: true})\n                : ''\n        ]); \n    }\n};\n\nlet sliderComponent = {\n    controller({quest,common}){\n        common.errorMsg.required('Please select an answer, or click \\'decline to answer\\'');\n        // setup unique properties\n        quest({\n            min: m.prop(0),\n            max: m.prop(100),\n            steps: m.prop(''),\n            hidePips: m.prop(false), \n            highlight: m.prop(true),\n            labels : m.prop(['Low', 'Medium', 'High']),\n            help: m.prop(false),\n            helpText: m.prop('Click on the gray line to indicate your judgment. After clicking the line, you can slide the circle to choose the exact judgment.')\n        });\n    },\n    view(ctrl, {quest, form}){\n        let props = quest();\n        return m('div', [\n            textInput({label: 'min', prop: props.min, help: 'The minimum value for the slider',form}),\n            textInput({label: 'max', prop: props.max, help: 'The maximum value for the slider',form}),\n            textInput({label: 'steps', prop: props.steps, help: 'Break the slider continuum to individual steps. Set to an integer or empty for a continuous slider',form}),\n            props.steps()\n                ? '' \n                : checkboxInput({label: 'hidePips', prop: props.hidePips, description: 'Hide the markers for the individual steps',form}),\n            arrayInput({label:'labels', prop: props.labels, help: 'A list of labels for the slider range', isArea: true, rows:5, form}),\n            maybeInput({label:'help', help: 'If and when to display the help text (use templates to control the when part)', prop: props.help,form, dflt: '<%= pagesMeta.number < 3 %>'}),\n            props.help()\n                ? textInput({label:'helpText',  help: 'The instruction text for using this type of question', prop: props.helpText,form, isArea: true})\n                : ''\n        ]); \n    }\n};\n","import messages from 'utils/messagesComponent';\nimport {print} from 'utils/prettyPrint';\nimport taskComponent from './snippets/task';\nimport pageComponent from './snippets/page';\nimport questComponent from './snippets/quest';\n\nexport let  snippetRunner = component => observer => () => {\n    let output = m.prop();\n    messages\n        .custom({\n            preventEnterSubmits: true,\n            content: m.component(component, {output, close}),\n            wide: true\n        })\n        .then(isOk => isOk && observer.trigger('paste', print(clearUnused(output()))));\n\n    function close(value) {return () => messages.close(value);}\n};\n\nexport let taskSnippet = snippetRunner(taskComponent);\nexport let pageSnippet = snippetRunner(pageComponent);\nexport let questSnippet = snippetRunner(questComponent);\n\nfunction clearUnused(obj){\n    return Object.keys(obj).reduce((result, key) => {\n        let value = obj[key];\n        if (typeof value === 'function' && value.toJSON) value = value();\n        \n        // check if is empty\n        if (value === '' || value === undefined) return result;\n        if (Array.isArray(value) && !value.length) return result;\n\n        result[key] = value;\n        return result;\n    }, {});\n}\n","import classNames from 'utils/classNames';\nimport copyUrl from 'utils/copyUrl';\nimport {play, save, resetFile} from '../sidebar/fileActions';\nimport {pageSnippet, questSnippet, taskSnippet} from './snippetActions';\n\nexport default textMenuView;\n\nconst amdReg = /(?:define\\(\\[['\"])(.*?)(?=['\"])/;\n\nconst textMenuView = ({mode, file, study, observer}) => {\n    let setMode = value => () => mode(value);\n    let modeClass = value => mode() === value ? 'active' : '';\n    let isJs = file.type === 'js';\n    let hasChanged = file.hasChanged();\n    let isExpt = /\\.expt\\.xml$/.test(file.path);\n    let isHtml = ['html', 'htm', 'jst', 'ejs'].includes(file.type);\n    let amdMatch = amdReg.exec(file.content());\n    let APItype = amdMatch && amdMatch[1];\n    const launchUrl = `https://app-prod-03.implicit.harvard.edu/implicit/Launch?study=${file.url.replace(/^.*?\\/implicit/, '')}&refresh=true`;\n\n    return m('.btn-toolbar.editor-menu', [\n        m('.file-name', {class: file.hasChanged() ? 'text-danger' : ''},\n            m('span',{class: file.hasChanged() ? '' : 'invisible'}, '*'),\n            file.path\n        ),\n\n        m('.btn-group.btn-group-sm.pull-xs-right', [\n            m('button.btn.btn-secondary', {onclick: resetFile(file), title:'Reset any chnages made to this file since the last change'},[\n                m('strong.fa.fa-refresh')\n            ]),\n            m('a.btn.btn-secondary', {onclick: ()=>observer.trigger('settings'), title:'Editor settings'},[\n                m('strong.fa.fa-cog')\n            ])\n        ]),\n\n        m('.btn-group.btn-group-sm.pull-xs-right', [\n            m('a.btn.btn-secondary', {href: `http://projectimplicit.github.io/PIquest/0.0/basics/overview.html`, target: '_blank', title:'API documentation'},[\n                m('strong.fa.fa-book'),\n                m('strong', ' Docs')\n            ]),\n            m('a.btn.btn-secondary', {href: `https://github.com/ajaxorg/ace/wiki/Default-Keyboard-Shortcuts`, target: '_blank', title:'Editor help'},[\n                m('strong.fa.fa-info')\n            ])\n        ]),\n\n        !isJs ? '' : m('.btn-group.btn-group-sm.pull-xs-right', [\n            m('a.btn.btn-secondary', {onclick: setMode('edit'), class: modeClass('edit')},[\n                m('strong', study.isReadonly ? 'View' : 'Edit')\n            ]),\n            m('a.btn.btn-secondary', {onclick: setMode('syntax'), class: modeClass('syntax')},[\n                m('strong',\n                    'Syntax ',\n                    file.syntaxValid\n                        ? m('i.fa.fa-check-square.text-success')\n                        : m('span.label.label-danger', file.syntaxData.errors.length)\n                )\n            ])\n        ]),\n\n        /**\n         * Snippets\n         **/\n        study.isReadonly ? '' : m('.btn-group.btn-group-sm.pull-xs-right', [\n            !/^minno/.test(study.type) ? '' : [\n                APItype !== 'managerAPI' ? '' : [\n                    m('a.btn.btn-secondary', {onclick: taskSnippet(observer), title: 'Add task element'}, [\n                        m('strong','T') \n                    ])\n                ],\n                APItype !== 'questAPI' ? '' : [\n                    m('a.btn.btn-secondary', {onclick: questSnippet(observer), title: 'Add question element'}, [\n                        m('strong','Q') \n                    ]),\n                    m('a.btn.btn-secondary', {onclick: pageSnippet(observer), title: 'Add page element'}, [\n                        m('strong','P') \n                    ])\n                ],\n                m('a.btn.btn-secondary', {onclick:() => observer.trigger('paste', '{\\n<%= %>\\n}'), title:'Paste a template wizard'},[\n                    m('strong.fa.fa-percent')\n                ])\n            ],\n\n            study.type !== 'html' || !isHtml ? '' : [\n                m('a.btn.btn-secondary', {onclick:() => observer.trigger('paste', '<!-- os:base -->'), title:'Paste a base url template'},[\n                    m('strong','base')\n                ]),\n                m('a.btn.btn-secondary', {onclick:() => observer.trigger('paste', '<!-- os:vars -->'), title:'Paste a variables template'},[\n                    m('strong','vars')\n                ])\n            ]\n\n\n        ]),\n\n        /**\n         * Play\n         **/\n        m('.btn-group.btn-group-sm.pull-xs-right', [\n\n            !/^minno/.test(study.type) ? '' : [\n                !isJs ? '' :  m('a.btn.btn-secondary', {onclick: play(file,study), title:'Play this task'},[\n                    m('strong.fa.fa-play')\n                ]),\n\n                !isExpt ? '' :  [\n                    m('a.btn.btn-secondary', {href: launchUrl, target: '_blank', title:'Play this task'},[\n                        m('strong.fa.fa-play')\n                    ]),\n                    m('a.btn.btn-secondary', {onmousedown: copyUrl(launchUrl), title:'Copy Launch URL'},[\n                        m('strong.fa.fa-link')\n                    ])\n                ],\n\n                !isHtml ? '' :  m('a.btn.btn-secondary', {href: file.url, target: '_blank', title:'View this file'},[\n                    m('strong.fa.fa-eye')\n                ]),\n            ],\n\n            study.type !== 'html' ? '' : [\n                !isHtml ? '' :  m('a.btn.btn-secondary', {onclick: play(file,study), title:'Play this task'},[\n                    m('strong.fa.fa-play')\n                ]),\n            ],\n\n            m('a.btn.btn-secondary', {onclick: hasChanged && save(file), title:'Save (ctrl+s)',class: classNames({'btn-danger-outline' : hasChanged, 'disabled': !hasChanged || study.isReadonly})},[\n                m('strong.fa.fa-save')\n            ])\n        ])\n    ]);\n};\n\n","import {save} from '../sidebar/fileActions';\nimport ace from './ace/aceComponent';\nimport observerFactory from 'utils/observer';\n\nimport jshintOptions from './jshintOptions';\nimport syntaxComponent from './ace/syntaxComponent';\nimport validatorComponent from './ace/validatorComponent';\n\nimport textMenu from './textMenu';\n\nexport default textEditor;\n\nlet textEditor = args => m.component(textEditorComponent, args);\n\nlet textEditorComponent = {\n    controller: function({file}){\n        const err = m.prop();\n        file.loaded || file.get()\n            .catch(err)\n            .then(m.redraw);\n\n        let ctrl = {mode:m.prop('edit'), observer: observerFactory(), err};\n\n        return ctrl;\n    },\n\n    view: function(ctrl, {file,study}){\n        const {observer, err, mode} = ctrl;\n\n        if (!file.loaded) return m('.loader');\n\n        if (file.error) return m('div', {class:'alert alert-danger'}, [\n            m('strong',{class:'glyphicon glyphicon-exclamation-sign'}),\n            `The file \"${file.path}\" was not found (${err() ? err().message : 'please try to refresh the page'}).`\n        ]);\n\n        return m('.editor', [\n            textMenu({mode, file, study, observer}),\n            textContent(ctrl, {key: file.id, file,observer, study})\n        ]);\n    }\n};\n\nlet textContent = (ctrl, {file, study, observer}) => {\n    let textMode = modeMap[file.type] || 'javascript';\n    switch (ctrl.mode()){\n        case 'edit' : return ace({\n            content:file.content,\n            observer,\n            settings: {\n                onSave: save(file), \n                mode: textMode,\n                jshintOptions,\n                isReadonly: study.isReadonly,\n                undoManager: file.undoManager,\n                position: file.position\n            }\n        });\n        case 'validator': return validatorComponent({file});\n        case 'syntax': return syntaxComponent({file});\n    }\n};\n\nlet modeMap = {\n    js: 'javascript',\n    json: 'json',\n    jsp: 'jsp',\n    jst: 'ejs',\n    html: 'ejs',\n    htm: 'ejs',\n    txt: 'ejs',\n    m: 'ejs',\n    c: 'ejs',\n    cs: 'ejs',\n    h: 'ejs',\n    py: 'ejs',\n    xml: 'xml'\n};\n","import fullHeight from 'utils/fullHeight';\nimport imgEditor from './editors/imgEditor';\nimport pdfEditor from './editors/pdfEditor';\nimport unknowEditor from './editors/unknownEditor';\nimport textEditor from './editors/textEditor';\n\nexport default fileEditorComponent;\n\nlet editors = {\n    js: textEditor,\n    jsp: textEditor,\n    json: textEditor,\n    html: textEditor,\n    htm: textEditor,\n    jst: textEditor,\n    txt: textEditor,\n    m: textEditor,\n    c: textEditor,\n    cs: textEditor,\n    css: textEditor,\n    h: textEditor,\n    py: textEditor,\n    xml: textEditor,\n\n    jpg: imgEditor,\n    jpeg: imgEditor,\n    bmp: imgEditor,\n    png: imgEditor,\n\n    pdf: pdfEditor\n};\n\nlet fileEditorComponent = {\n    controller: function({study}) {\n        return {study};\n    },\n\n    view: ({study}, args = {}) => {\n        const id = m.route.param('fileId');\n        const file = study.getFile(id);\n        let editor = file && editors[file.type] || unknowEditor;\n\n        return m('div', {config:fullHeight}, [\n            file\n                ? editor({file, study,  settings: args.settings, key:file.id})\n                : m('.centrify', [\n                    m('i.fa.fa-smile-o.fa-5x'),\n                    m('h5', 'Please select a file to start working')\n                ])\n        ]);\n    }\n};\n","import {print, indent} from 'utils/prettyPrint';\n\nexport default function ratingWizard({basicPage, basicSelect, questionList, sequence}){\n    const NEW_LINE = '\\n';\n    let content = [\n        `var API = new Quest();`,\n\n        ``,\n        `// The structure for the basic questionnaire page`,\n        `API.addPagesSet('basicPage', ${print(basicPage)});`,\n\n        ``,\n        `// The structure for the basic question    `,\n        `API.addQuestionsSet('basicSelect', ${print(basicSelect)});`,\n\n        `// This is the question pool, the sequence picks the questions from here`,\n        `API.addQuestionsSet('questionList', ${print(questionList)});`,\n        ``,\n\n        `// This is the sequence of questions`,\n        `// Note that you may want to update the \"times\" property if you change the number of questions`,\n        `API.addSequence(${print(sequence)});`,\n\n        ``,\n        `return API.script;`\n    ].join(NEW_LINE);\n\n    return `define(['questAPI'], function(Quest){\\n${indent(content)}\\n});`;\n}\n","import {formFactory, textInput, checkboxInput, maybeInput, arrayInput} from 'utils/formHelpers';\nimport {createFile} from './sidebar/fileActions';\nimport ratingWizard from './wizards/ratingWizard';\nexport default wizardComponent;\n\nlet wizardComponent = {\n    controller({study}){\n        let path = m.prop('');\n        let form = formFactory();\n        let submit = () => {\n            form.showValidation(true);\n            if (form.isValid()){\n                createFile(study, path, compileScript(script) );\n            }\n            \n        };\n\n        let compileScript = script => () => {\n            script.basicPage.questions = [\n                {inherit: {type:script.randomize() ? 'exRandom' : 'sequential', set:'questionList'}}\n            ];\n            script.sequence = [\n                {\n                    mixer:'repeat',\n                    times: script.times() || script.questionList().length,\n                    data:[\n                        {inherit: 'basicPage'}\n                    ]\n                }\n            ];\n\n            return ratingWizard(script);\n        };\n\n\n        let script ={\n            basicPage: {\n                header: m.prop(''),\n                decline: m.prop(true),\n                autoFocus:true,\n                v1style: 2\n            },\n            basicSelect: {\n                type: 'selectOne',\n                autoSubmit: m.prop(false),\n                numericValues: m.prop(true),\n                help: m.prop('<%= pagesMeta.number < 3 %>'),\n                helpText: m.prop('Tip: For quick response, click to select your answer, and then click again to submit.'),\n                answers: m.prop([\n                    'Very much',\n                    'Somewhat',\n                    'Undecided',\n                    'Not realy',\n                    'Not at all'\n                ]) \n            },\n            questionList: m.prop([\n                {stem:'Do you like chocolate?', name:'q1', inherit:'basicSelect'},\n                {stem:'Do you like bannanas?', name:'q2', inherit:'basicSelect'}\n            ]),\n            times: m.prop(false),\n            randomize: m.prop(true),\n            sequence: [\n                {\n                    mixer: 'repeat',\n                    times: m.prop(10),\n                    data: [\n                        {inherit:'basicPage'}\n                    ]\n                }\n            ]\n        };\n        return {path, form, submit, script};\n    },\n    view({form,submit, script, path}){      \n        let basicPage = script.basicPage;\n        let basicSelect = script.basicSelect;\n\n        return m('.wizard.container', [\n            m('h3', 'Rating wizard'),\n            m('p', 'This wizard is responsible for rating stuff'),\n            textInput({label:'File Name',  placeholder: 'Path to file', prop: path ,form, required:true}), \n\n            m('h4', 'Basic Page'),\n            textInput({label:'Header',  placeholder: 'Page header', help: 'The header for all pages.', prop: basicPage.header,form}), \n            checkboxInput({label: 'Decline', description: 'Allow users to decline', prop: basicPage.decline, form}),\n\n            m('h4', 'Basic Select'),\n            checkboxInput({label: 'autoSubmit', description: 'Submit upon second click', prop: basicSelect.autoSubmit, form}),\n            arrayInput({label: 'answers', prop: (basicSelect.answers), rows:7,  form, isArea:true, help: 'Each row here represents an answer option', required:true}),\n            checkboxInput({label: 'numericValues', description: 'Responses are recorded as numbers', prop: basicSelect.numericValues, form}),\n            maybeInput({label:'help', help: 'If and when to display the help text (use templates to control the when part)', prop: basicSelect.help,form}),\n            basicSelect.help()\n                ? textInput({label:'helpText',  help: 'The instruction text for using this type of question', prop: basicSelect.helpText,form, isArea: true})\n                : '',\n\n            m('h4', 'Sequence'),\n            checkboxInput({label: 'Randomize', description: 'Randomize questions', prop: script.randomize, form}),\n            maybeInput({label: 'Choose', help:'Set a number of questions to choose from the pool. If this option is not selected all questions will be used.', form, prop: script.times}),\n            arrayInput({label: 'questions', prop: script.questionList, toArr: (stem, index) => ({stem, name: `q${index}`, inherit:'basicSelect'}), fromArr: q => q.stem, rows:20,  form, isArea:true, help: 'Each row here represents a questions', required:true}),\n            m('.row', [\n                m('.col-cs-12.text-xs-right', [\n                    !form.showValidation() || form.isValid()\n                        ? m('button.btn.btn-primary', {onclick: submit}, 'Create')  \n                        : m('button.btn.btn-danger', {disabled: true}, 'Not Valid')\n                ])\n            ])\n        ]); \n    } \n};\n","import classNames from './classNames';\nexport default contextMenuComponent;\n\n/**\n * Set this component into your layout then use any mouse event to open the context menu:\n * oncontextmenu: contextMenuComponent.open([...menu])\n *\n * Example menu:\n * [\n *  {icon:'fa-play', text:'begone'},\n *  {icon:'fa-play', text:'asdf'},\n *  {separator:true},\n *  {icon:'fa-play', text:'wertwert', menu: [\n *      {icon:'fa-play', text:'asdf'}\n *  ]}\n * ]\n */\n\nconst contextMenuComponent = {\n    vm: {\n        show: m.prop(false),\n        style: m.prop({}),\n        menu: m.prop([])\n    },\n    view: () => {\n        return m(\n            '.context-menu',\n            {\n                class: classNames({'show-context-menu': contextMenuComponent.vm.show()}),\n                style: contextMenuComponent.vm.style()\n            },\n            contextMenuComponent.vm.menu().map(menuNode)\n        );\n    },\n\n    open: menu => e => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const left = e.pageX + 'px';\n        const top = e.pageY + 'px';\n        const bottom = (window.innerHeight - e.pageY) + 'px';\n        const style = window.innerHeight/2 > e.pageY ? {left,top} : {left,bottom};\n\n        contextMenuComponent.vm.menu(menu);\n        contextMenuComponent.vm.show(true);\n        contextMenuComponent.vm.style(style);\n\n        document.addEventListener('mousedown', onClick, false);\n        function onClick(){\n            contextMenuComponent.vm.show(false);\n            document.removeEventListener('mousedown', onClick);\n            m.redraw();\n        }\n    }\n};\n\nlet menuNode = (node, key) => {\n    if (!node) return '';\n    if (node.separator) return m('.context-menu-separator', {key:key});\n\n    let action = node.action;\n    if (node.href && !action) action = openTab;\n    if (node.disabled) action = null;\n    \n    return m('.context-menu-item', {class: classNames({disabled: node.disabled, submenu:node.menu, key: key})}, [\n        m('button.context-menu-btn',{onmousedown: action}, [\n            m('i.fa', {class:node.icon}),\n            m('span.context-menu-text', node.text)\n        ]),\n        node.menu ? m('.context-menu', node.menu.map(menuNode)) : ''\n    ]);\n\n    function openTab(){\n        let win = window.open(node.href, '_blank');\n        win.focus();\n    }\n};\n","import {fetchText} from 'utils/modelHelpers';\nimport {createFile} from './fileActions';\nimport messages from 'utils/messagesComponent';\n\n// add trailing slash if needed, and then remove proceeding slash\n// return prop\nlet pathProp = path => m.prop(path.replace(/\\/?$/, '/').replace(/^\\//, ''));\n\nexport let createFromTemplate = ({study, path, url, templateName}) => () => {\n    let name = pathProp(path);\n    let template = fetchText(url);\n\n    return messages.prompt({\n        header: `Create from \"${templateName}\"`,\n        content: 'Please insert the file name:',\n        prop: name\n    })\n        .then(response => {\n            if (response) return template.then(content => createFile(study, name,() => content));\n        })\n        .catch(err => {\n            let message = (err.response && err.response.status === 404)\n                ? `Template file not found at ${url}`\n                : err.message;\n\n            return messages.alert({\n                header: `Create from \"${templateName}\" failed`,\n                content: message\n            });\n        });\n};\n","export default hash;\n\nconst hash = {};\n\nhash.piPlayer = {\n    'Empty': '/implicit/user/yba/wizards/emptypip.js',\n    'Typical': '/implicit/user/yba/wizards/typical.js',\n    'Simple sorting task': '/implicit/user/yba/wizards/sorting.js',\n    'IAT (images)': '/implicit/user/yba/wizards/iatimages.js',\n    'IAT (words)': '/implicit/user/yba/wizards/iatwords.js',\n    'IAT (modify attributes)': '/implicit/user/yba/wizards/iatatt.js',\n    'IAT (all the parameters)': '/implicit/user/yba/wizards/iatall.js',\n    'Mobile IAT': '/implicit/user/yba/wizards/iatmobile.js',\n    'ST-IAT': '/implicit/user/yba/wizards/stiatsimple.js',\n    'ST-IAT (all parameters)': '/implicit/user/yba/wizards/stiatall.js',\n    'AMP (with words as primes)': '/implicit/user/yba/wizards/ampwords.js',\n    'AMP (all parameters)': '/implicit/user/yba/wizards/ampall.js',\n    'Brief-IAT': '/implicit/user/yba/wizards/batsimple.js',\n    'Brief-IAT (all parameters)': '/implicit/user/yba/wizards/batall.js',\n    'Attitude induction (behaviors)': '/implicit/user/yba/wizards/attitude.js',\n    'Evaluative Conditioning': '/implicit/user/yba/wizards/ec.js'\n};\n\nhash.piQuest = {\n    'Empty': '/implicit/user/yba/wizards/emptyquest.js',\n    'Rating Questionnaire': '/implicit/user/yba/wizards/rating.js',\n    'Rating Questionnaire (with images)': '/implicit/user/yba/wizards/ratingimages.js'\n};\n\nhash.piMessage = {\n    'Consent (Yoav lab)': '/implicit/user/yba/wizards/consent.jst',\n    'Intro': '/implicit/user/yba/wizards/intro.jst',\n    'Debriefing': '/implicit/user/yba/wizards/debriefing.jst'\n};\n\nhash.piManager = {\n    'Empty': '/implicit/user/yba/wizards/emptymgr.js',\n    'Typical': '/implicit/user/yba/wizards/typicalmgr.js'\n};\n","import contextMenu from 'utils/contextMenuComponent';\nimport messages from 'utils/messagesComponent';\nimport {launchUrl} from 'modelUrls';\n\nimport {\n    createDir, createEmpty, moveFile, duplicateFile, copyFile, renameFile, downloadFile, resetFile,\n    make_experiment, update_experiment, delete_experiment\n} from './fileActions';\nimport {createFromTemplate} from './wizardActions';\nimport wizardHash from './wizardHash';\nimport copyUrl from 'utils/copyUrl';\nexport default fileContext;\n\n\nlet fileContext = (file, study) => {\n    let path = !file ? '/' : file.isDir ? file.path : file.basePath;\n    let isReadonly = study.isReadonly;\n    let menu = [];\n\n    if (!isReadonly) {\n        menu = menu.concat([\n            {icon:'fa-folder', text:'New Directory', action: createDir(study, path)},\n            {icon:'fa-file', text:'New File', action: createEmpty(study, path)},\n            {icon:'fa-file-text', text:'New from template', menu: mapWizardHash(wizardHash)},\n            {icon:'fa-magic', text:'New from wizard', menu: [\n                {text: 'Rating wizard', action: activateWizard(`rating`)}\n            ]}\n        ]);\n    }\n    let version_id = study.versions.length? study.versions[study.versions.length-1].id : '';\n\n\n    // Allows to use as a button without a specific file\n    if (file) {\n        // console.log(file);\n        // let isExpt = /\\.expt\\.xml$/.test(file.name) && file.exp_data;\n        let isExpt = file.exp_data;\n\n        if (!isReadonly) menu.push({separator:true});\n\n        menu = menu.concat([\n            {icon:'fa-refresh', text: 'Refresh/Reset', action: resetFile(file), disabled: isReadonly || file.content() == file.sourceContent()},\n            {icon:'fa-download', text:'Download', action: downloadFile(study, file)},\n            {icon:'fa-link', text: 'Copy URL', action: copyUrl(file.url)},\n\n            !isExpt ?  {icon:'fa-desktop', text:'Make Experiment', action: make_experiment(file,study), disabled: isReadonly }\n                    :  {icon:'fa-desktop', text:'Experiment options', menu: [\n                        {icon:'fa-exchange', text:'Rename', action: update_experiment(file, study), disabled: isReadonly },\n                        {icon:'fa-close', text:'Cancel Experiment File', action: delete_experiment(file, study), disabled: isReadonly },\n                        { icon:'fa-play', href:`${launchUrl}/${file.exp_data.id}/${version_id}`, text:'Play this task'},\n                        {icon:'fa-link', text: 'Copy Launch URL', action: copyUrl(`${launchUrl}/${file.exp_data.id}/${version_id}`, true)}\n                    ]},\n\n            //     isExpt ?  { icon:'fa-play', href:`https://app-prod-03.implicit.harvard.edu/implicit/Launch?study=${file.url.replace(/^.*?\\/implicit/, '')}`, text:'Play this task'} : '',\n            // isExpt ? {icon:'fa-link', text: 'Copy Launch URL', action: copyUrl(`https://app-prod-03.implicit.harvard.edu/implicit/Launch?study=${file.url.replace(/^.*?\\/implicit/, '')}`)} : '',\n            {icon:'fa-close', text:'Delete', action: deleteFile, disabled: isReadonly },\n            {icon:'fa-arrows-v', text:'Move', action: moveFile(file,study), disabled: isReadonly },\n            {icon:'fa-clone', text:'Duplicate', action: duplicateFile(file, study), disabled: isReadonly },\n            {icon:'fa-clone', text:'Copy to Different Study', action: copyFile(file,study), disabled: isReadonly },\n            {icon:'fa-exchange', text:'Rename...', action: renameFile(file,study), disabled: isReadonly }\n        ]);\n    }\n\n    return contextMenu.open(menu);\n\n    function activateWizard(route){\n        return () => m.route(`/editor/${study.id}/wizard/` + route);\n    }\n    \n    function mapWizardHash(wizardHash){\n        return Object.keys(wizardHash).map((text) => {\n            let value = wizardHash[text];\n            return typeof value === 'string'\n                ? {text, action: createFromTemplate({study, path, url:value, templateName:text})}\n                : {text, menu: mapWizardHash(value)};\n        });\n    }\n\n    function deleteFile(){\n        let isFocused = file.id === m.route.param('fileId');\n\n        messages.confirm({\n            header:['Delete ',m('small', file.name)],\n            content: 'Are you sure you want to delete this file? This action is permanent!'\n        })\n        .then(ok => {\n            if (ok) return doDelete();\n        });\n\n        function doDelete(){\n            study.delFiles([file])\n                .then(redirect)\n                .catch(err => messages.alert({\n                    header: 'Failed to delete file:',\n                    content: err.message\n                }))\n                .then(m.redraw);\n        }\n\n        function redirect(response){\n            // redirect only if the file is chosen, otherwise we can stay right here...\n            if (isFocused) m.route(`/editor/${study.id}`); \n            return response;\n        }\n    } // end delete file\n};\n","const DRAGOVER_CLASS = 'is-dragover';\nfunction dragdrop(element, options) {\n    options = options || {};\n\n    element.addEventListener('dragover', activate);\n    element.addEventListener('dragleave', deactivate);\n    element.addEventListener('dragend', deactivate);\n    element.addEventListener('drop', deactivate);\n    element.addEventListener('drop', update);\n\n    function activate(e) {\n        e.preventDefault();\n        e.stopPropagation(); // so that only the lowest level element gets focused\n        element.classList.add(DRAGOVER_CLASS);\n    }\n    function deactivate() {\n        element.classList.remove(DRAGOVER_CLASS);\n    }\n    function update(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        onchange(options)(e);\n        m.redraw();\n    }\n}\n\nexport const uploadConfig = ctrl => (element, isInitialized) => {\n    if (!isInitialized) {\n        dragdrop(element, {onchange: ctrl.onchange});\n    }\n};\n\nexport const uploadBox = args => m('form.upload', {method:'post', enctype:'multipart/form-data', config:uploadConfig(args)},[\n    m('i.fa.fa-download .fa-3x.m-b-1'),\n    m('input.box__file', {id:'upload', type:'file', name:'files[]', 'data-multiple-caption':'{count} files selected', multiple:true, onchange:onchange(args)}),\n    m('label', {for:'upload'},\n        m('strong', 'Choose a file'),\n        m('span', ' or drag it here')\n    )\n]);\n\n// call onchange with files\nconst onchange = args => e => {\n    const dt = e.dataTransfer;\n    const cb = args.onchange;\n    if (typeof cb !== 'function') return;\n\n    if (dt.items && dt.items.length && 'webkitGetAsEntry' in dt.items[0]) {\n        entriesApi(dt.items, cb);\n    } else if ('getFilesAndDirectories' in dt) {\n        newDirectoryApi(dt, cb);\n    } else if (dt.files) {\n        arrayApi(dt, cb);\n    } else cb();\n};\n\n// API implemented in Firefox 42+ and Edge\nfunction newDirectoryApi(input, cb) {\n    const fd = new FormData(), files = [];\n    const iterate = function(entries, path, resolve) {\n        const promises = [];\n        entries.forEach(function(entry) {\n            promises.push(new Promise(function(resolve) {\n                if ('getFilesAndDirectories' in entry) {\n                    entry.getFilesAndDirectories().then(function(entries) {\n                        iterate(entries, entry.path + '/', resolve);\n                    });\n                } else {\n                    if (entry.name) {\n                        const p = (path + entry.name).replace(/^[/\\\\]/, '');\n                        fd.append('files[]', entry, p);\n                        files.push(p);\n                    }\n                    resolve();\n                }\n            }));\n        });\n        Promise.all(promises).then(resolve);\n    };\n    input.getFilesAndDirectories().then(function(entries) {\n        new Promise(function(resolve) {\n            iterate(entries, '/', resolve);\n        }).then(cb.bind(null, fd, files));\n    });\n}\n\n// old prefixed API implemented in Chrome 11+ as well as array fallback\nfunction arrayApi(input, cb) {\n    const fd = new FormData(), files = [];\n    [].slice.call(input.files).forEach(function(file) {\n        fd.append('files[]', file, file.webkitRelativePath || file.name);\n        files.push(file.webkitRelativePath || file.name);\n    });\n    cb(fd, files);\n}\n\n// old drag and drop API implemented in Chrome 11+\nfunction entriesApi(items, cb) {\n    var fd = new FormData(), files = [], rootPromises = [];\n\n    function readEntries(entry, reader, oldEntries, cb) {\n        var dirReader = reader || entry.createReader();\n        dirReader.readEntries(function(entries) {\n            var newEntries = oldEntries ? oldEntries.concat(entries) : entries;\n            if (entries.length) {\n                setTimeout(readEntries.bind(null, entry, dirReader, newEntries, cb), 0);\n            } else {\n                cb(newEntries);\n            }\n        });\n    }\n\n    function readDirectory(entry, path, resolve) {\n        if (!path) path = entry.name;\n        readEntries(entry, 0, 0, function(entries) {\n            const promises = [];\n            entries.forEach(function(entry) {\n                promises.push(new Promise(function(resolve) {\n                    if (entry.isFile) {\n                        entry.file(function(file) {\n                            const p = path + '/' + file.name;\n                            fd.append('files[]', file, p);\n                            files.push(p);\n                            resolve();\n                        }, resolve.bind());\n                    } else readDirectory(entry, path + '/' + entry.name, resolve);\n                }));\n            });\n            Promise.all(promises).then(resolve.bind());\n        });\n    }\n\n    [].slice.call(items).forEach(function(entry) {\n        entry = entry.webkitGetAsEntry();\n        if (entry) {\n            rootPromises.push(new Promise(function(resolve) {\n                if (entry.isFile) {\n                    entry.file(function(file) {\n                        fd.append('files[]', file, file.name);\n                        files.push(file.name);\n                        resolve();\n                    }, resolve.bind());\n                } else if (entry.isDirectory) {\n                    readDirectory(entry, null, resolve);\n                }\n            }));\n        }\n    });\n    Promise.all(rootPromises).then(cb.bind(null, fd, files));\n}\n","import folder from './folderComponent';\nimport classNames from 'utils/classNames';\nimport fileContext from './fileContext';\nimport {uploadConfig} from 'utils/uploader';\nimport {uploadFiles} from './fileActions';\n\nexport default node;\n\nlet node = (args) => m.component(nodeComponent, args);\n\nlet nodeComponent = {\n    view: (ctrl, {file,folderHash, study}) => {\n        const vm = study.vm(file.id); // vm is created by the studyModel\n        const hasChildren = !!(file.isDir && file.files && file.files.length);\n        return m('li.file-node',\n            {\n                key: file.id,\n                class: classNames({\n                    open : vm.isOpen()\n                }),\n                onclick: file.isDir ? toggleOpen(vm) : select(file),\n                oncontextmenu: fileContext(file, study),\n                config: file.isDir ? uploadConfig({onchange:uploadFiles(file.path, study)}) : null\n            },\n            [\n                m('a.wholerow', {\n                    unselectable:'on',\n                    class:classNames({\n                        'current': m.route.param('fileId') === file.id\n                    })\n                }, m.trust('&nbsp;')),\n                m('i.fa.fa-fw', {\n                    class: classNames({\n                        'fa-caret-right' : hasChildren && !vm.isOpen(),\n                        'fa-caret-down': hasChildren && vm.isOpen()\n                    })\n                }),\n\n                m('a', {class:classNames({'text-primary': /\\.expt\\.xml$/.test(file.name)})}, [\n                    // checkbox\n                    m('i.fa.fa-fw', {\n                        onclick: choose({file,study}),\n                        class: classNames({\n                            'fa-check-square-o': vm.isChosen() === 1,\n                            'fa-square-o': vm.isChosen() === 0,\n                            'fa-minus-square-o': vm.isChosen() === -1\n                        })\n                    }),\n\n                    // icon\n                    m('i.fa.fa-fw.fa-file-o', {\n                        class: classNames({\n                            'fa-file-code-o': /(js)$/.test(file.type),\n                            'fa-file-text-o': /(jst|html|xml)$/.test(file.type),\n                            'fa-file-image-o': /(jpg|png|bmp)$/.test(file.type),\n                            'fa-file-pdf-o': /(pdf)$/.test(file.type),\n                            'fa-folder-o': file.isDir\n                        })\n                    }),\n\n                    // file name\n                    m('span',{class:classNames({'font-weight-bold':file.hasChanged()})},` ${file.name}`),\n\n                    // children\n                    hasChildren && vm.isOpen() ? folder({path: file.path + '/', folderHash, study}) : ''\n                ])\n            ]\n        );\n    }\n};\n\nconst toggleOpen = vm => e => {\n    vm.isOpen(!vm.isOpen());\n    e.preventDefault();\n    e.stopPropagation();\n};\n\n// select specific file and display it\nconst select = (file) => e => {\n    e.stopPropagation();\n    e.preventDefault();\n    if (file.viewStudy) m.route(`/view/${m.route.param('code')}/file/${encodeURIComponent(file.id)}`);\n    else m.route(`/editor/${file.studyId}/file/${encodeURIComponent(file.id)}`);\n    m.redraw.strategy('diff'); // make sure that the route change is diffed as opposed to redraws\n};\n\n// checkmark a file/folder\nconst choose = ({file, study}) => e => {\n    e.stopPropagation();\n    e.preventDefault();\n\n    let lastState = isChosen(file)();\n\n    // mark decendents (and the file itself\n    study\n        .getChildren(file)\n        .forEach(f => isChosen(f)(lastState === 1 ? 0 : 1)); // update vm for each child\n\n    function isChosen(file){\n        return study.vm(file.id).isChosen;\n    }\n};\n","import node from './nodeComponent';\nexport default folder;\n\nlet folder = args => {\n    args.key = args.path;\n    return m.component(folderComponent, args);\n};\n\nlet folderComponent = {\n    view(ctrl, {path, folderHash, study}){\n        let files = folderHash[path] || [];\n\n        return m('.files', [\n            m('ul', files.map(file => node({key: file.id, file, folderHash, study})))\n        ]);\n    }\n};\n","import folderComponent from './folderComponent';\nimport classNames from 'utils/classNames';\nimport {uploadConfig} from 'utils/uploader';\nimport {uploadFiles} from './fileActions';\nexport default filesList;\n\nlet filesList = ({study}) => {\n    let folderHash = parseFiles(study.files());\n    let config = uploadConfig({onchange:uploadFiles('/', study)});\n    let chooseState = getCurrentState(study); \n\n    return m('.sidebar-files', {config}, [\n        m('h5', [\n            m('small', [\n                m('i.fa.fa-fw', {\n                    onclick: choose(chooseState, study),\n                    class: classNames({\n                        'fa-check-square-o': chooseState === 1,\n                        'fa-square-o': chooseState === 0,\n                        'fa-minus-square-o': chooseState === -1\n                    })\n                })\n            ]),\n            m('a.no-decoration', {href:`/editor/${study.id}`, config:m.route}, study.name)\n        ]),\n        study.isUploading\n            ? m('div', [\n                m('.loader'),\n                m('.text-sm-center', [\n                    m('strong', 'UPLOADING...')\n                ])\n            ])\n            : folderComponent({path:'/',folderHash, study})\n    ]);\n};\n\nconst parseFiles = files => files.reduce((hash, file)=>{\n    const path = file.basePath;\n    if (!hash[path]) hash[path] = [];\n    hash[path].push(file);\n    return hash;\n}, {});\n\nfunction choose(currentState, study){\n    return () => study.files().forEach(file => study.vm(file.id).isChosen(currentState === 1 ? 0 : 1));\n}\n\nfunction getCurrentState(study){\n    const vm = study.vm;\n    const filesCount = study.files().length;\n    const chosenCount = study.files().reduce((result, file) => vm(file.id).isChosen() ? result + 1 : result, 0);\n    return !chosenCount ? 0 : filesCount === chosenCount ? 1 : -1;\n}\n","import classNames from './classNames';\nexport default dropdown;\n\n/**\n * VirtualElement dropdown(Object {String toggleSelector, Element toggleContent, Element elements})\n *\n * where:\n *  Element String text | VirtualElement virtualElement | Component\n * \n * @param toggleSelector the selector for the toggle element\n * @param toggleContent the: content for the toggle element\n * @param elements: a list of dropdown items (http://v4-alpha.getbootstrap.com/components/dropdowns/)\n **/\nconst dropdown = args => m.component(dropdownComponent, args);\n\n\nconst dropdownComponent = {\n    controller(){\n        return {\n            isOpen : m.prop(false),\n            inLowerViewport: m.prop(true)\n        }\n    },\n\n    view({isOpen, inLowerViewport}, {toggleSelector, toggleContent, elements, right}){\n        return m('.dropdown.dropdown-component', { class: classNames({ open: isOpen()}), config: dropdownComponent.config(isOpen)}, [\n            m(toggleSelector, {onmousedown}, toggleContent), \n            m('.dropdown-menu', {class: classNames({'dropdown-menu-right' :right, 'dropdown-menu-up': inLowerViewport()})}, elements)\n        ]);\n\n        function onmousedown(e){\n            inLowerViewport(document.documentElement.clientHeight / 2 < e.target.getBoundingClientRect().top);\n            isOpen(!isOpen());\n        }\n    },\n\n    config: isOpen => (element, isInit, ctx) => {\n        if (!isInit) {\n            // this is a bit memory intensive, but lets not preemptively optimse\n            // bootstrap does this with a backdrop\n            document.addEventListener('mousedown', onClick, false);\n            ctx.onunload = () => document.removeEventListener('mousedown', onClick);\n        }\n\n        function onClick(e){\n            if (!isOpen()) return;\n\n            // if we are within the dropdown do not close it\n            // this is conditional to prevent IE problems\n            if (e.target.closest && e.target.closest('.dropdown') === element && !hasClass(e.target, 'dropdown-onclick')) return true;\n            isOpen(false);\n            m.redraw();\n        }\n\n        function hasClass(el, selector){\n            return ( (' ' + el.className + ' ').replace(/[\\n\\t\\r]/g, ' ').indexOf(' ' + selector + ' ') > -1 );\n        }\n    }\n};\n","import {} from '../studyModel';\nexport default args => m.component(studyTemplatesComponent, args);\n\nlet studyTemplatesComponent = {\n    controller({load_templates, studies, reuse_id, templates, template_id}){\n        let loaded = m.prop(false);\n        let error = m.prop(null);\n        load_templates()\n            .then(response => templates(response.templates))\n            .catch(error)\n            .then(loaded.bind(null, true))\n            .then(m.redraw);\n        return {studies, template_id, reuse_id, templates, loaded, error};\n    },\n    view: ({studies, template_id, reuse_id, templates, loaded, error}) => m('div.space', [\n        loaded() ? '' : m('.loader'),\n        error() ? m('.alert.alert-warning', error().message): '',\n        loaded() && !templates().length ? m('.alert.alert-info', 'There is no templates yet') : '',\n        m('select.form-control', {value:template_id(), onchange: m.withAttr('value',template_id)}, [\n            m('option',{value:'', disabled: true}, 'Select template'),\n            templates().filter(ownerFilter()).sort(sort_studies).map(study =>\n            m('option',{value:study.id}, study.name))\n        ]),\n        !template_id() ? '' :\n        m('div.space', [\n            m('select.form-control', {value:reuse_id(), onchange: m.withAttr('value',reuse_id)}, [\n                m('option',{value:'', disabled: true}, 'Select template for reuse (optional)'),\n                studies.map(study =>\n                    m('option',{value:study.id}, study.name))\n            ])])\n\n    ])\n};\n\nfunction sort_studies(study_1, study_2){return study_1.name.toLowerCase() === study_2.name.toLowerCase() ? 0 : study_1.name.toLowerCase() > study_2.name.toLowerCase() ? 1 : -1;}\n\nlet ownerFilter = () => study => {\n    return study.permission == 'owner';\n};\n","import {fetchJson} from 'utils/modelHelpers';\nimport {tagsUrl, studyUrl} from 'modelUrls';\n\n\n\nfunction tag_url(tag_id)\n{\n    return `${tagsUrl}/${encodeURIComponent(tag_id)}`;\n}\n\nfunction study_url(study_id) {\n    return `${studyUrl}/${encodeURIComponent(study_id)}/tags`;\n}\n\n\nfunction study_tag_url(study_id, tag_id) {\n    return `${studyUrl}/${encodeURIComponent(study_id)}/tags/${encodeURIComponent(tag_id)}`;\n}\n\nexport let toggle_tag_to_study = (study_id, tag_id, used) => {\n    if(used)\n        return add_tag_to_study(study_id, tag_id);\n    return delete_tag_from_study(study_id, tag_id);\n};\n\nexport let update_tags_in_study = (study_id, tags) => fetchJson(study_url(study_id), {\n    method: 'put',\n    body: {tags}\n});\n\n\nexport let add_tag_to_study = (study_id, tag_id) => fetchJson(study_tag_url(study_id, tag_id), {\n    method: 'post'\n});\n\nexport let delete_tag_from_study = (study_id, tag_id) => fetchJson(study_tag_url(study_id, tag_id), {\n    method: 'delete'\n});\n\nexport let get_tags = () => fetchJson(tagsUrl, {\n    method: 'get'\n});\n\n\nexport let get_tags_for_study = (study_id) => fetchJson(study_url(study_id), {\n    method: 'get'\n});\n\nexport let remove_tag = (tag_id) => fetchJson(tag_url(tag_id), {\n    method: 'delete'\n});\n\nexport let add_tag = (tag_text, tag_color) => fetchJson(tagsUrl, {\n    method: 'post',\n    body: {tag_text, tag_color}\n});\n\nexport let edit_tag = (tag_id, tag_text, tag_color) => fetchJson(tag_url(tag_id), {\n    method: 'put',\n    body: {tag_text, tag_color}\n});\n","import {add_tag, get_tags_for_study} from './tagsModel';\nexport default args => m.component(studyTagsComponent, args);\n\nlet studyTagsComponent = {\n    controller({tags, study_id}){\n        let tagName = m.prop('');\n        let loaded = m.prop(false);\n        let error = m.prop(null);\n        get_tags_for_study(study_id)\n            .then(response => tags(response.tags))\n            .catch(error)\n            .then(loaded.bind(null, true))\n            .then(m.redraw);\n\n        return {tagName, tags, loaded, error};\n    },\n    view: ({tagName, tags, loaded, error}, {study_id}) => m('div', [\n        m('.input-group', [\n            m('input.form-control', {\n                placeholder: 'Filter Tags',\n                value: tagName(),\n                oninput: m.withAttr('value', tagName)\n            }),\n            m('span.input-group-btn', [\n                m('button.btn.btn-secondary', {onclick: create_tag(study_id, tagName, tags, error), disabled: !tagName()}, [\n                    m('i.fa.fa-plus'),\n                    ' Create New'\n                ])\n            ])\n        ]),\n        m('.small.text-muted.m-b-1', 'Use this text field to filter your tags. Click \"Create New\" to turn a filter into a new tag'),\n\n        loaded() ? '' : m('.loader'),\n        error() ? m('.alert.alert-warning', error().message): '',\n        loaded() && !tags().length ? m('.alert.alert-info', 'You have no tags yet') : '',\n\n        m('.custom-controls-stacked.pre-scrollable', tags().sort(sort_tags).filter(filter_tags(tagName())).map(tag => m('label.custom-control.custom-checkbox', [\n            m('input.custom-control-input', {\n                type: 'checkbox',\n                checked: tag.used,\n                onclick: function(){\n                    tag.used = !tag.used;\n                    tag.changed = !tag.changed;\n                }\n            }), \n            m('span.custom-control-indicator'),\n            m('span.custom-control-description.m-l-1.study-tag',{style: {'background-color': '#' + tag.color}}, tag.text)\n        ])))\n    ])\n};\n\nfunction filter_tags(val){return tag => tag.text.indexOf(val) !== -1;}\nfunction sort_tags(tag_1, tag_2){return tag_1.text.toLowerCase() === tag_2.text.toLowerCase() ? 0 : tag_1.text.toLowerCase() > tag_2.text.toLowerCase() ? 1 : -1;}       \n\n\nfunction create_tag(study_id, tagName, tags, error){\n    return () => add_tag(tagName(), 'E7E7E7')\n        .then(response => tags().push(response))\n        .then(tagName.bind(null, ''))\n        .catch(error)\n        .then(m.redraw);\n}\n","export default args => m.component(createMessage, args);\nimport {dateRangePicker} from 'utils/dateRange';\nimport {get_exps, get_data} from '../study/studyModel';\nimport {baseUrl} from 'modelUrls';\n\nlet createMessage = {\n    controller({exps, dates, study_id, versions, close}){\n        let exp_id = m.prop('');\n        let version_id = m.prop('');\n        let all_exps = m.prop('');\n        let all_versions = m.prop('');\n        let file_format = m.prop('csv');\n        let file_split = m.prop('taskName');\n\n        let loaded     = m.prop(false);\n        let downloaded = m.prop(true);\n        let link = m.prop('');\n        let error = m.prop(null);\n        dates ={\n            startDate: m.prop(daysAgo(3650)),\n            endDate: m.prop(new Date())\n        };\n\n        get_exps(study_id)\n            .then(response => {exps(response.experiments); all_exps(exps().map(exp=>exp.id)); exp_id(all_exps());})\n            .then(()=> {all_versions(versions.map(version=>version.id)); version_id(all_versions())})\n            .catch(error)\n            .then(loaded.bind(null, true))\n            .then(m.redraw);\n\n        return {study_id, exp_id, version_id, file_format, exps, versions, file_split, all_exps, all_versions, loaded, downloaded, link, error, dates, close};\n    },\n    view: ({study_id, exp_id, version_id, file_format, file_split, exps, versions, all_exps, all_versions, loaded, downloaded, link, error, dates, close}) => m('div', [\n\n        m('.card-block', [\n            m('.row', [\n                m('.col-sm-4', [\n                    m('.input-group', [m('strong', 'Experimant id'),\n                        m('select.c-select.form-control',{onchange: e => exp_id(e.target.value)}, [\n                            exps().length<=1 ? '' : m('option', {selected:true, value:all_exps()}, 'All experiments'),\n                            exps().map(exp=> m('option', {value:exp.id}, exp.descriptive_id))\n                        ])\n                    ])\n                ]),\n                m('.col-sm-5', [\n                    m('.input-group', [m('strong', 'Version id'),\n                        m('select.c-select.form-control',{onchange: e => version_id(e.target.value)}, [\n                            versions.length<=1 ? '' : m('option', {selected:true, value:all_versions()}, 'All versions'),\n                            versions.map(version=> m('option', {value:version.id}, `${version.version} (${version.state})`))\n                        ])\n                    ])\n                ]),\n                m('p',exp_id),\n                m('.col-sm-3', [\n                    m('.input-group', [m('strong', 'Output type'),\n                        m('select.c-select.form-control',{onchange: e => file_format(e.target.value)}, [\n                            m('option', {value:'csv'}, 'csv'),\n                            m('option', {value:'tsv'}, 'tsv'),\n                            m('option', {value:'json', disabled:true}, 'json')\n                        ])\n                    ])\n                ])\n            ]),\n            m('.row.space', [\n                m('.col-sm-9', [\n                    m('span', 'Split to files by (clear text to download in one file):'),\n                    m('input.form-control', {\n                        placeholder: 'File split variable',\n                        value: file_split(),\n                        oninput: m.withAttr('value', file_split)\n                    })\n                ])\n\n            ]),\n            m('.row.space', [\n                m('.col-sm-12', [\n                    m('.form-group', [\n                        dateRangePicker(dates),\n                        m('p.text-muted.btn-toolbar', [\n                            dayButtonView(dates, 'Last 7 Days', 7),\n                            dayButtonView(dates, 'Last 30 Days', 30),\n                            dayButtonView(dates, 'Last 90 Days', 90),\n                            dayButtonView(dates, 'All time', 3650)\n                        ])\n                    ])\n                ])\n            ])\n        ]),\n        loaded() ? '' : m('.loader'),\n        error() ? m('.alert.alert-warning', error()): '',\n        !loaded() && exps().length<1 ? m('.alert.alert-info', 'You have no experiments yet') : '',\n\n        !link() ? '' : m('input-group-addon', ['Your file is ready for downloading: ', m('a', {href: link()}, link())]),\n\n        downloaded() ? '' : m('.loader'),\n        m('.text-xs-right.btn-toolbar',[\n            m('a.btn.btn-secondary.btn-sm', {onclick:()=>{close(null);}}, 'Cancel'),\n            m('a.btn.btn-primary.btn-sm', {onclick:()=>{ask_get_data(study_id, exp_id, version_id, file_format, file_split, dates, downloaded, link, error); }}, 'OK')\n        ])\n    ])\n};\n\nfunction ask_get_data(study_id, exp_id, version_id, file_format, file_split, dates, downloaded, link, error){\n    error('');\n    if(exp_id() =='')\n        return error('Please select experiment id');\n\n    if(!Array.isArray(exp_id()))\n        exp_id(exp_id().split(','));\n    downloaded(false);\n\n    return get_data(study_id, exp_id(), version_id(), file_format(), file_split(), dates.startDate(), dates.endDate())\n        .then(response => {\n            const file_data = response.data_file;\n            if (file_data == null) return Promise.reject('There was a problem creating your file, please contact your administrator');\n            link(`${baseUrl}/download?path=${file_data}`, file_data);\n        })\n        .catch(error)\n        .then(()=>downloaded(true))\n        .then(m.redraw);\n}\n\n// helper functions for the day buttons\nlet daysAgo = (days) => {\n    let d = new Date();\n    d.setDate(d.getDate() - days);\n    return d;\n};\nlet equalDates = (date1, date2) => date1.getDate() === date2.getDate() && date1.getMonth() === date2.getMonth();\nlet activeDate = ({startDate, endDate}, days) => equalDates(startDate(), daysAgo(days)) && equalDates(endDate(), new Date());\nlet dayButtonView = (dates, name, days) => m('button.btn.btn-secondary.btn-sm', {\n\n    class: activeDate(dates, days)? 'active' : '',\n    onclick: () => {\n        dates.startDate(daysAgo(days));\n        dates.endDate(new Date());\n    }\n}, name);\n","import {fetchJson} from 'utils/modelHelpers';\nimport {studyUrl} from 'modelUrls';\n\n\nfunction collaboration_url(study_id)\n{\n    return `${studyUrl}/${encodeURIComponent(study_id)}/collaboration`;\n}\n\nfunction link_url(study_id)\n{\n    return `${studyUrl}/${encodeURIComponent(study_id)}/link`;\n}\n\n\n\nfunction public_url(study_id)\n{\n    return `${studyUrl}/${encodeURIComponent(study_id)}/public`;\n}\n\nexport let get_collaborations = (study_id) => fetchJson(collaboration_url(study_id), {\n    method: 'get'\n});\n\nexport let remove_collaboration = (study_id, user_id) => fetchJson(collaboration_url(study_id), {\n    method: 'delete',\n    body: {user_id: user_id}\n});\n\n\nexport let add_collaboration = (study_id, user_name, permission) => fetchJson(collaboration_url(study_id), {\n    method: 'post',\n    body: {user_name, permission}\n});\n\n\nexport let add_link = (study_id) => fetchJson(link_url(study_id), {\n    method: 'post'\n});\n\nexport let revoke_link = (study_id) => fetchJson(link_url(study_id), {\n    method: 'delete'\n});\n\n\n\nexport let make_pulic = (study_id, is_public) => fetchJson(public_url(study_id), {\n    method: 'post',\n    body: {is_public}\n});","import messages from 'utils/messagesComponent';\n\nimport {lock_study, publish_study, duplicate_study, create_study, delete_study, rename_study, update_study, load_templates} from './studyModel';\nimport studyTemplatesComponent from './templates/studyTemplatesComponent';\nimport studyTagsComponent from '../tags/studyTagsComponent';\nimport createMessage from '../downloads/dataComp';\n\n\nimport {update_tags_in_study} from '../tags/tagsModel';\nimport {make_pulic} from './sharing/sharingModel';\nimport copyUrl from 'utils/copyUrl';\n\nexport let do_create = (type, studies) => {\n    const study_name = m.prop('');\n    const description = m.prop('');\n    let templates = m.prop([]);\n    let template_id = m.prop('');\n    let reuse_id = m.prop('');\n    let error = m.prop('');\n    const isOpenServer = true;\n    const study_type = m.prop('minno02');\n    const isTemplate = type !== 'regular';\n\n    let ask = () => messages.confirm({\n        header: isTemplate ? 'New Template Study' : 'New Study',\n        content: m.component({\n            view: () => m('p', [\n                m('.form-group', [\n                    m('label', 'Enter Study Name:'),\n                    m('input.form-control',  {oninput: m.withAttr('value', study_name)})\n                ]),\n                m('.form-group', [\n                    m('label', 'Enter Study Description:'),\n                    m('textarea.form-control',  {oninput: m.withAttr('value', description)})\n                ]),\n                isTemplate || !isOpenServer ? '' : m('.form-group', [\n                    m('label', 'Pick Study Player:'),\n                    m('select.c-select.form-control', { onchange: m.withAttr('value', study_type)}, [\n                        m('option', {value:'minno02'}, 'MinnoJS v0.2'),\n                        m('option', {value:'html'}, 'JSPysch (run any HTML)')\n                    ])\n                ]),\n                !error() ? '' : m('p.alert.alert-danger', error()),\n                !isTemplate ? '' : m('p', studyTemplatesComponent({load_templates, studies, reuse_id, templates, template_id}))\n            ])\n        })\n    }).then(response => response && create());\n\n    let create = () => create_study({study_name, study_type, description, type, template_id, reuse_id})\n        .then(response => m.route(type == 'regular' ? `/editor/${response.study_id}` : `/translate/${response.study_id}`))\n        .catch(e => {\n            error(e.message);\n            ask();\n        });\n    ask();\n};\n\nexport const do_tags = (study) => e => {\n    e.preventDefault();\n    const study_id = study.id;\n    const filter_tags = ()=>{return tag => tag.changed;};\n    const tags = m.prop([]);\n    messages.confirm({header:'Tags', content: studyTagsComponent({tags, study_id})})\n        .then(function (response) {\n            if (response){\n                const new_tags = tags().filter(tag=> tag.used);\n                study.tags = new_tags;\n                tags(tags().filter(filter_tags()).map(tag=>(({text: tag.text, id: tag.id, used: tag.used}))));\n                return update_tags_in_study(study_id, tags);\n            }\n        })\n        .then(m.redraw);\n};\n\nexport let do_data = (study) => e => {\n    e.preventDefault();\n    // let exps = get_exps[]);\n    // console.log(exps);\n\n    let study_id = study.id;\n    let versions = study.versions;\n    let exps = m.prop([]);\n    let tags = m.prop([]);\n    let dates = m.prop();\n\n    let close = messages.close;\n    messages.custom({header:'Data download', content: createMessage({tags, exps, dates, study_id, versions, close})})\n        .then(m.redraw);\n};\n\n\nexport let do_make_public = (study) => e =>\n{\n    e.preventDefault();\n    let error = m.prop('');\n    return messages.confirm({okText: ['Yes, make ', !study.is_public ? 'public' : 'private'], cancelText: ['No, keep ', !study.is_public ? 'private' : 'public' ], header:'Are you sure?', content:m('p', [m('p', !study.is_public\n            ?\n            'Making the study public will allow everyone to view the files. It will NOT allow others to modify the study or its files.'\n            :\n            'Making the study private will hide its files from everyone but you.'),\n            m('span', {class: error() ? 'alert alert-danger' : ''}, error())])})\n        .then(response => {\n            if (response) make_pulic(study.id, !study.is_public)\n                .then(study.is_public = !study.is_public)\n                .then(m.redraw);\n        });\n\n};\n\n\nexport let do_delete = (study) => e => {\n    e.preventDefault();\n    return messages.confirm({header:'Delete study', content:'Are you sure?'})\n        .then(response => {\n            if (response) delete_study(study.id)\n                .then(()=>study.deleted=true)\n                .catch(error => messages.alert({header: 'Delete study', content: m('p.alert.alert-danger', error.message)}))\n                .then(m.redraw)\n                .then(m.route('./'))\n                ;\n\n        });\n};\n\nexport const update_study_description = (study) => e => {\n    e.preventDefault();\n    const study_description = m.prop(study.description);\n    const error = m.prop();\n\n    const ask = () => messages.confirm({\n        header:'Study Description',\n        content: {\n            view(){\n                return m('div', [\n                    m('textarea.form-control',  {placeholder: 'Enter description', value: study_description(), onchange: m.withAttr('value', study_description)}),\n                    !error() ? '' : m('p.alert.alert-danger', error())\n                ]);\n            }\n        }\n    }).then(response => response && rename());\n\n    const rename = () => update_study(study.id, {description:study_description()})\n        .then(()=>study.description=study_description())\n        .catch(e => {\n            error(e.message);\n            ask();\n        })\n        .then(m.redraw);\n\n    ask();\n};\n\nexport const do_rename = (study) => e => {\n    e.preventDefault();\n    let study_name = m.prop(study.name);\n    let error = m.prop('');\n\n    let ask = () => messages.confirm({\n        header:'New Name',\n        content: {\n            view(){\n                return m('div', [\n                    m('input.form-control',  {placeholder: 'Enter Study Name', value: study_name(), onchange: m.withAttr('value', study_name)}),\n                    !error() ? '' : m('p.alert.alert-danger', error())\n                ]);\n            }\n        }\n    }).then(response => response && rename());\n\n    let rename = () => rename_study(study.id, study_name)\n        .then(()=>study.name=study_name())\n        .then(m.redraw)\n        .catch(e => {\n            error(e.message);\n            ask();\n        }).then(m.redraw);\n\n    ask();\n};\n\nexport let do_duplicate= (study, callback) => e => {\n    e.preventDefault();\n    let study_name = m.prop(study.name);\n    let error = m.prop('');\n\n    let ask = () => messages.confirm({\n        header:'New Name',\n        content: m('div', [\n            m('input.form-control', {placeholder: 'Enter Study Name', onchange: m.withAttr('value', study_name)}),\n            !error() ? '' : m('p.alert.alert-danger', error())\n        ])\n    }).then(response => response && duplicate());\n\n    let duplicate= () => duplicate_study(study.id, study_name)\n        .then(response => m.route( study.type=='regular' ? `/editor/${response.study_id}`: `/editor/${response.study_id}` ))\n        .then(callback)\n        .then(m.redraw)\n        .catch(e => {\n            error(e.message);\n            ask();\n        });\n    ask();\n};\n\nexport let do_lock = (study, callback) => e => {\n    e.preventDefault();\n    let error = m.prop('');\n\n    let ask = () => messages.confirm({okText: ['Yes, ', study.is_locked ? 'unlock' : 'lock' , ' the study'], cancelText: 'Cancel', header:'Are you sure?', content:m('p', [m('p', study.is_locked\n        ?\n        !study.is_published\n            ?\n            'Unlocking the study will let you modifying the study. When a study is Unlocked, you can add files, delete files, rename files, edit files, rename the study, or delete the study.'\n            :\n            [\n                m('p','Unlocking the study will let you modifying the study. When a study is Unlocked, you can add files, delete files, rename files, edit files, rename the study, or delete the study.'),\n                m('p','However, the study is currently published so you might want to make sure participants are not taking it. We recommend unlocking a published study only if you know that participants are not taking it while you modify the files, or if you know exactly what you are going to change and you are confident that you will not make mistakes that will break the study.')\n            ]\n        :\n        'Are you sure you want to lock the study? This will prevent you from modifying the study until you unlock the study again. When a study is locked, you cannot add files, delete files, rename files, edit files, rename the study, or delete the study.'),\n        !error() ? '' : m('p.alert.alert-danger', error())])\n    })\n\n    .then(response => response && lock());\n\n    const lock= () => lock_study(study.id, !study.is_locked)\n        .then(() => study.is_locked = !study.is_locked)\n        .then(() => study.isReadonly = study.is_locked)\n        .then(callback)\n\n        .catch(e => {\n            error(e.message);\n            ask();\n        })\n        .then(m.redraw);\n    ask();\n};\n\nexport let do_publish = (study, callback) => e => {\n    e.preventDefault();\n    let error = m.prop('');\n    let update_url =m.prop('update');\n\n    let ask = () => messages.confirm({okText: ['Yes, ', study.is_published ? 'Unpublish' : 'Publish' , ' the study'], cancelText: 'Cancel', header:[study.is_published ? 'Unpublish' : 'Publish', ' the study?'],\n        content:m('p',\n            [m('p', study.is_published\n                ?\n                'The launch URL participants used to run the study will be removed. Participants using this link will see an error page. Use it if you completed running the study, or if you want to pause the study and prevent participants from taking it for a while. You will be able to publish the study again, if you want.'\n                :\n                [\n                    m('p', 'This will create a link that participants can use to launch the study.'),\n                    m('p', 'Publishing locks the study for editing to prevent you from modifying the files while participants take the study. To make changes to the study, you will be able to unpublish it later.'),\n                    m('p', 'Although it is strongly not recommended, you can also unlock the study after it is published by using Unlock Study in the Study menu.'),\n                    m('p', 'After you publish the study, you can obtain the new launch URL by right clicking on the experiment file and choosing Experiment options->Copy Launch URL')\n\n                    ,m('.input-group', [\n                        m('select.c-select.form-control',{onchange: e => update_url(e.target.value)}, [\n                            m('option', {value:'update', selected:true}, 'Update the launch URL'),\n                            m('option', {value:'keep'}, 'Keep the launch URL'),\n                            study.versions.length<2 ? '' : m('option', {value:'reuse'}, 'Use the launch URL from the previous published version')\n                        ])\n                    ])\n                ]),\n                !error() ? '' : m('p.alert.alert-danger', error())])\n    })\n\n        .then(response => response && publish());\n\n    let publish= () => publish_study(study.id, !study.is_published, update_url)\n        .then(res=>study.versions.push(res))\n        .then(study.is_published = !study.is_published)\n        .then(study.is_locked = study.is_published || study.is_locked)\n        .then(study.isReadonly = study.is_locked)\n        .then(callback)\n\n        .catch(e => {\n            error(e.message);\n            ask();\n        })\n        .then(m.redraw);\n    ask();\n};\n\nexport const do_copy_url = study => copyUrl(study.base_url);\n","import {update_study_description, do_delete, do_duplicate, do_rename, do_tags, do_data, do_lock, do_publish, do_copy_url, do_make_public} from './studyActions';\n\nconst always = () => true;\nconst can_edit = study => !study.isReadOnly && study.permission !== 'read only';\nconst is_locked = study => study.is_locked;\nconst is_published = study => study.is_published;\nconst not = fn => study => !fn(study);\n\nconst settings = {\n    'tags':[],\n    'data':[],\n    'delete':[],\n    'rename':[],\n    'description':[],\n    'duplicate':[],\n    'publish':[],\n    'unpublish':[],\n    'lock':[],\n    'unlock':[],\n    // 'deploy':[],\n    // 'studyChangeRequest':[],\n    // 'studyRemoval':[],\n    // 'sharing':[],\n    'public':[],\n    // 'unpublic':[],\n    'copyUrl':[]\n};\n\nconst settings_hash = {\n    tags: {text: 'Tags',\n        config: {\n            display: [can_edit],\n            onmousedown: do_tags,\n            class: 'fa-tags'\n        }},\n    data: {text: 'Data',\n        config: {\n            onmousedown: do_data,\n            class: 'fa-download'\n        }},\n    delete: {text: 'Delete Study',\n        config: {\n            display: [can_edit, not(is_locked)],\n            onmousedown: do_delete,\n            class: 'fa-remove'\n        }},\n    rename: {text: 'Rename Study',\n        config: {\n            display: [can_edit, not(is_locked)],\n            onmousedown: do_rename,\n            class: 'fa-exchange'\n        }},\n    description: {text: 'Change description',\n        config: {\n            display: [can_edit, not(is_locked)],\n            onmousedown: update_study_description,\n            class: 'fa-comment'\n        }},\n    duplicate: {text: 'Duplicate study',\n        config: {\n            onmousedown: do_duplicate,\n            class: 'fa-clone'\n        }},\n    lock: {text: 'Lock Study',\n        config: {\n            display: [can_edit, not(is_locked)],\n            onmousedown: do_lock,\n            class: 'fa-lock'\n        }},\n    publish: {text: 'Publish Study',\n        config: {\n            display: [can_edit, not(is_locked), not(is_published)],\n            onmousedown: do_publish,\n            class: 'fa-cloud-upload'\n        }},\n    unpublish: {text: 'Unpublish Study', config: {\n        display: [can_edit, is_published],\n        onmousedown: do_publish,\n        class: 'fa-cloud-upload'\n    }},\n\n    republish: {text: 'Republish Study', config: {\n        display: [can_edit, not(is_published)],\n        onmousedown: do_publish,\n        class: 'fa-cloud-upload'\n    }},\n\n    public: {text: 'Make public / private', config: {\n        display: [can_edit, not(is_locked)],\n        onmousedown: do_make_public,\n        class: 'fa-globe'\n    }},\n\n    unlock: {text: 'Unlock Study',\n        config: {\n            display: [can_edit, is_locked],\n            onmousedown: do_lock,\n            class: 'fa-unlock'\n        }},\n    deploy: {text: 'Request Deploy',\n        config: {\n            display: [can_edit, not(is_locked)],\n            href: `/deploy/`\n        }},\n    studyChangeRequest: {text: 'Request Change',\n        config: {\n            display: [can_edit, not(is_locked)],\n            href: `/studyChangeRequest/`\n        }},\n    studyRemoval: {text: 'Request Removal',\n        config: {\n            display: [can_edit, not(is_locked)],\n            href: `/studyRemoval/`\n        }},\n    sharing: {text: 'Sharing',\n        config: {\n            display: [can_edit],\n            href: `/sharing/`,\n            class: 'fa-user-plus'\n        }},\n    copyUrl: {text: 'Copy Base URL',\n        config: {\n            onmousedown: do_copy_url,\n            class: 'fa-link'\n        }}\n};\n\n\nexport const draw_menu = study => Object.keys(settings)\n    .map(comp => {\n        const config = settings_hash[comp].config;\n        return !should_display(config, study) ? '' \n            : settings_hash[comp].config.href\n                ?  m('a.dropdown-item', { href: config.href+study.id, config: m.route }, settings_hash[comp].text)\n                : m('a.dropdown-item.dropdown-onclick', {onmousedown: config.onmousedown(study)}, [\n                    m('i.fa.fa-fw.'+config.class),\n                    settings_hash[comp].text\n                ])\n    });\n\nfunction should_display(config, study){\n    return !config.display || config.display.every(fn => fn(study));\n}\n","import {deleteFiles, downloadChosenFiles} from './fileActions';\nimport fileContext from './fileContext';\nimport {uploadFiles} from './fileActions';\nimport dropdown from 'utils/dropdown';\nimport {draw_menu} from '../../studyMenu';\n\nexport default sidebarButtons;\n\nconst sidebarButtons = ({study}) => {\n    const readonly = study.isReadonly;\n\n    return m('.sidebar-buttons.btn-toolbar', [\n        m('.btn-group.btn-group-sm', [\n            dropdown({toggleSelector:'a.btn.btn-secondary.btn-sm.dropdown-menu-right', toggleContent: m('i.fa.fa-bars'), elements: [\n                draw_menu(study)\n            ]})\n        ]),\n        m('.btn-group.btn-group-sm', [\n            m('a.btn.btn-secondary.btn-sm', {class: readonly ? 'disabled' : '', onclick: readonly || fileContext(null, study), title: 'Create new files'}, [\n                m('i.fa.fa-plus')\n            ]),\n            m('a.btn.btn-secondary.btn-sm', {class: readonly ? 'disabled' : '', onclick: readonly || deleteFiles(study), title: 'Delete selected files'}, [\n                m('i.fa.fa-close')\n            ]),\n            m('a.btn.btn-secondary.btn-sm', {onclick: downloadChosenFiles(study), title: 'Download selected files'}, [\n                m('i.fa.fa-download')\n            ]),\n            m('label.btn.btn-secondary.btn-sm', {class: readonly ? 'disabled' : '', title: 'Drag files over the file list in order to upload easily'}, [\n                m('i.fa.fa-upload'),\n                readonly ? '' : m('input[type=\"file\"]', {style: 'display:none', multiple:'true', onchange: uploadButton(study)})\n            ])\n        ])\n    ]);\n};\n\n\nfunction uploadButton(study){\n    return e => {\n        let dataTransfer = e.dataTransfer || e.target;\n        uploadFiles('/', study)(dataTransfer.files);\n    };\n}\n","import fileListComponent from './fileListComponent';\nimport sidebarButtons from './sidebarButtons';\n\nexport default sidebarComponent;\n\nconst sidebarComponent = {\n    view: (ctrl , {study}) => {\n        return m('.sidebar', {config}, [\n            sidebarButtons({study}),\n            fileListComponent({study})\n        ]);\n    }\n};\n\nfunction config(el, isInitialized, ctx){\n    if (!isInitialized) el.addEventListener('scroll', listen, false);\n    el.scrollTop = ctx.scrollTop || 0;\n\n    function listen(){\n        ctx.scrollTop = el.scrollTop;\n    }\n}\n","export default splitPane;\n\nconst splitPane = args => m.component(splitComponent, args);\n\nconst splitComponent = {\n    controller({leftWidth}){\n        return {\n            parentWidth: m.prop(),\n            parentOffset: m.prop(),\n            leftWidth: leftWidth || m.prop('auto')\n        };\n    },\n\n    view({parentWidth, parentOffset, leftWidth}, {left = '', right = ''}){\n        return m('.split-pane', {config: config(parentWidth, parentOffset, leftWidth)}, [\n            m('.split-pane-col-left', {style: {flexBasis: leftWidth() + 'px'}}, left),\n            m('.split-pane-divider', {onmousedown: onmousedown(parentOffset, leftWidth)}),\n            m('.split-pane-col-right', right)\n        ]);\n    }\n};\n\nconst config = (parentWidth, parentLeft, leftWidth) => (element, isInitialized, ctx) => {\n    if (!isInitialized){\n        update();\n        if (leftWidth() === undefined) leftWidth(parentWidth()/6);\n    }\n\n    document.addEventListener('resize', update);\n    ctx.onunload = () => document.removeEventListener('resize', update);\n    \n    function update(){\n        parentWidth(element.offsetWidth);\n        parentLeft(element.getBoundingClientRect().left);\n    }\n};\n\nconst onmousedown = (parentOffset, leftWidth) => () => {\n    document.addEventListener('mouseup', mouseup);\n    document.addEventListener('mousemove', mousemove);\n\n    function mouseup() {\n        document.removeEventListener('mousemove', mousemove);\n        document.removeEventListener('mouseup', mousemove);\n    }\n\n    function mousemove(e){\n        leftWidth(e.pageX - parentOffset());\n        m.redraw();\n    }\n};\n","export default editorLayoutComponent;\nimport studyFactory from './fileCollectionModel';\nimport editorComponent from './editorComponent';\nimport wizardComponent from './wizardComponent';\nimport sidebarComponent from './sidebar/sidebarComponent';\nimport splitPane from 'utils/splitPane';\nimport fullheight from 'utils/fullHeight';\n\nlet study;\n\nlet editorLayoutComponent = {\n    controller: ()=>{\n        let id = m.route.param('studyId');\n\n        if (!study || (study.id !== id)){\n            study = studyFactory(id);\n            study\n                .get()\n                .then(m.redraw);\n        }\n\n        let ctrl = {study, onunload};\n\n        window.addEventListener('beforeunload', beforeunload);\n\n        return ctrl;\n\n        function hasUnsavedData(){\n            return study.files().some(f => f.content() !== f.sourceContent());\n        }\n\n        function beforeunload(event) {\n            if (hasUnsavedData()) return event.returnValue = 'You have unsaved data are you sure you want to leave?';\n        }\n\n        function onunload(e){\n\n            let leavingEditor = !/^\\/editor\\//.test(m.route());\n            if (leavingEditor && hasUnsavedData() && !window.confirm('You have unsaved data are you sure you want to leave?')){\n                e.preventDefault();\n            } else {\n                window.removeEventListener('beforeunload', beforeunload);\n            }\n\n            if (leavingEditor) study = null;\n        }\n    },\n    view: ({study}) => {\n        return m('.study', {config: fullheight},  [\n            !study.loaded ? '' : splitPane({\n                leftWidth,\n                left: m.component(sidebarComponent, {study}),\n                right: m.route.param('resource') === 'wizard'\n                    ? m.component(wizardComponent, {study})\n                    : m.component(editorComponent, {study})\n            })\n        ]);\n    }\n};\n\n// a clone of m.prop that users localStorage so that width changes persist across sessions as well as files.\n// Essentially this is a global variable\nfunction leftWidth(val){\n    if (arguments.length) localStorage.fileSidebarWidth = val;\n    return localStorage.fileSidebarWidth;\n}\n","import {fetchFullJson, fetchJson} from 'utils/modelHelpers';\nimport fileFactory from './fileModel';\nexport default studyFactory;\nimport {baseUrl} from 'modelUrls';\n\nlet studyPrototype = {\n    apiURL(path = ''){\n        return `${baseUrl}/view_files/${encodeURIComponent(this.code)}${path}`;\n    },\n\n    get(){\n        return fetchFullJson(this.apiURL())\n            .then(study => {\n                this.loaded = true;\n                this.id = study.id;\n                this.isReadonly = study.is_readonly;\n                this.istemplate = study.is_template;\n                this.is_locked = study.is_locked;\n                this.name = study.study_name;\n                this.baseUrl = study.base_url;\n                let files = flattenFiles(study.files)\n                    .map(assignStudyId(this.id))\n                    .map(assignViewStudy())\n                    .map(fileFactory);\n\n                this.files(files);\n                this.sort();\n            })\n            .catch(reason => {\n                this.error = true;\n                throw(reason);\n                // if(reason.status==404)\n                //\n                // console.log(reason.status);\n                //\n                // return Promise.reject(reason); // do not swallow error\n            });\n\n        function flattenFiles(files){\n            if (!files) return [];\n            return files\n                    .map(spreadFile)\n                    .reduce((result, fileArr) => result.concat(fileArr),[]);\n        }\n\n        function assignStudyId(id){\n            return f => Object.assign(f, {studyId: id});\n        }\n\n        function assignViewStudy(){\n            return f => Object.assign(f, {viewStudy: true});\n        }\n\n        // create an array including file and all its children\n        function spreadFile(file){\n            return [file].concat(flattenFiles(file.files));\n        }\n    },\n\n    getFile(id){\n        return this.files().find(f => f.id === id);\n    },\n\n    // makes sure not to return both a folder and its contents.\n    // This is important mainly for server side clarity (don't delete or download both a folder and its content)\n    // We go recurse through all the files, starting with those sitting in root (we don't have a root node, so we need to get them manually).\n    getChosenFiles(){\n        let vm = this.vm;\n        let rootFiles = this.files().filter(f => f.basePath === '/');\n        return getChosen(rootFiles);\n\n        function getChosen(files){\n            return files.reduce((response, file) => {\n                // a chosen file/dir does not need sub files to be checked\n                if (vm(file.id).isChosen() === 1) response.push(file);\n                // if not chosen, we need to look deeper\n                else response = response.concat(getChosen(file.files || []));\n                return response;\n            }, []);\n        }\n    },\n\n    addFile(file){\n        this.files().push(file);\n        // update the parent folder\n        let parent = this.getParents(file).reduce((result, f) => result && (result.path.length > f.path.length) ? result : f , null); \n        if (parent) {\n            parent.files || (parent.files = []);\n            parent.files.push(file);\n        }\n    },\n\n    createFile({name, content='',isDir}){\n        // validation (make sure there are no invalid characters)\n        if(/[^\\/-_.A-Za-z0-9]/.test(name)) return Promise.reject({message: `The file name \"${name}\" is not valid`});\n\n        // validation (make sure file does not already exist)\n        let exists = this.files().some(file => file.path === name);\n        if (exists) return Promise.reject({message: `The file \"${name}\" already exists`});\n\n        // validateion (make sure direcotry exists)\n        let basePath = (name.substring(0, name.lastIndexOf('/'))).replace(/^\\//, '');\n        let dirExists = basePath === '' || this.files().some(file => file.isDir && file.path === basePath);\n        if (!dirExists) return Promise.reject({message: `The directory \"${basePath}\" does not exist`});\n        return fetchJson(this.apiURL('/file'), {method:'post', body: {name, content, isDir}})\n            .then(response => {\n                Object.assign(response, {studyId: this.id, content, path:name, isDir});\n                let file = fileFactory(response);\n                file.loaded = true;\n                this.addFile(file);\n                return response;\n            })\n            .then(this.sort.bind(this));\n    },\n\n    sort(response){\n        let files = this.files().sort(sort);\n        this.files(files);\n        return response;\n\n        function sort(a,b){\n            // sort by isDir then name\n            let nameA= +!a.isDir + a.name.toLowerCase(), nameB=+!b.isDir + b.name.toLowerCase();\n            if (nameA < nameB) return -1;//sort string ascending\n            if (nameA > nameB) return 1;\n            return 0; //default return value (no sorting)\n        }\n    },\n\n\n    /*\n     * @param files [Array] a list of file.path to download\n     * @returns url [String] the download url\n     */\n    downloadFiles(files){\n        return fetchJson(this.apiURL(), {method: 'post', body: {files}})\n            .then(response => `${baseUrl}/download?path=${response.zip_file}&study=_PATH`);\n    },\n\n\n    getParents(file){\n        return this.files().filter(f => f.isDir && file.basePath.indexOf(f.path) === 0);\n    },\n\n    // returns array of children for this file, including itself\n    getChildren(file){\n        return children(file);\n       \n        function children(file){\n            if (!file.files) return [file];\n            return file.files\n                .map(children) // harvest children\n                .reduce((result, files) => result.concat(files), [file]); // flatten\n        }\n    }\n};\n\nlet studyFactory =  code =>{\n    let study = Object.create(studyPrototype);\n    Object.assign(study, {\n        code    : code,\n        id      : '',\n        view    : true,\n        files   : m.prop([]),\n        loaded  : false,\n        error   :false,\n        vm      : viewModelMap({\n            isOpen: m.prop(false),\n            isChanged: m.prop(false),\n            isChosen: m.prop(0)\n        })\n    });\n\n    return study;\n};\n\n// http://lhorie.github.io/mithril-blog/mapping-view-models.html\nvar viewModelMap = function(signature) {\n    var map = {};\n    return function(key) {\n        if (!map[key]) {\n            map[key] = {};\n            for (var prop in signature) map[key][prop] = m.prop(signature[prop]());\n        }\n        return map[key];\n    };\n};\n","export default editorLayoutComponent;\nimport studyFactory from './viewFileCollectionModel';\nimport editorComponent from './editorComponent';\nimport wizardComponent from './wizardComponent';\nimport sidebarComponent from './sidebar/sidebarComponent';\nimport splitPane from 'utils/splitPane';\nimport fullheight from 'utils/fullHeight';\n\nlet study;\n\nlet editorLayoutComponent = {\n    controller: ()=>{\n\n        let code = m.route.param('code');\n\n        if (!study || (study.code !== code)){\n            study = studyFactory(code);\n            study\n                .get()\n                .catch(reason => {\n                    if(reason.status==403)\n                        m.route('/');\n                })\n                .then(m.redraw);\n        }\n\n        let ctrl = {study, onunload};\n        return ctrl;\n    },\n    view: ({study}) => {\n        return m('.study', {config: fullheight},  [\n            !study.loaded ? '' : splitPane({\n                leftWidth,\n                left: m.component(sidebarComponent, {study}),\n                right: m.route.param('resource') === 'wizard'\n                    ? m.component(wizardComponent, {study})\n                    : m.component(editorComponent, {study})\n            })\n        ]);\n    }\n};\n\n// a clone of m.prop that users localStorage so that width changes persist across sessions as well as files.\n// Essentially this is a global variable\nfunction leftWidth(val){\n    if (arguments.length) localStorage.fileSidebarWidth = val;\n    return localStorage.fileSidebarWidth;\n}\n","export default mainComponent;\nimport {load_studies} from './studyModel';\nimport {get_tags} from 'tags/tagsModel';\n\nimport dropdown from 'utils/dropdown';\nimport {do_create} from './studyActions';\nimport {draw_menu} from './studyMenu';\n\nimport classNames from 'utils/classNames';\nimport formatDate from 'utils/formatDate';\n\nconst mainComponent = {\n\n    controller: function(){\n        const ctrl = {\n            studies:m.prop([]),\n            have_templates:m.prop(false),\n            tags:m.prop([]),\n            user_name:m.prop(''),\n            globalSearch: m.prop(''),\n            permissionChoice: m.prop('all'),\n            loaded:false,\n            order_by_name: true,\n            loadStudies,\n            loadTags,\n            type: m.prop(''),\n            sort_studies_by_name,\n            sort_studies_by_date\n        };\n\n        loadTags();\n        loadStudies();\n        function loadStudies() {\n            ctrl.type(m.route() == '/studies' ? 'regular' : 'template');\n            // console.log(ctrl.type());\n            load_studies()\n                .then(response => response.studies)\n                .then(ctrl.studies)\n                .then(()=>ctrl.loaded = true)\n                .then(sort_studies_by_name)\n                .then(m.redraw);\n        }\n\n        function loadTags() {\n            get_tags()\n                .then(response => response.tags)\n                .then(ctrl.tags)\n                .then(m.redraw);\n        }\n\n        return ctrl;\n        function sort_studies_by_name2(study1, study2){\n            ctrl.order_by_name = true;\n            return study1.name.toLowerCase() === study2.name.toLowerCase() ? 0 : study1.name.toLowerCase() > study2.name.toLowerCase() ? 1 : -1;\n        }\n\n        function sort_studies_by_date2(study1, study2){\n            ctrl.order_by_name = false;\n            return study1.last_modified === study2.last_modified ? 0 : study1.last_modified < study2.last_modified ? 1 : -1;\n        }\n\n        function sort_studies_by_date(){\n            ctrl.studies(ctrl.studies().sort(sort_studies_by_date2));\n        }\n        function sort_studies_by_name(){\n            ctrl.studies(ctrl.studies().sort(sort_studies_by_name2));\n        }\n\n\n    },\n    view({loaded, studies, tags, permissionChoice, globalSearch, sort_studies_by_date, sort_studies_by_name, order_by_name, type}){\n        if (!loaded) return m('.loader');\n\n\n        return m('.container.studies', [\n            m('.row.p-t-1', [\n                m('.col-sm-4', [\n                    m('h3', ['My ', type()=='regular' ? 'Studies' : 'Template Studies'])\n                ]),\n\n                m('.col-sm-8', [\n                    m('button.btn.btn-success.btn-sm.pull-right', {onclick:function(){do_create(type(), studies().filter(typeFilter(type())));}}, [\n                        m('i.fa.fa-plus'), '  Add new study'\n                    ]),\n\n                    m('.pull-right.m-r-1', [\n                        dropdown({toggleSelector:'button.btn.btn-sm.btn-secondary.dropdown-toggle', toggleContent: [m('i.fa.fa-tags'), ' Tags'], elements:[\n                            m('h6.dropdown-header', 'Filter by tags'),\n                            !tags().length\n                                ? m('em.dropdown-header', 'You do not have any tags yet')\n                                : tags().map(tag =>  m('a.dropdown-item',m('label.custom-control.custom-checkbox', [\n                                    m('input.custom-control-input', {\n                                        type: 'checkbox',\n                                        checked: tag.used,\n                                        onclick: function(){ tag.used = !tag.used; }\n                                    }),\n                                    m('span.custom-control-indicator'),\n                                    m('span.custom-control-description.m-r-1.study-tag',{style: {'background-color': '#'+tag.color}}, tag.text)\n                                ]))),\n                            m('.dropdown-divider'),\n                            m('a.dropdown-item', { href: `/tags`, config: m.route }, 'Manage tags')\n                        ]})\n                    ]),\n\n                    m('.input-group.pull-right.m-r-1', [\n                        m('select.c-select.form-control', {onchange: e => permissionChoice(e.target.value)}, [\n                            m('option', {value:'all'}, 'Show all my studies'),\n                            m('option', {value:'owner'}, 'Show only studies I created'),\n                            m('option', {value:'collaboration'}, 'Show only studies shared with me'),\n                            m('option', {value:'public'}, 'Show public studies'),\n                            m('option', {value:'bank'}, 'Show study bank studies')\n                        ])\n                    ])\n                ])\n            ]),\n\n            m('.card.studies-card', [\n                m('.card-block', [\n                    m('.row', {key: '@@notid@@'}, [\n                        m('.col-sm-5', [\n                            m('.form-control-static',{onclick:sort_studies_by_name, style:'cursor:pointer'},[\n                                m('strong', 'Study Name '),\n                                m('i.fa.fa-sort', {style: {color: order_by_name ? 'black' : 'grey'}})\n                            ])\n                        ]),\n                        m('.col-sm-3', [\n                            m('.form-control-static',{onclick:sort_studies_by_date, style:'cursor:pointer'},[\n                                m('strong', ' Last Changed '),\n                                m('i.fa.fa-sort', {style: {color: !order_by_name ? 'black' : 'grey'}})\n                            ])\n                        ]),\n                        m('.col-sm-4', [\n                            m('input.form-control', {placeholder: 'Search ...', value: globalSearch(), oninput: m.withAttr('value', globalSearch)})\n                        ])\n                    ]),\n\n                    studies()\n                        .filter(typeFilter(type()))\n                        .filter(tagFilter(tags().filter(uesedFilter()).map(tag=>tag.text)))\n                        .filter(permissionFilter(permissionChoice()))\n                        .filter(searchFilter(globalSearch()))\n                        .filter(study=>!study.deleted)\n                        .map(study => m('a', {href: m.route() != '/studies' ? `/translate/${study.id}` : `/editor/${study.id}`,config:routeConfig, key: study.id}, [\n                            m('.row.study-row', [\n                                m('.col-sm-5', [\n                                    m('.study-text', [\n                                        m('i.fa.fa-fw.owner-icon', {\n                                            class: classNames({\n                                                'fa-lock':  study.is_locked,\n                                                'fa-globe': study.is_public,\n                                                'fa-flag':  study.is_template,\n                                                'fa-university':  study.is_bank,\n                                                'fa-users': !study.is_public && study.permission !== 'owner'\n                                            }),\n                                            title: study.is_public\n                                                ? study.is_bank\n                                                    ? 'Bank'\n                                                    : 'Public'\n                                                : study.permission === 'owner'\n                                                    ? ''\n                                                    : 'Collaboration'\n                                        }),\n                                        m('strong', study.name)\n                                    ]),\n                                    !study.description ? '' : m('.study-description', [\n                                        study.description,\n                                        m('.study-tip', study.description)\n                                    ])\n                                ]),\n                                m('.col-sm-3', [\n                                    m('.study-text', formatDate(new Date(study.last_modified)))\n                                ]),\n                                m('.col-sm-3', [\n                                    study.tags.map(tag=> m('span.study-tag',  {style: {'background-color': '#' + tag.color}}, tag.text))\n                                ]),\n                                m('.col-sm-1', [\n                                    m('.btn-toolbar.pull-right',\n                                        m('.btn-group.btn-group-sm',\n                                            study.is_template || study.is_public && study.permission !== 'owner'\n                                                ?\n                                                ''\n                                                :\n                                                dropdown({toggleSelector:'a.btn.btn-secondary.btn-sm.dropdown-toggle', toggleContent: 'Actions', elements: [\n                                                    draw_menu(study)\n                                                ]})\n                                        )\n                                    )\n                                ])\n                            ])\n                        ]))\n                ])\n            ])\n        ]);\n    }\n};\n\n\nconst typeFilter = type => study => {\n    return study.study_type === type;\n};\n\nconst permissionFilter = permission => study => {\n    if(permission === 'all') return !(study.is_public && study.permission !== 'owner');\n    if(permission === 'public') return study.is_public && !study.is_bank;\n    if(permission === 'collaboration') return study.permission !== 'owner' && !study.is_public;\n    if(permission === 'template') return study.is_template;\n    if(permission === 'bank') return study.is_bank;\n    return study.permission === permission;\n};\n\nlet tagFilter = tags => study => {\n    if (tags.length==0)\n        return true;\n    return study.tags.map(tag=>tag.text).some(tag => tags.indexOf(tag) != -1);\n};\n\nlet uesedFilter = () => tag => tag.used;\n\nlet searchFilter = searchTerm => study => !study.name || study.name.match(new RegExp(searchTerm, 'i')) || (study.description && study.description.match(new RegExp(searchTerm, 'i')));\n\nfunction routeConfig(el, isInit, ctx, vdom) {\n\n    el.href = location.pathname + '?' + vdom.attrs.href;\n\n    if (!isInit) el.addEventListener('click', route);\n\n    function route(e){\n        let el = e.currentTarget;\n\n        if (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return;\n        if (e.defaultPrevented) return;\n\n        e.preventDefault();\n        if (e.target.tagName === 'A' && e.target !== el) return;\n\n        m.route(el.search.slice(1));\n    }\n}\n","import {fetchJson} from 'utils/modelHelpers';\nimport {baseUrl} from 'modelUrls';\n\nconst deploy_url = `${baseUrl}/deploy_list`;\n\nexport function get_study_list(){\n    return fetchJson(deploy_url);\n}\n","import {get_study_list} from './deployListModel';\nimport sortTable from 'utils/sortTable';\n\n\nexport default deployComponent;\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nlet deployComponent = {\n    controller(){\n        let ctrl = {\n            list: m.prop(''),\n            sortBy: m.prop('CREATION_DATE')\n        };\n        get_study_list()\n            .then(response =>{ctrl.list(response.requests);\n            })\n            .catch(error => {\n                throw error;\n            })\n            .then(m.redraw);\n        return {ctrl};\n    },\n    view({ctrl}){\n        let list = ctrl.list;\n        return ctrl.list().length === 0\n        ?\n        m('.loader')\n        :\n        m('table', {class:'table table-nowrap table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n            m('thead', [\n                m('tr', [\n                    m('th', thConfig('CREATION_DATE',ctrl.sortBy), 'Creation date'),\n                    m('th', thConfig('FOLDER_LOCATION',ctrl.sortBy), 'Folder location'),\n                    m('th', thConfig('RULE_FILE',ctrl.sortBy), 'Rule file'),\n                    m('th', thConfig('RESEARCHER_EMAIL',ctrl.sortBy), 'Researcher email'),\n                    m('th', thConfig('RESEARCHER_NAME',ctrl.sortBy), 'Researcher name'),\n                    m('th', thConfig('TARGET_NUMBER',ctrl.sortBy), 'Target number'),\n                    m('th', thConfig('APPROVED_BY_A_REVIEWER',ctrl.sortBy), 'Approved by a reviewer'),\n                    m('th', thConfig('EXPERIMENT_FILE',ctrl.sortBy), 'Experiment file'),\n                    m('th', thConfig('LAUNCH_CONFIRMATION',ctrl.sortBy), 'Launch confirmation'),\n                    m('th', thConfig('COMMENTS',ctrl.sortBy), 'Comments')\n                ])\n            ]),\n            m('tbody', [\n                ctrl.list().map(study => m('tr', [\n                    m('td', study.CREATION_DATE),\n                    m('td', m('a', {href:study.FOLDER_LOCATION}, study.FOLDER_LOCATION)),\n                    m('td', study.RULE_FILE),\n                    m('td', m('a', {href:'mailto:' + study.RESEARCHER_EMAIL}, study.RESEARCHER_EMAIL)),\n                    m('td', study.RESEARCHER_NAME),\n                    m('td', study.TARGET_NUMBER),\n                    m('td', study.APPROVED_BY_A_REVIEWER),\n                    m('td', study.EXPERIMENT_FILE),\n                    m('td', study.LAUNCH_CONFIRMATION),\n                    m('td', study.COMMENTS)\n                ]))\n            ])\n        ]);\n    }\n};\n","import {fetchJson} from 'utils/modelHelpers';\nimport {baseUrl} from 'modelUrls';\n\nconst change_request_url = `${baseUrl}/change_request_list`;\n\n\nexport function get_change_request_list(){\n    return fetchJson(change_request_url);\n}\n","import {get_change_request_list} from './changeRequestListModel';\nimport sortTable from 'utils/sortTable';\nexport default changeRequestListComponent;\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\nlet changeRequestListComponent = {\n    controller(){\n\n        let ctrl = {\n            list: m.prop(''),\n            sortBy: m.prop('CREATION_DATE')\n        };\n        get_change_request_list()\n          .then(response =>{ctrl.list(response.requests);\n              sortTable(ctrl.list, ctrl.sortBy);\n          })\n            .catch(error => {\n                throw error;\n            })\n            .then(m.redraw);\n        return {ctrl};\n    },\n\n    view({ctrl}){\n        let list = ctrl.list;\n\n\n        return ctrl.list().length === 0\n            ?\n            m('.loader')\n            :\n            m('table', {class:'table table-nowrap table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n                m('thead', [\n                    m('tr', [\n                        m('th', thConfig('CREATION_DATE',ctrl.sortBy), 'Creation date'),\n                        m('th', thConfig('RESEARCHER_EMAIL',ctrl.sortBy), 'Researcher email'),\n                        m('th', thConfig('RESEARCHER_NAME',ctrl.sortBy), 'Researcher name'),\n                        m('th', thConfig('FILE_NAMES',ctrl.sortBy), 'File names'),\n                        m('th', thConfig('TARGET_SESSIONS',ctrl.sortBy), 'Target sessions'),\n                        m('th', thConfig('STUDY_SHOWFILES_LINK',ctrl.sortBy), 'Study showfiles link'),\n                        m('th', thConfig('STATUS',ctrl.sortBy), 'Status'),\n                        m('th', thConfig('COMMENTS',ctrl.sortBy), 'Comments')\n                    ])\n                ]),\n                m('tbody', [\n                    ctrl.list().map(study => m('tr', [\n                        m('td', study.CREATION_DATE),\n                        m('td', m('a', {href:'mailto:' + study.RESEARCHER_EMAIL}, study.RESEARCHER_EMAIL)),\n                        m('td', study.RESEARCHER_NAME),\n                        m('td', study.FILE_NAMES),\n                        m('td', study.TARGET_SESSIONS),\n                        m('td', m('a', {href:study.STUDY_SHOWFILES_LINK}, study.STUDY_SHOWFILES_LINK)),\n                        m('td', study.STATUS),\n                        m('td', study.COMMENTS)\n                    ]))\n                ])\n            ]);\n    }\n};","import {fetchJson} from 'utils/modelHelpers';\nimport {baseUrl} from 'modelUrls';\n\nconst removal_url = `${baseUrl}/removal_list`;\n\nexport function get_removal_list(){\n    return fetchJson(removal_url);\n}\n","import {get_removal_list} from './removalListModel';\nimport sortTable from 'utils/sortTable';\n\nexport default removalListComponent;\nlet thConfig = (prop, current) => ({'data-sort-by':prop, class: current() === prop ? 'active' : ''});\n\nlet removalListComponent = {\n    controller(){\n        let ctrl = {\n            list: m.prop(''),\n            sortBy: m.prop('CREATION_DATE')\n        };\n        get_removal_list()\n          .then(response =>{ctrl.list(response.requests);\n              sortTable(ctrl.list, ctrl.sortBy);\n          })\n            .catch(error => {\n                throw error;\n            })\n            .then(m.redraw);\n        return {ctrl};\n    },\n    view({ctrl}){\n        let list = ctrl.list;\n\n        return ctrl.list().length === 0\n            ?\n            m('.loader')\n            :\n        m('table', {class:'table table-nowrap table-striped table-hover',onclick:sortTable(list, ctrl.sortBy)}, [\n            m('thead', [\n                m('tr', [\n                    m('th', thConfig('CREATION_DATE',ctrl.sortBy), 'Creation date'),\n                    m('th', thConfig('RESEARCHER_EMAIL',ctrl.sortBy), 'Researcher email'),\n                    m('th', thConfig('RESEARCHER_NAME',ctrl.sortBy), 'Researcher name'),\n                    m('th', thConfig('STUDY_NAME',ctrl.sortBy), 'Study name'),\n                    m('th', thConfig('COMPLETED_N',ctrl.sortBy), 'Completed n'),\n                    m('th', thConfig('COMMENTS',ctrl.sortBy), 'Comments')\n                ])\n            ]),\n            m('tbody', [\n                ctrl.list().map(study => m('tr', [\n                    m('td', study.CREATION_DATE),\n                    m('td', m('a', {href:'mailto:' + study.RESEARCHER_EMAIL}, study.RESEARCHER_EMAIL)),\n                    m('td', study.RESEARCHER_NAME),\n                    m('td', study.STUDY_NAME),\n                    m('td', study.COMPLETED_N),\n                    m('td', study.COMMENTS)\n                ]))\n            ])\n        ]);\n    }\n};","import {fetchJson} from 'utils/modelHelpers';\nimport {studyUrl as baseUrl} from 'modelUrls';\n\nfunction deploy_url(study_id)\n{\n    return `${baseUrl}/${encodeURIComponent(study_id)}/deploy`;\n}\n\nexport let get_study_prop = (study_id) => fetchJson(deploy_url(study_id), {\n    method: 'get'\n});\n\nexport let study_removal = (study_id, ctrl) => fetchJson(deploy_url(study_id), {\n    method: 'delete',\n    body: {study_name: ctrl.study_name, completed_n: ctrl.completed_n, comments: ctrl.comments}\n});\n\nexport let deploy = (study_id, ctrl) => fetchJson(deploy_url(study_id), {\n    method: 'post',\n    body: {target_number: ctrl.target_number, approved_by_a_reviewer: ctrl.approved_by_a_reviewer, experiment_file: ctrl.experiment_file, launch_confirmation: ctrl.launch_confirmation, comments: ctrl.comments, rulesValue: ctrl.rulesValue}\n});\n\nexport let Study_change_request = (study_id, ctrl) => fetchJson(deploy_url(study_id), {\n    method: 'put',\n    body: {file_names: ctrl.file_names, target_sessions: ctrl.target_sessions, status: ctrl.status, comments: ctrl.comments}\n});\n","import messages from 'utils/messagesComponent';\nexport default args => m.component(rulesComponent, args);\n\nlet rulesComponent = {\n    controller({visual, value, comments, exist_rule_file}){\n        return {visual, value, edit, remove, addcomments, exist_rule_file};\n\n        function edit(){\n            window.open('../ruletable.html');\n        }\n\n        function remove(){\n            visual('None');\n            value('parent'); // this value is defined by the rule generator\n        }\n\n        function addcomments(){\n            messages.prompt({\n                prop: comments,\n                header: 'Edit rule comments'\n            });\n        }\n    },\n    view: ({visual, value, edit, remove, exist_rule_file}) => {\n        return m('div', [\n            !exist_rule_file() ? '' : m('.small.text-muted', [\n                'You already have a rule file by the name of \"',\n                exist_rule_file(),\n                '\", it will be overwritten if you create a new one.'\n            ]),\n            m('.btn-group', [\n                m('.btn.btn-secondary.btn-sm', {onclick: edit},  [\n                    m('i.fa.fa-edit'), ' Rule editor'\n                ]),\n                m('.btn.btn-secondary.btn-sm', {onclick: remove},  [\n                    m('i.fa.fa-remove'), ' Clear rules'\n                ])\n            ]),\n            m('#ruleGenerator.card', {config: getInputs(visual, value)}, [\n                m('.card-block', visual())\n            ])\n        ]);\n    }\n};\n\nlet getInputs = (visual, value) => (element, isInit) => {\n    if (isInit) return true;\n    element.ruleGeneratorVisual = visual;\n    element.ruleGeneratorValue = value;\n};\n\n","import {deploy, get_study_prop} from './deployModel';\nimport classNames from 'utils/classNames';\nimport {formFactory, textInput, radioInput} from 'utils/formHelpers';\nimport rulesEditor from './rulesComponent';\nexport default deployComponent;\n\nconst ASTERIX = m('span.text-danger', '*');\n\nlet deployComponent = {\n    controller(){\n        const studyId = m.route.param('studyId');\n        let form = formFactory();\n        let ctrl = {\n            sent:false,\n            error: m.prop(''),\n            folder_location: m.prop(''),\n            researcher_email: m.prop(''),\n            researcher_name: m.prop(''),\n            target_number: m.prop(''),\n            \n            rulesValue: m.prop('parent'), // this value is defined by the rule generator\n            rulesVisual: m.prop('None'),\n            rulesComments: m.prop(''),\n            rule_file: m.prop(''),\n            exist_rule_file: m.prop(''),\n\n            approved_by_a_reviewer: m.prop(''),\n            zero_unnecessary_files: m.prop(''),\n\n            // unnecessary\n            completed_checklist: m.prop(''),\n            approved_by_irb: m.prop(''),\n            valid_study_name: m.prop(''),\n            realstart: m.prop(''),\n\n            experiment_file: m.prop(''),\n            experiment_files: m.prop(''),\n            launch_confirmation: m.prop(''),\n            comments: m.prop('')   \n            \n        };\n\n        get_study_prop(studyId)\n            .then(response =>{\n                ctrl.exist_rule_file(response.have_rule_file ? response.study_name+'.rules.xml' : '');\n                ctrl.study_name = response.study_name;\n                ctrl.researcher_name(response.researcher_name);\n                ctrl.researcher_email(response.researcher_email);\n                ctrl.folder_location(response.folder);\n                ctrl.experiment_files(response.experiment_file.reduce((obj, row) => {obj[row.file_name] = row.file_name;\n                    return obj;\n                }, {}));\n            })\n            .catch(response => {\n                ctrl.error(response.message);\n            })\n            .then(m.redraw);\n    \n        return {ctrl, form, submit, studyId};\n        function submit(){\n            form.showValidation(true);\n            if (!form.isValid())\n            {\n                ctrl.error('Missing parameters');\n                return;\n            }\n\n            deploy(studyId, ctrl)\n            .then((response) => {\n                ctrl.rule_file(response.rule_file);\n                ctrl.sent = true;\n            })\n            .catch(response => {\n                ctrl.error(response.message);\n            })\n            .then(m.redraw);\n        }\n    },\n    view({form, ctrl, submit}){\n        if (ctrl.sent) return m('.deploy.centrify',[\n            m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n            m('h5', ['The Deploy form was sent successfully ', m('a', {href:'/deployList', config: m.route}, 'View Deploy Requests')]),\n            ctrl.rule_file() !='' ? m('h5', ['Rule File: ', m('a', {href: `/editor/${m.route.param('studyId')}/file/${ctrl.rule_file()}.xml`, config: m.route}, ctrl.rule_file())]) : ''\n        ]);\n        \n        return m('.deploy.container', [\n            m('h3', [\n                'Request Deploy ',\n                m('small', ctrl.study_name)\n            ]),\n\n            m('.row', [\n                m('.col-sm-3', m('strong', 'Researcher Name: ')),\n                m('.col-sm-9', ctrl.researcher_name())\n            ]),\n            m('.row', [\n                m('.col-sm-3', m('strong', 'Researcher Email Address: ')),\n                m('.col-sm-9', ctrl.researcher_email())\n            ]),\n            m('.row.m-b-1', [\n                m('.col-sm-3', m('strong', 'Study Folder Location: ')),\n                m('.col-sm-9', ctrl.folder_location())\n            ]),\n\n            radioInput({\n                label:m('span', ['Name of Experiment File', ASTERIX]),\n                prop: ctrl.experiment_file,\n                values:ctrl.experiment_files(),\n                form, required:true, isStack:true\n            }),\n\n            textInput({help: 'For private studies (not in the Project Implicit research pool), enter n/a', label:['Target Number of Completed Study Sessions', ASTERIX],  placeholder: 'Target Number of Completed Study Sessions', prop: ctrl.target_number, form, required:true, isStack:true}),\n\n            m('.font-weight-bold', 'Participant Restrictions'),\n            rulesEditor({value:ctrl.rulesValue, visual: ctrl.rulesVisual, comments: ctrl.rulesComments, exist_rule_file: ctrl.exist_rule_file}),\n\n            m('.font-weight-bold', 'Study is ready for deploy: ', ASTERIX),\n            m('.m-b-1', [\n                checkbox({description: 'The study\\'s study-id starts with my user name', prop: ctrl.valid_study_name, form, required:true, isStack:true}),\n                checkbox({\n                    description:  'This study has been approved by the appropriate IRB ', \n                    prop: ctrl.approved_by_irb,\n                    required:true,\n                    form, isStack:true\n                }),\n                checkbox({\n                    description:  [\n                        'The study is compliant with ',\n                        m('a', {hxref:'https://docs.google.com/document/d/1pglAQELqNLWbV1yscE2IVd7G5xVgZ8b4lkT8PYeumu8/edit?usp=sharing', target:'_blank'}, 'PI Research Pool Guidelines and Required Elements & Study Conventions'),\n                        ' .'\n                    ],\n                    prop: ctrl.completed_checklist,\n                    form, isStack:true,\n                    required:true\n                }),\n                checkbox({\n                    description: 'My study folder includes ZERO files that aren\\'t necessary for the study (e.g., word documents, older versions of files, items that were dropped from the final version)',\n                    prop: ctrl.zero_unnecessary_files,\n                    required:true,\n                    form, isStack:true\n                }),\n                checkbox({description: 'I used a realstart and lastpage tasks', prop: ctrl.realstart, form, required:true, isStack:true})\n            ]),\n            radioInput({\n                label:['Study has been approved by a *User Experience* Reviewer (Calvin Lai): ', ASTERIX],\n                prop: ctrl.approved_by_a_reviewer,\n                values: {\n                    'No, this study is not for the Project Implicit pool.' : 'No, this study is not for the Project Implicit pool.',\n                    'Yes' : 'Yes'\n                },\n                form, required:true, isStack:true\n            }),\n\n            radioInput({\n                label: ['If you are building this study for another researcher (e.g. a contract study), has the researcher received the standard final launch confirmation email and confirmed that the study is ready to be launched? ', ASTERIX],\n                prop: ctrl.launch_confirmation,\n                values: {\n                    'No,this study is mine': 'No,this study is mine',\n                    'Yes' : 'Yes'\n                },\n                form, required:true, isStack:true\n            }),\n\n            textInput({isArea: true, label: m('span', 'Additional comments'),  placeholder: 'Additional comments', prop: ctrl.comments, form, isStack:true}),\n            !ctrl.error() ? '' : m('.alert.alert-warning', m('strong', 'Error: '), ctrl.error()),\n            m('button.btn.btn-primary', {onclick: submit}, 'Request Deploy')\n        ]);\n    }\n};\n\nlet checkbox = args => m.component({\n    controller({prop, form, required}){\n        let validity = () => !required || prop();\n        if (!form) throw new Error('Form not defined');\n        form.register(validity);\n\n        return {validity, showValidation: form.showValidation};\n    },\n    view: (ctrl, {prop, description = '', help, required, form}) => m('.checkmarked', \n        { onclick: ()=>prop(!prop()) },\n        [\n            m('i.fa.fa-fw', {\n                class: classNames({\n                    'fa-square-o' : !prop(),\n                    'fa-check-square-o' : prop(),\n                    'text-success' : required && form.showValidation() && prop(),\n                    'text-danger' : required && form.showValidation() && !prop()\n                })\n            }),\n            m.trust('&nbsp;'),\n            description,\n            !help ? '' : m('small.text-muted', help)\n        ])\n}, args);\n","import {formFactory, textInput, radioInput} from 'utils/formHelpers';\nimport {study_removal, get_study_prop} from 'deploy/deployModel';\n\nexport default StudyRemovalComponent;\nconst ASTERIX = m('span.text-danger', '*');\n\nlet StudyRemovalComponent = {\n    controller(){\n        const studyId = m.route.param('studyId');\n        let form = formFactory();\n        let ctrl = {\n            sent:false,\n            researcher_name: m.prop(''),\n            researcher_email: m.prop(''),\n            global_study_name: m.prop(''),\n            study_name: m.prop(''),\n            study_names: m.prop(''),\n            completed_n: m.prop(''),\n            comments: m.prop(''),\n            error: m.prop('')\n        };\n\n        get_study_prop(studyId)\n            .then(response =>{\n                ctrl.researcher_name(response.researcher_name);\n                ctrl.researcher_email(response.researcher_email);\n                ctrl.global_study_name(response.study_name);\n                ctrl.study_names(response.experiment_file.reduce((obj, row) => {\n                    obj[row.file_id] = row.file_id;\n                    return obj;\n                }, {}));\n            })\n            .catch(response => {\n                ctrl.error(response.message);\n            })\n            .then(m.redraw);\n\n        function submit(){\n            form.showValidation(true);\n            if (!form.isValid())\n            {\n                ctrl.error('Missing parameters');\n                return;\n            }\n            study_removal(studyId, ctrl)\n                .then(() => {\n                    ctrl.sent = true;\n                })\n                .catch(response => {\n                    ctrl.error(response.message);\n                })\n                .then(m.redraw);\n        }\n        return {ctrl, form, submit};\n    },\n    view({form, ctrl, submit}){\n        return ctrl.sent\n        ?\n        m('.deploy.centrify',[\n            m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n            m('h5', ['The removal form was sent successfully ', m('a', {href:'/removalList', config: m.route}, 'View removal requests')])\n        ])\n        :\n        m('.StudyRemoval.container', [\n            m('h3', [\n                'Study Removal Request ',\n                m('small', ctrl.global_study_name())\n            ]),\n\n            m('.row', [\n                m('.col-sm-3', m('strong', 'Researcher Name: ')),\n                m('.col-sm-9', ctrl.researcher_name())\n            ]),\n            m('.row.m-b-1', [\n                m('.col-sm-3', m('strong', 'Researcher Email Address: ')),\n                m('.col-sm-9', ctrl.researcher_email())\n            ]),\n\n            radioInput({\n                label:m('span', ['Study name', ASTERIX]), \n                prop: ctrl.study_name,\n                values:ctrl.study_names(),\n                help: 'This is the name you submitted to the RDE (e.g., colinsmith.elmcogload) ',\n                form, required:true, isStack:true\n            }),\n            textInput({label: m('span', ['Please enter your completed n below ', m('span.text-danger', ' *')]), help: m('span', ['you can use the following link: ', m('a', {href:'https://app-prod-03.implicit.harvard.edu/implicit/research/pitracker/PITracking.html#3'}, 'https://app-prod-03.implicit.harvard.edu/implicit/research/pitracker/PITracking.html#3')]),  placeholder: 'completed n', prop: ctrl.completed_n, form, required:true, isStack:true}),\n            textInput({isArea: true, label: m('span', 'Additional comments'), help: '(e.g., anything unusual about the data collection, consistent participant comments, etc.)',  placeholder: 'Additional comments', prop: ctrl.comments, form, isStack:true}),\n            !ctrl.error() ? '' : m('.alert.alert-warning', m('strong', 'Error: '), ctrl.error()),\n            m('button.btn.btn-primary', {onclick: submit}, 'Submit')\n        ]);\n    }\n};\n","import {formFactory, textInput, radioInput} from 'utils/formHelpers';\nimport {Study_change_request, get_study_prop} from 'deploy/deployModel';\n\nexport default studyChangeRequestComponent;\nconst ASTERIX = m('span.text-danger', '*');\n\nlet studyChangeRequestComponent = {\n    controller(){\n        const studyId = m.route.param('studyId');\n        let form = formFactory();\n        let ctrl = {\n            sent:false,\n            user_name: m.prop(''),\n            researcher_name: m.prop(''),\n            researcher_email: m.prop(''),\n            study_name: m.prop(''),\n            target_sessions: m.prop(''),\n            status: m.prop(''),\n            file_names: m.prop(''),\n            comments: m.prop(''),\n            error: m.prop('')\n        };\n        get_study_prop(studyId)\n            .then(response =>{\n                ctrl.researcher_name(response.researcher_name);\n                ctrl.researcher_email(response.researcher_email);\n                ctrl.user_name(response.user_name);\n                ctrl.study_name(response.study_name);\n            })\n            .catch(response => {\n                ctrl.error(response.message);\n            })\n            .then(m.redraw);\n\n        function submit(){\n            form.showValidation(true);\n            if (!form.isValid())\n            {\n                ctrl.error('Missing parameters');\n                return;\n            }\n            Study_change_request(studyId, ctrl)\n                .then(() => {\n                    ctrl.sent = true;\n                })\n                .catch(response => {\n                    ctrl.error(response.message);\n                }).then(m.redraw);\n        }\n        return {ctrl, form, submit, studyId};\n    },\n    view({form, ctrl, submit}){\n        let study_showfiles_link = document.location.origin + '/implicit/showfiles.jsp?user=' + ctrl.user_name() + '&study=' + ctrl.study_name();\n\n        if (ctrl.sent) return m('.deploy.centrify',[\n            m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n            m('h5', ['The change request form was sent successfully ', m('a', {href:'/changeRequestList', config: m.route}, 'View change request  requests')])\n        ]);\n            \n        return m('.StudyChangeRequest.container', [\n            m('h3', [\n                'Study Change Request ',\n                m('small', ctrl.study_name())\n            ]),\n\n            m('.row', [\n                m('.col-sm-3', m('strong', 'Researcher Name: ')),\n                m('.col-sm-9', ctrl.researcher_name())\n            ]),\n            m('.row', [\n                m('.col-sm-3', m('strong', 'Researcher Email Address: ')),\n                m('.col-sm-9', ctrl.researcher_email())\n            ]),\n            m('.row.m-b-1', [\n                m('.col-sm-3', m('strong', 'Study showfiles link: ')),\n                m('.col-sm-9', m('a', {href:study_showfiles_link, target: '_blank'}, study_showfiles_link))\n            ]),\n\n\n            textInput({label: m('span', ['Target number of additional sessions (In addition to the sessions completed so far)', m('span.text-danger', ' *')]),  placeholder: 'Target number of additional sessions', prop: ctrl.target_sessions, form, required:true, isStack:true}),\n\n            radioInput({\n                label: m('span', ['What\\'s the current status of your study?', ASTERIX]),\n                prop: ctrl.status,\n                values: {\n                    'Currently collecting data and does not need to be unpaused': 'Currently collecting data and does not need to be unpaused',\n                    'Manually paused and needs to be unpaused' : 'Manually paused and needs to be unpaused',\n                    'Auto-paused due to low completion rates or meeting target N.' : 'Auto-paused due to low completion rates or meeting target N.'\n                },\n                form, required:true, isStack:true\n            }),\n            textInput({isArea: true, label: m('span', ['Change Request', m('span.text-danger', ' *')]), help: 'List all file names involved in the change request. Specify for each file whether file is being updated or added to production.)',  placeholder: 'Change Request', prop: ctrl.file_names, form, required:true, isStack:true}),\n            textInput({isArea: true, label: m('span', 'Additional comments'),  placeholder: 'Additional comments', prop: ctrl.comments, form, isStack:true}),\n            !ctrl.error() ? '' : m('.alert.alert-warning', m('strong', 'Error: '), ctrl.error()),\n            m('button.btn.btn-primary', {onclick: submit}, 'Submit')\n        ]);\n    }\n};\n","import {fetchJson} from 'utils/modelHelpers';\nimport {baseUrl} from 'modelUrls';\n\nconst add_userUrl = `${baseUrl}/users/add_user`;\n\nlet added = false;\n\nexport let isadded = () => added;\n\nexport let add = (username, first_name , last_name, email, iscu) => fetchJson(add_userUrl, {\n    method: 'post',\n    body: {username, first_name , last_name, email, iscu}\n});\n\n","import {add} from './addUserModel';\nimport fullHeight from 'utils/fullHeight';\nexport default addComponent;\n\nlet addComponent = {\n    controller(){\n        const username = m.prop('');\n        const first_name = m.prop('');\n        const last_name = m.prop('');\n        const email = m.prop('');\n        const iscu = m.prop(false);\n        const ctrl = {\n            username,\n            first_name,\n            last_name,\n            email,\n            iscu,\n            error: m.prop(''),\n            added:false,\n            add: addAction\n        };\n        return ctrl;\n\n        function addAction(){\n            add(username, first_name , last_name, email, iscu)\n                .then(() => {\n                    ctrl.added = true;\n                    m.redraw();\n                })\n                .catch(response => {\n                    ctrl.error(response.message);\n                    m.redraw();\n                });\n        }\n    },\n    view(ctrl){\n        return m('.add.centrify', {config:fullHeight},[\n            ctrl.added\n                ?\n                [\n                    m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n                    m('h5', [ctrl.username(), ' successfully added (email sent)!'])\n                ]\n                :\n                m('.card.card-inverse.col-md-4', [\n                    m('.card-block',[\n                        m('h4', 'Please fill the following details'),\n                        m('form', {onsubmit:ctrl.add}, [\n                            m('fieldset.form-group',\n                                m('input.form-control', {\n                                    type:'username',\n                                    placeholder: 'User name',\n                                    value: ctrl.username(),\n                                    oninput: m.withAttr('value', ctrl.username),\n                                    onchange: m.withAttr('value', ctrl.username),\n                                    config: getStartValue(ctrl.username)\n                                }\n                            )),\n                            m('fieldset.form-group',\n                                m('input.form-control', {\n                                    type:'first_name',\n                                    placeholder: 'first name',\n                                    value: ctrl.first_name(),\n                                    oninput: m.withAttr('value', ctrl.first_name),\n                                    onchange: m.withAttr('value', ctrl.first_name),\n                                    config: getStartValue(ctrl.first_name)\n                                }\n                            )),\n                            m('fieldset.form-group',\n                                    m('input.form-control', {\n                                        type:'last_name',\n                                        placeholder: 'last name',\n                                        value: ctrl.last_name(),\n                                        oninput: m.withAttr('value', ctrl.last_name),\n                                        onchange: m.withAttr('value', ctrl.last_name),\n                                        config: getStartValue(ctrl.last_name)\n                                    }\n                            )),\n                            m('fieldset.form-group',\n                                m('input.form-control', {\n                                    type:'email',\n                                    placeholder: 'email',\n                                    value: ctrl.email(),\n                                    oninput: m.withAttr('value', ctrl.email),\n                                    onchange: m.withAttr('value', ctrl.email),\n                                    config: getStartValue(ctrl.email)\n                                }\n                            )),\n                            m('fieldset.form-group',\n\n                                m('label.c-input.c-checkbox', [\n                                    m('input.form-control', {\n                                        type: 'checkbox',\n                                        onclick: m.withAttr('checked', ctrl.iscu)}),\n                                    m('span.c-indicator'),\n                                    m.trust('&nbsp;'),\n                                    m('span', 'contract user')\n                                ])\n                            )\n                        ]),\n\n                        !ctrl.error() ? '' : m('.alert.alert-warning', m('strong', 'Error: '), ctrl.error()),\n                        m('button.btn.btn-primary.btn-block', {onclick: ctrl.add},'Add')\n                    ])\n                ])\n        ]);\n    }\n};\n\nfunction getStartValue(prop){\n    return (element, isInit) => {// !isInit && prop(element.value);\n        if (!isInit) setTimeout(()=>prop(element.value), 30);\n    };\n}\n","import {fetchJson} from 'utils/modelHelpers';\nimport {baseUrl} from 'modelUrls';\n\n\nfunction users_url()\n{\n    return `${baseUrl}/users`;\n}\n\n\nexport let get_users = () => fetchJson(users_url(), {\n    method: 'get'\n});\n\nexport let remove_user = (user_id) => fetchJson(users_url(), {\n    body: {user_id},\n    method: 'delete'\n});\n\nexport let update_role= (user_id, role) => fetchJson(users_url(), {\n    body: {user_id, role},\n    method: 'put'\n});","import {get_users, remove_user, update_role} from './usersModel';\nimport messages from 'utils/messagesComponent';\n\nexport default usersComponent;\n\nlet usersComponent = {\n    controller(){\n        let ctrl = {\n            users:m.prop(),\n            loaded:false,\n            col_error:m.prop(''),\n            remove,\n            update};\n        function load() {\n            get_users()\n                .then(response =>ctrl.users(response.users))\n                .then(()=>ctrl.loaded = true)\n                .catch(error => {\n                    ctrl.col_error(error.message);\n                }).then(m.redraw);\n\n        }\n        function remove(user_id){\n            messages.confirm({header:'Delete user', content:'Are you sure?'})\n                .then(response => {\n                    if (response)\n                        remove_user(user_id)\n                            .then(()=> {\n                                load();\n                            })\n                            .catch(error => {\n                                ctrl.col_error(error.message);\n                            })\n                            .then(m.redraw);\n                });\n        }\n\n\n        function update(user_id, role){\n\n            update_role(user_id, role)\n                .then(()=> {\n                    load();\n                })\n                .then(m.redraw);\n        }\n\n        load();\n        return ctrl;\n    },\n    view(ctrl){\n        return  !ctrl.loaded\n            ?\n            m('.loader')\n            :\n            m('.container.sharing-page', [\n\n                m('table', {class:'table table-striped table-hover'}, [\n                    m('thead', [\n                        m('tr', [\n                            m('th', 'User name'),\n                            m('th',  'First name'),\n                            m('th',  'Last name'),\n                            m('th',  'Email'),\n                            m('th',  'Role'),\n                            m('th',  'Remove')\n                        ])\n                    ]),\n                    m('tbody', [\n                        ctrl.users().map(user => m('tr', [\n                            m('td', user.user_name),\n                            m('td', user.first_name),\n                            m('td', user.last_name),\n                            m('td', user.email),\n                            m('td', user.role === 'su'\n                                ?\n                                [m('strong', 'su '), m('button.btn.btn-secondary', {onclick:function() {ctrl.update(user.id, 'u');}}, 'u')]\n                                :\n                                [m('button.btn.btn-secondary', {onclick:function() {ctrl.update(user.id, 'su');}}, 'su'), m('strong', ' u')]),\n                            m('td', m('button.btn.btn-danger', {onclick:function() {ctrl.remove(user.id);}}, 'Remove'))\n                        ]))\n                    ]),\n                ])\n            ]);\n    }\n};\n\n","import {fetchJson} from 'utils/modelHelpers';\nimport {baseUrl} from 'modelUrls';\n\nconst change_password_url = `${baseUrl}/change_password`;\nconst change_email_url = `${baseUrl}/change_email`;\nconst present_templates_url = `${baseUrl}/present_templates`;\nconst dropbox_url = `${baseUrl}/dropbox`;\nconst gdrive_url = `${baseUrl}/gdrive`;\n\nfunction apiURL(code)\n{   \n    return `${change_password_url}/${encodeURIComponent(code)}`;\n}\n\nexport let is_recovery_code = (code) => fetchJson(apiURL(code), {\n    method: 'get'\n});\n\nexport let set_password = (code, password, confirm) => fetchJson(apiURL(code), {\n    method: 'post',\n    body: {password, confirm}\n});\n\nexport let set_email = (email) => fetchJson(change_email_url, {\n    method: 'post',\n    body: {email}\n});\n\nexport let get_email = () => fetchJson(change_email_url, {\n    method: 'get'\n});\n\n\nexport let check_if_present_templates = () => fetchJson(present_templates_url, {\n    method: 'get'\n});\n\nexport let set_present_templates = (value) => {\n    if (value)\n        return do_present_templates();\n    return do_hide_templates();\n};\n\n\n\nexport let do_present_templates = () => fetchJson(present_templates_url, {\n    method: 'post'\n});\n\nexport let do_hide_templates = () => fetchJson(present_templates_url, {\n    method: 'delete'\n});\n\nexport let check_if_dbx_synchronized = () => fetchJson(dropbox_url, {\n    method: 'get'\n});\n\nexport let check_if_gdrive_synchronized = () => fetchJson(gdrive_url, {\n    method: 'get'\n});\n\nexport let stop_gdrive_synchronized = () => fetchJson(gdrive_url, {\n    method: 'delete'\n});\n\nexport let stop_dbx_synchronized = () => fetchJson(dropbox_url, {\n    method: 'delete'\n});","export let emil_body = ctrl => m('.card.card-inverse.col-md-4', [\n    m('.card-block',[\n        m('h4', 'Enter New Email Address'),\n        m('form', [\n            m('input.form-control', {\n                type:'email',\n                placeholder: 'New Email Address',\n                value: ctrl.email(),\n                oninput: m.withAttr('value', ctrl.email),\n                onchange: m.withAttr('value', ctrl.email),\n                config: getStartValue(ctrl.email)\n            })\n        ])\n        ,\n        !ctrl.email_error() ? '' : m('.alert.alert-warning', m('strong', 'Error: '), ctrl.email_error()),\n        m('button.btn.btn-primary.btn-block', {onclick: ctrl.do_set_email},'Update')\n\n    ])\n\n]);\n\nfunction getStartValue(prop){\n    return (element, isInit) => {// !isInit && prop(element.value);\n        if (!isInit) setTimeout(()=>prop(element.value), 30);\n    };\n}\n","export let password_body = ctrl => m('.card.card-inverse.col-md-4', [\n    m('.card-block',[\n        m('h4', 'Enter New Password'),\n        m('form', [\n            m('input.form-control', {\n                type:'password',\n                placeholder: 'Password',\n                value: ctrl.password(),\n                oninput: m.withAttr('value', ctrl.password),\n                onchange: m.withAttr('value', ctrl.password),\n                config: getStartValue(ctrl.password)\n            }),\n\n            m('input.form-control', {\n                type:'password',\n                placeholder: 'Confirm password',\n                value: ctrl.confirm(),\n                oninput: m.withAttr('value', ctrl.confirm),\n                onchange: m.withAttr('value', ctrl.confirm),\n                config: getStartValue(ctrl.confirm)\n            })\n        ]),\n        !ctrl.password_error() ? '' : m('.alert.alert-warning', m('strong', 'Error: '), ctrl.password_error()),\n        m('button.btn.btn-primary.btn-block', {onclick: ctrl.do_set_password},'Update')\n    ])\n]);\n\nfunction getStartValue(prop){\n    return (element, isInit) => {// !isInit && prop(element.value);\n        if (!isInit) setTimeout(()=>prop(element.value), 30);\n    };\n}","import {stop_dbx_synchronized, stop_gdrive_synchronized} from './settingsModel';\nimport messages from 'utils/messagesComponent';\n\nexport function start_dbx_sync(ctrl){\n    let error = m.prop('');\n    // ctrl.dbx_auth_link()\n    messages.confirm({okText: 'Continue', cancelText: 'Cancel', header:'Synchronization with Dropbox', content:m('p', [\n        m('p','This feature creates a backup for all your studies by copying all your study files to your Dropbox account. Every time you change a file here, on the Dashboard, it will send that update to your Dropbox account. Using the Dropbox website, you will be able to see previous versions of all the files you changed.'),\n        m('ul',\n            [\n                m('li', 'Dropbox will create a folder under Apps/minno.js/username and will copy all your studies under that folder.'),\n                m('li', 'We will not have access to any of your files on other folders.'),\n                m('li', [m('span' ,'This feature is only for backup. If you edit or delete your study files on your computer\\'s file-system, these edits will not be synchronized with the study files on this website. '), m('strong', 'Updates work only in one direction: from this website to your Dropbox, not from your Dropbox to this website.')]),\n                m('li', 'If you want to see an older version of any of your study files, you can go to Dropbox and request to see previous versions of the file. If you want to restore an older version of a file, you will need to copy and paste its text to the Dashboard\\'s editor on this website, or to download the old file to your computer and upload it to this website.')\n            ]\n        ),\n        !error() ? '' : m('p.alert.alert-danger', error())])\n    })\n    .then(function (response) {\n        console.log(ctrl.dbx_auth_link());\n        if (response)\n            window.location = ctrl.dbx_auth_link();\n    });\n\n}\n\nexport function stop_dbx_sync(ctrl){\n    stop_dbx_synchronized()\n        .then(m.route('/settings'))\n        .catch(response => {\n            ctrl.synchronization_error(response.message);\n        });\n}\n\n\nexport function stop_gdrive_sync(ctrl){\n    stop_gdrive_synchronized()\n        .then(m.route('/settings'))\n        .catch(response => {\n            ctrl.synchronization_error(response.message);\n        });\n}\n\n","import {start_dbx_sync, stop_dbx_sync} from './settingsActions';\n\n\n\nexport let dropbox_body = ctrl => typeof ctrl.is_dbx_synchronized()==='undefined' || ctrl.role()=='CU' ? '' : m('.card.card-inverse.col-md-4', [\n    m('.card-block',[\n        !ctrl.is_dbx_synchronized()?\n            m('button.btn.btn-primary.btn-block', {onclick: function(){start_dbx_sync(ctrl);}},[\n                m('i.fa.fa-fw.fa-dropbox'), ' Synchronize with your Dropbox account'\n            ])\n        :\n        m('button.btn.btn-primary.btn-block', {onclick: function(){stop_dbx_sync(ctrl);}},[\n            m('i.fa.fa-fw.fa-dropbox'), ' Stop Synchronize with your Dropbox account'\n        ])\n    ])\n]);\n","export let templates_body = ctrl => ctrl.role()=='CU' ? '' : m('.card.card-inverse.col-md-4', [\n    m('.card-block',[\n        !ctrl.present_templates()\n        ?\n        m('a', {onclick: function(){ctrl.do_set_templete(true);}},\n            m('button.btn.btn-primary.btn-block', [\n                m('i.fa.fa-fw.fa-flag'), ' Show template studies'\n            ])\n        )\n        :\n        m('button.btn.btn-primary.btn-block', {onclick: function(){ctrl.do_set_templete(false);}},[\n            m('i.fa.fa-fw.fa-flag'), ' Hide template studies'\n        ])\n    ])\n]);\n","import {emil_body} from './changeEmailView';\nimport {password_body} from './changePasswordView';\nimport {dropbox_body} from './connect2dropboxView';\nimport {templates_body} from './templateStudiesView';\n\nconst settings = {'password':[],\n    'emil':[],\n    'dropbox':[],\n    'templates':[]\n};\n\nconst settings_hash = {\n    password: password_body,\n    emil: emil_body,\n    dropbox: dropbox_body,\n    templates: templates_body\n};\n\nexport let draw_menu = (ctrl) => {\n    return Object.keys(settings).map(feature=>\n        settings_hash[feature](ctrl));\n};\n\n","import {set_password, set_email, get_email, check_if_dbx_synchronized, check_if_present_templates , set_present_templates} from './settingsModel';\nimport {getAuth} from 'login/authModel';\n\nimport fullHeight from 'utils/fullHeight';\nimport {draw_menu} from './settingsMenu';\n// import {gdrive_body} from './connect2GdriveView';\n\nexport default changePasswordComponent;\n\nlet changePasswordComponent = {\n    controller(){\n\n        const ctrl = {\n            role:m.prop(''),\n            password:m.prop(''),\n            confirm:m.prop(''),\n            is_dbx_synchronized: m.prop(),\n            is_gdrive_synchronized: m.prop(),\n            present_templates: m.prop(),\n            dbx_auth_link: m.prop(''),\n            gdrive_auth_link: m.prop(''),\n            synchronization_error: m.prop(''),\n            present_templates_error: m.prop(''),\n            email: m.prop(''),\n            password_error: m.prop(''),\n            password_changed:false,\n            email_error: m.prop(''),\n            email_changed:false,\n            do_set_password,\n            do_set_email,\n            do_set_templete\n\n        };\n        getAuth().then((response) => {\n            ctrl.role(response.role);\n        });\n\n        get_email()\n        .then((response) => {\n            ctrl.email(response.email);\n        })\n        .catch(response => {\n            ctrl.email_error(response.message);\n        })\n        .then(m.redraw);\n        check_if_dbx_synchronized()\n            .then((response) => {\n                ctrl.is_dbx_synchronized(response.is_synchronized);\n                ctrl.dbx_auth_link(response.auth_link);\n            })\n            .catch(response => {\n                ctrl.synchronization_error(response.message);\n            })\n            .then(m.redraw);\n\n        // check_if_gdrive_synchronized()\n        //     .then((response) => {\n        //         ctrl.is_gdrive_synchronized(response.is_synchronized);\n        //         ctrl.gdrive_auth_link(response.auth_link);\n        //     })\n        //     .catch(response => {\n        //         ctrl.synchronization_error(response.message);\n        //     })\n        //     .then(m.redraw);\n\n        check_if_present_templates()\n            .then((response) => {\n                ctrl.present_templates(response.present_templates);\n            })\n            .catch(response => {\n                ctrl.present_templates_error(response.message);\n            })\n            .then(m.redraw);\n        return ctrl;\n\n\n        function do_set_password(){\n            set_password('', ctrl.password, ctrl.confirm)\n                .then(() => {\n                    ctrl.password_changed = true;\n                })\n                .catch(response => {\n                    ctrl.password_error(response.message);\n                })\n                .then(m.redraw);\n        }\n\n        function do_set_email(){\n            set_email(ctrl.email)\n                .then(() => {\n                    ctrl.email_changed = true;\n                })\n                .catch(response => {\n                    ctrl.email_error(response.message);\n                })\n                .then(m.redraw);\n        }\n        function do_set_templete(value){\n            set_present_templates(value)\n                .then(() => {\n                    ctrl.present_templates(value);\n                })\n                .catch(response => {\n                    ctrl.present_templates_error(response.message);\n                })\n                .then(m.redraw);\n        }\n    },\n    view(ctrl){\n        return m('.activation.centrify', {config:fullHeight},[\n            ctrl.password_changed\n            ?\n                [\n                    m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n                    m('h5', 'Password successfully updated!'),\n                    m('p.text-center',\n                        m('small.text-muted',  m('a', {href:'./'}, 'Take me to my studies!'))\n                    )\n\n                ]\n            :\n            ctrl.email_changed\n            ?\n                [\n                    m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n                    m('h5', 'Email successfully updated!')\n                ]\n            :\n                draw_menu(ctrl)\n        ]);\n    }\n};\n","import {fetchJson} from 'utils/modelHelpers';\nimport {baseUrl} from 'modelUrls';\n\nconst massMailUrl = `${baseUrl}/mass_mail`;\n\nlet sent = false;\n\nexport let issent = () => sent;\n\nexport let send = (subject, body , ru, su, cu) => fetchJson(massMailUrl, {\n    method: 'post',\n    body: {subject, body , ru, su, cu}\n});\n\n","import {send} from './massMailModel';\nimport fullHeight from 'utils/fullHeight';\nexport default massMailComponent;\n\nlet massMailComponent = {\n    controller(){\n        const subject = m.prop('');\n        const body = m.prop('');\n        const ru = m.prop(false);\n        const su = m.prop(false);\n        const cu = m.prop(false);\n        const ctrl = {\n            subject,\n            body,\n            ru,\n            su,\n            cu,\n            error: m.prop(''),\n            sent:false,\n            send: sendAction\n        };\n        return ctrl;\n\n        function sendAction(){\n            send(subject, body , ru, su, cu)\n                .then(() => {\n                    ctrl.sent = true;\n                    m.redraw();\n                })\n                .catch(response => {\n                    ctrl.error(response.message);\n                    m.redraw();\n                });\n        }\n    },\n    view(ctrl){\n        return m('.add.centrify', {config:fullHeight},[\n            ctrl.sent\n                ?\n                [\n                    m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n                    m('h5', 'Mail successfully sent!')\n                ]\n                :\n                m('.card.card-inverse.col-md-4', [\n                    m('.card-block',[\n                        m('h4', 'Please fill the following details'),\n                        m('form', {onsubmit:ctrl.send}, [\n                            m('fieldset.form-group',\n                                m('input.form-control', {\n                                    type:'Subject',\n                                    placeholder: 'Subject',\n                                    value: ctrl.subject(),\n                                    oninput: m.withAttr('value', ctrl.subject),\n                                    onchange: m.withAttr('value', ctrl.subject),\n                                    config: getStartValue(ctrl.subject)\n                                }\n                            )),\n                            m('fieldset.form-group',\n                                m('textarea.form-control', {\n                                    type:'Body',\n                                    placeholder: 'Body',\n                                    value: ctrl.body(),\n                                    oninput: m.withAttr('value', ctrl.body),\n                                    onchange: m.withAttr('value', ctrl.body),\n                                    config: getStartValue(ctrl.body)\n                                }\n                            )),\n                            m('fieldset.form-group',\n\n                                m('label.c-input.c-checkbox', [\n                                    m('input.form-control', {\n                                        type: 'checkbox',\n                                        onclick: m.withAttr('checked', ctrl.ru)}),\n                                    m('span.c-indicator'),\n                                    m.trust('&nbsp;'),\n                                    m('span', 'Regular users')\n                                ]),\n                                m('label.c-input.c-checkbox', [\n                                    m('input.form-control', {\n                                        type: 'checkbox',\n                                        onclick: m.withAttr('checked', ctrl.su)}),\n                                    m('span.c-indicator'),\n                                    m.trust('&nbsp;'),\n                                    m('span', 'Super users')\n                                ]),\n                                m('label.c-input.c-checkbox', [\n                                    m('input.form-control', {\n                                        type: 'checkbox',\n                                        onclick: m.withAttr('checked', ctrl.cu)}),\n                                    m('span.c-indicator'),\n                                    m.trust('&nbsp;'),\n                                    m('span', 'Contract users')\n                                ])\n\n                            )\n                        ]),\n\n                        !ctrl.error() ? '' : m('.alert.alert-warning', m('strong', 'Error: '), ctrl.error()),\n                        m('button.btn.btn-primary.btn-block', {onclick: ctrl.send},'Send')\n                    ])\n                ])\n        ]);\n    }\n};\n\nfunction getStartValue(prop){\n    return (element, isInit) => {// !isInit && prop(element.value);\n        if (!isInit) setTimeout(()=>prop(element.value), 30);\n    };\n}\n","import {fetchJson} from 'utils/modelHelpers';\nimport {activationUrl as activation1_url} from 'modelUrls';\n\nfunction apiURL(code)\n{   \n    return `${activation1_url}/${encodeURIComponent(code)}`;\n}\n\nexport let is_activation_code = (code) => fetchJson(apiURL(code), {\n    method: 'get'\n});\n\nexport let set_password = (code, password, confirm) => fetchJson(apiURL(code), {\n    method: 'post',\n    body: {password, confirm}\n});\n","import {is_activation_code, set_password} from './activationModel';\nimport fullHeight from 'utils/fullHeight';\nimport {password_body} from 'settings/changePasswordView';\n\nexport default activationComponent;\n\nlet activationComponent = {\n    controller(){\n        const ctrl = {\n            password: m.prop(''),\n            confirm: m.prop(''),\n            password_error: m.prop(''),\n            activated:false,\n            do_set_password\n        };\n       \n        is_activation_code(m.route.param('code'))\n        .catch(() => {\n            m.route('/');\n        });\n\n        return ctrl;\n\n        function do_set_password(){\n            set_password(m.route.param('code'), ctrl.password, ctrl.confirm)\n                .then(() => {\n                    ctrl.activated = true;\n                })\n                .catch(response => {\n                    ctrl.password_error(response.message);\n                })\n                .then(m.redraw);\n        }\n    },\n    view(ctrl){\n        return m('.activation.centrify', {config:fullHeight},[\n            ctrl.activated\n            ?\n                [\n                    m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n                    m('h5', 'Password successfully updated!')\n                ]\n            :\n            password_body(ctrl)]);\n    }\n};\n","import {fetchJson} from 'utils/modelHelpers';\nimport {collaborationUrl as collaboration_url} from 'modelUrls';\n\nfunction apiURL(code)\n{   \n    return `${collaboration_url}/${encodeURIComponent(code)}`;\n}\n\nexport let is_collaboration_code = (code) => fetchJson(apiURL(code), {\n    method: 'get'\n});\n\nexport let set_password = (code, password, confirm) => fetchJson(apiURL(code), {\n    method: 'post',\n    body: {password, confirm}\n});\n","import {is_collaboration_code} from './collaborationModel';\nimport fullHeight from 'utils/fullHeight';\n\nexport default collaborationComponent;\n\nlet collaborationComponent = {\n    controller(){\n        is_collaboration_code(m.route.param('code'))\n        .then(() => {\n            m.route('/');\n        }).catch().then(m.redraw);\n\n\n\n    },\n    view(){\n        return m('.activation.centrify', {config:fullHeight},[\n            m('i.fa.fa-thumbs-down.fa-5x.m-b-1'),\n            m('h5', 'There is a problem! please check your code...')]);\n    }\n};\n","import {set_password, is_recovery_code} from './settingsModel';\n\nimport fullHeight from 'utils/fullHeight';\nimport {password_body} from './changePasswordView';\n\nexport default resetPasswordComponent;\n\nlet resetPasswordComponent = {\n    controller(){\n        const ctrl = {\n            password:m.prop(''),\n            confirm:m.prop(''),\n            password_error: m.prop(''),\n            password_changed:false,\n            code: m.prop(''),\n            do_set_password\n        };\n        ctrl.code(m.route.param('code')!== undefined ? m.route.param('code') : '');\n        is_recovery_code(ctrl.code())\n            .catch(() => {\n                m.route('/');\n            })\n            .then(() => {\n                m.redraw();\n            });\n\n        return ctrl;\n        \n        function do_set_password(){\n            set_password(ctrl.code(), ctrl.password, ctrl.confirm)\n                .then(() => {\n                    ctrl.password_changed = true;\n                })\n                .catch(response => {\n                    ctrl.password_error(response.message);\n                })\n                .then(m.redraw);\n        }\n    },\n    view(ctrl){\n        return m('.activation.centrify', {config:fullHeight},[\n            ctrl.password_changed\n            ?\n                [\n                    m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n                    m('h5', 'Password successfully updated!'),\n                    m('p.text-center',\n                        m('small.text-muted',  m('a', {href:'./'}, 'Take me to my studies!'))\n                    )\n                ]\n            :\n            password_body(ctrl)\n        ]);\n    }\n};\n","import {fetchJson} from 'utils/modelHelpers';\nimport {baseUrl} from 'modelUrls';\n\nconst recoveryUrl = `${baseUrl}/recovery`;\n\n\nexport let recovery = (username) => fetchJson(recoveryUrl, {\n    method: 'post',\n    body: {username}\n});\n","import {recovery} from './recoveryModel';\nimport fullHeight from 'utils/fullHeight';\nexport default recoveryComponent;\n\nlet recoveryComponent = {\n    controller(){\n        const ctrl = {\n            sent:false,\n            username: m.prop(''),\n            error: m.prop(''),\n            recoveryAction\n        };\n        return ctrl;\n\n        function recoveryAction(){\n            recovery(ctrl.username)\n                .catch(response => {\n                    ctrl.error(response.message);\n                })\n                .then(()=>{ctrl.sent = true; m.redraw();});\n        }\n    },\n    view(ctrl){\n        return  m('.recovery.centrify', {config:fullHeight},[\n            ctrl.sent\n                ?\n                [\n                    m('i.fa.fa-thumbs-up.fa-5x.m-b-1'),\n                    m('h5', 'Recovery request successfully sent!')\n                ]\n                :\n            m('.card.card-inverse.col-md-4', [\n                m('.card-block',[\n                    m('h4', 'Password Reset Request'),\n                    m('p', 'Enter your username or your email address in the space below and we will mail you the password reset instructions'),\n\n                    m('form', {onsubmit:ctrl.recoveryAction}, [\n                        m('input.form-control', {\n                            type:'username',\n                            placeholder: 'Username / Email',\n                            value: ctrl.username(),\n                            oninput: m.withAttr('value', ctrl.username),\n                            onchange: m.withAttr('value', ctrl.username),\n                            config: getStartValue(ctrl.username)\n                        })\n                    ]),\n\n                    !ctrl.error() ? '' : m('.alert.alert-warning', m('strong', 'Error: '), ctrl.error()),\n                    m('button.btn.btn-primary.btn-block', {onclick: ctrl.recoveryAction},'Request')\n                ])\n            ])\n        ]);\n    }\n};\n\nfunction getStartValue(prop){\n    return (element, isInit) => {// !isInit && prop(element.value);\n        if (!isInit) setTimeout(()=>prop(element.value), 30);\n    };\n}\n","import {get_collaborations, remove_collaboration, add_collaboration, make_pulic, add_link, revoke_link} from './sharingModel';\nimport messages from 'utils/messagesComponent';\n\nexport default collaborationComponent;\n\nlet collaborationComponent = {\n    controller(){\n        let ctrl = {\n            users:m.prop(),\n            is_public:m.prop(),\n\n            link_data:m.prop(),\n            link:m.prop(''),\n            link_type:m.prop(''),\n            link_list:m.prop([]),\n            link_add_list:m.prop([]),\n            link_remove_list:m.prop([]),\n            study_name:m.prop(),\n            user_name:m.prop(''),\n            permission:m.prop(''),\n            loaded:false,\n            col_error:m.prop(''),\n            pub_error:m.prop(''),\n            share_error:m.prop(''),\n            remove,\n            do_add_collaboration,\n            do_add_link,\n            do_revoke_link,\n            do_make_public\n        };\n        function load() {\n            get_collaborations(m.route.param('studyId'))\n                .then(response =>{ctrl.users(response.users);\n                    ctrl.is_public(response.is_public);\n                    ctrl.study_name(response.study_name);\n                    ctrl.link(response.link_data.link);\n                    ctrl.link_type(response.link_data.link_type);\n                    ctrl.link_list(response.link_data.link_list);\n\n                    ctrl.loaded = true;})\n                .catch(error => {\n                    ctrl.col_error(error.message);\n                }).then(m.redraw);\n\n        }\n        function remove(user_id){\n            messages.confirm({header:'Delete collaboration', content:'Are you sure?'})\n                .then(response => {\n                    if (response)\n                        remove_collaboration(m.route.param('studyId'), user_id)\n                            .then(()=> {\n                                load();\n                            })\n                            .catch(error => {\n                                ctrl.col_error(error.message);\n                            })\n                            .then(m.redraw);\n                });\n        }\n\n        function do_add_collaboration()\n        {\n            messages.confirm({\n                header:'Add a Collaborator',\n                content: m.component({view: () => m('p', [\n                    m('p', 'Enter collaborator\\'s user name:'),\n                    m('input.form-control', {placeholder: 'User name', value: ctrl.user_name(), onchange: m.withAttr('value', ctrl.user_name)}),\n                    m('select.form-control', {value:ctrl.permission(), onchange: m.withAttr('value',ctrl.permission)}, [\n                        m('option',{value:'', disabled: true}, 'Permission'),\n                        m('option',{value:'can edit', selected: ctrl.permission() === 'can edit'}, 'Can edit'),\n                        m('option',{value:'read only', selected: ctrl.permission() === 'read only'}, 'Read only')\n                    ]),\n                    m('p', {class: ctrl.col_error()? 'alert alert-danger' : ''}, ctrl.col_error())\n                ])\n                })})\n                .then(response => {\n                    if (response)\n                        add_collaboration(m.route.param('studyId'), ctrl.user_name, ctrl.permission)\n                            .then(()=>{\n                                ctrl.col_error('');\n                                load();\n                            })\n                            .catch(error => {\n                                ctrl.col_error(error.message);\n                                do_add_collaboration();\n                            })\n                            .then(m.redraw);\n                });\n        }\n\n        function do_add_link() {\n            add_link(m.route.param('studyId'))\n                .then(response =>{ctrl.link(response.link);})\n                .catch(error => {\n                    ctrl.col_error(error.message);\n                }).then(m.redraw);\n        }\n\n        function do_revoke_link() {\n            revoke_link(m.route.param('studyId'))\n                .then(() =>{ctrl.link('');})\n                .catch(error => {\n                    ctrl.col_error(error.message);\n                }).then(m.redraw);\n        }\n\n        function do_make_public(is_public){\n            messages.confirm({okText: ['Yes, make ', is_public ? 'public' : 'private'], cancelText: ['No, keep ', is_public ? 'private' : 'public' ], header:'Are you sure?', content:m('p', [m('p', is_public\n                                                                                ?\n                                                                                'Making the study public will allow everyone to view the files. It will NOT allow others to modify the study or its files.'\n                                                                                :\n                                                                                'Making the study private will hide its files from everyone but you.'),\n                m('span', {class: ctrl.pub_error()? 'alert alert-danger' : ''}, ctrl.pub_error())])})\n                .then(response => {\n                    if (response) make_pulic(m.route.param('studyId'), is_public)\n                        .then(()=>{\n                            ctrl.pub_error('');\n                            load();\n                        })\n                        .catch(error => {\n                            ctrl.pub_error(error.message);\n                            do_make_public(is_public);\n                        })\n                        .then(m.redraw);\n                });\n\n        }\n        load();\n        return ctrl;\n    },\n    view(ctrl){\n        return  !ctrl.loaded\n            ?\n            m('.loader')\n            :\n            m('.container.sharing-page', [\n                m('.row',[\n                    m('.col-sm-7', [\n                        m('h3', [ctrl.study_name(), ' (Sharing Settings)'])\n                    ]),\n                    m('.col-sm-5', [\n                        m('button.btn.btn-secondary.btn-sm.m-r-1', {onclick:ctrl.do_add_collaboration}, [\n                            m('i.fa.fa-plus'), '  Add a new collaborator'\n                        ]),\n                        m('button.btn.btn-secondary.btn-sm', {onclick:function() {ctrl.do_make_public(!ctrl.is_public());}}, ['Make ', ctrl.is_public() ? 'Private' : 'Public'])\n                    ])\n                ]),\n                m('table', {class:'table table-striped table-hover'}, [\n                    m('thead', [\n                        m('tr', [\n                            m('th', 'User name'),\n                            m('th',  'Permission'),\n                            m('th',  'Remove')\n                        ])\n                    ]),\n                    m('tbody', [\n                        ctrl.users().map(user => m('tr', [\n                            m('td', user.USERNAME),\n                            m('td', user.PERMISSION),\n                            m('td', m('button.btn.btn-secondary', {onclick:function() {ctrl.remove(user.USER_ID);}}, 'Remove'))\n                        ]))\n\n                    ]),\n                    m('.row.space',\n                        m('.col-sm-12', [\n                            m('button.btn.btn-secondary.btn-sm.m-r-1', {onclick:ctrl.do_add_link},\n                                [m('i.fa.fa-plus'), '  Create / Re-create public link']\n                            ),\n                            m('button.btn.btn-secondary.btn-sm.m-r-1', {onclick:ctrl.do_revoke_link},\n                                [m('i.fa.fa-fw.fa-remove'), '  Revoke public link']\n                            ),\n                            m('label.input-group.space',[\n                                m('.input-group-addon', {onclick: function() {copy(ctrl.link());}}, m('i.fa.fa-fw.fa-copy')),\n                                m('input.form-control', { value: ctrl.link(), onchange: m.withAttr('value', ctrl.link)})\n                            ])\n                        ])\n                    )\n\n                ])\n            ]);\n    }\n};\n\nfunction copy(text){\n    return new Promise((resolve, reject) => {\n        let input = document.createElement('input');\n        input.value = text;\n        document.body.appendChild(input);\n        input.select();\n        try {\n            document.execCommand('copy');\n        } catch(err){\n            reject(err);\n        }\n\n        input.parentNode.removeChild(input);\n    });\n}\n","\n// it makes sense to use this for cotnrast:\n// https://24ways.org/2010/calculating-color-contrast/\n\nexport let editTag = args => m.component(editTagComponent, args);\n\nlet editTagComponent = {\n    view: (ctrl, {tag_color, tag_text, error}) => m('div', [\n        m('.form-group.row', [\n            m('.col-sm-3', [\n                m('label.form-control-label', 'Tag name')\n            ]),\n            m('.col-sm-9', [\n                m('input.form-control', {placeholder: 'tag_text', value: tag_text(), oninput: m.withAttr('value', tag_text)})\n            ])\n        ]),\n\n        m('.form-group.row', [\n            m('.col-sm-3', [\n                m('label.form-control-label', 'Preview')\n            ]),\n            m('.col-sm-9.form-control-static', [\n                !tag_text()\n                    ? m('small.text-muted', 'No tag name yet')\n                    : m('span.study-tag',  {style: {'background-color': '#'+tag_color()}}, tag_text())\n            ])\n        ]),\n\n        m('.form-group.row', [\n            m('.col-sm-3', [\n                m('label.form-control-label', 'Color')\n            ]),\n            m('.col-sm-9', [\n                m('div',[\n                    colorButton('E7E7E7', tag_color),\n                    colorButton('B6CFF5', tag_color),\n                    colorButton('98D7E4', tag_color),\n                    colorButton('E3D7FF', tag_color),\n                    colorButton('FBD3E0', tag_color),\n                    colorButton('F2B2A8', tag_color),\n                    colorButton('C2C2C2', tag_color),\n                    colorButton('4986E7', tag_color)\n                ]),\n                m('div', [\n                    colorButton('2DA2BB', tag_color),\n                    colorButton('B99AFF', tag_color),\n                    colorButton('F691B2', tag_color),\n                    colorButton('FB4C2F', tag_color),\n                    colorButton('FFC8AF', tag_color),\n                    colorButton('FFDEB5', tag_color),\n                    colorButton('FBE9E7', tag_color),\n                    colorButton('FDEDC1', tag_color)\n                ]),\n                m('div', [\n                    colorButton('B3EFD3', tag_color),\n                    colorButton('A2DCC1', tag_color),\n                    colorButton('FF7537', tag_color),\n                    colorButton('FFAD46', tag_color),\n                    colorButton('EBDBDE', tag_color),\n                    colorButton('CCA6AC', tag_color),\n                    colorButton('42D692', tag_color),\n                    colorButton('16A765', tag_color)\n                ])\n            ])\n        ]),\n\n\n        m('p', {class: error()? 'alert alert-danger' : ''}, error())\n    ])\n};\n\nfunction colorButton(color, prop){\n    return m('button',  {style: {'background-color': `#${color}`}, onclick: prop.bind(null, color)}, ' A ');\n}\n\n","import {get_tags, remove_tag, add_tag, edit_tag} from './tagsModel';\nimport {editTag} from './tagsActions';\nimport messages from 'utils/messagesComponent';\n\nexport default tagsComponent;\n\nlet tagsComponent = {\n    controller(){\n        let ctrl = {\n            tags:m.prop(),\n            tag_text:m.prop(''),\n            tag_color:m.prop(''),\n            loaded:false,\n            error:m.prop(''),\n            remove,\n            add,\n            edit\n        };\n\n        function load() {\n            get_tags()\n                .then(response => {\n                    ctrl.tags(response.tags);\n                    ctrl.loaded = true;\n                })\n                .catch(error => {\n                    ctrl.error(error.message);\n                }).then(m.redraw);\n        }\n\n        function remove(tag_id){\n            return () => messages.confirm({header:'Delete tag', content:'Are you sure?'})\n                .then(response => {\n                    if (response)\n                        remove_tag(tag_id)\n                            .then(load)\n                            .catch(error => {\n                                ctrl.error(error.message);\n                            })\n                            .then(m.redraw);\n                });\n        }\n\n        function edit(tag_id, tag_text, tag_color){\n            return () => {\n                ctrl.tag_text(tag_text);\n                ctrl.tag_color(tag_color);\n\n                messages.confirm({\n                    header:'Edit tag',\n                    content: editTag(ctrl)\n                })\n                    .then(response => {\n                        if (response)\n                            edit_tag(tag_id, ctrl.tag_text, ctrl.tag_color)\n                        .then(()=>{\n                            ctrl.error('');\n                            ctrl.tag_text('');\n                            ctrl.tag_color('');\n                            load();\n                        })\n                        .catch(error => {\n                            ctrl.error(error.message);\n                            edit_tag(tag_id, ctrl.tag_text, ctrl.tag_color);\n                        })\n                        .then(m.redraw);\n                    });\n            };\n        }\n\n        function add(){\n            ctrl.tag_text('');\n            ctrl.tag_color('E7E7E7');\n            messages.confirm({\n                header:'Add a new tag',\n                content: editTag(ctrl)\n            })\n                .then(response => {\n                    if (response) add_tag(ctrl.tag_text, ctrl.tag_color)\n                        .then(()=>{\n                            ctrl.error('');\n                            ctrl.tag_text('');\n                            ctrl.tag_color('');\n                            load();\n                        })\n                        .catch(error => {\n                            ctrl.error(error.message);\n                            add(); // retry\n                        })\n                        .then(m.redraw);\n                });\n        }\n\n        load();\n        return ctrl;\n    },\n    view({loaded, add, tags,edit,remove}){\n        if (!loaded) return m('.loader');\n\n        return m('.container.tags-page', [\n            m('.row',[\n                m('.col-sm-7', [\n                    m('h3', 'Tags')\n                ]),\n                m('.col-sm-5', [\n                    m('button.btn.btn-success.btn-sm.pull-right', {onclick:add}, [\n                        m('i.fa.fa-plus'), '  Create new tag'\n                    ])\n                ])\n            ]),\n\n            !tags().length\n                ? m('.alert.alert-info', 'You have no tags yet') \n                : m('.row', [\n                    m('.list-group.col-sm-6', [\n                        tags().map(tag => m('.list-group-item', [\n                            m('.row', [\n                                m('.col-sm-6', [\n                                    m('span.study-tag',  {style: {'background-color': '#'+tag.color}}, tag.text)\n                                ]),\n                                m('.col-sm-6', [\n                                    m('btn-group', [\n                                        m('a.btn.btn-sm.btn-secondary', {onclick:edit(tag.id, tag.text, tag.color)}, [\n                                            m('i.fa.fa-edit'),\n                                            ' Edit'\n                                        ]),\n                                        m('a.btn.btn-sm.btn-secondary', {onclick:remove(tag.id)}, [\n                                            m('i.fa.fa-remove'),\n                                            ' Remove'\n                                        ])\n                                    ])\n                                ])\n                            ])\n                        ]))\n                    ])\n                ])\n        ]);\n    }\n};\n","import {fetchJson} from 'utils/modelHelpers';\nimport {translateUrl} from 'modelUrls';\n\n\nfunction template_url(templateId)\n{\n    return `${translateUrl}/${encodeURIComponent(templateId)}`;\n}\n\nfunction page_url(templateId, pageId)\n{\n    return `${translateUrl}/${encodeURIComponent(templateId)}/${encodeURIComponent(pageId)}`;\n}\n\nexport let getListOfPages = (templateId) => fetchJson(template_url(templateId), {\n    method: 'get'\n});\n\n\nexport let getStrings = (templateId, pageId) => fetchJson(page_url(templateId, pageId), {\n    method: 'get'\n});\n\n\nexport let saveStrings = (strings, templateId, pageId) => fetchJson(page_url(templateId, pageId), {\n    body: {strings},\n    method: 'put'\n});\n","export default function textareaConfig(el, isInit){\n    const resize = () => {\n        el.style.height = ''; // reset before recaluculating\n        const height = el.scrollHeight + 'px';\n        requestAnimationFrame(() => {\n            el.style.overflow = 'hidden';\n            el.style.height = height;\n        });\n    };\n\n    if (!isInit) {\n        el.addEventListener('input',  resize);\n        requestAnimationFrame(resize);\n    }\n}\n","import {getListOfPages} from './translateModel';\nimport fullheight from 'utils/fullHeight';\nimport splitPane from 'utils/splitPane';\nimport {getStrings, saveStrings} from './translateModel';\nimport classNames from 'utils/classNames';\nimport textareaAutoresize from 'utils/textareaAutoresize';\n\nexport default pagesComponent;\n\nlet pagesComponent = {\n    controller(){\n        const templateId = m.route.param('templateId');\n        const pageId = m.route.param('pageId');\n        let ctrl = {\n            pages:m.prop(),\n            study_name:m.prop(),\n            strings:m.prop(),\n            loaded:false,\n            has_changed:m.prop(false),\n            error:m.prop(''),\n            pageId,\n            templateId,\n            save,\n            onunload\n        };\n\n        function load() {\n            getListOfPages(templateId)\n                .then(response => {\n                    ctrl.pages(response.pages);\n                    ctrl.study_name(response.study_name);\n                    ctrl.loaded = true;\n                })\n                .catch(error => {\n                    ctrl.error(error.message);\n                }).then(m.redraw);\n            if(pageId)\n                getStrings(templateId, pageId)\n                    .then(response => {\n                        ctrl.strings(response.strings.map(propifyTranslation).map(propifyChanged));\n                        ctrl.loaded = true;\n\n                    })\n                    .catch(error => {\n                        ctrl.error(error.message);\n                    }).then(m.redraw);\n\n        }\n        function save() {\n            ctrl.has_changed(false);\n            let changed_studies = ctrl.strings().filter(changedFilter());\n            if(!changed_studies.length)\n                return;\n            saveStrings(changed_studies, templateId, pageId)\n                .then(()=>load());\n        }\n        load();\n\n        function beforeunload(event) {\n            if (ctrl.has_changed())\n                event.returnValue = 'You have unsaved data are you sure you want to leave?';\n        }\n\n        function onunload(e){\n            if (ctrl.has_changed() && !window.confirm('You have unsaved data are you sure you want to leave?')){\n                e.preventDefault();\n            } else {\n                window.removeEventListener('beforeunload', beforeunload);\n            }\n        }\n        return ctrl;\n    },\n    view({loaded, pages, strings, save, templateId, pageId, study_name, has_changed}){\n        return m('.study',  [\n            !loaded ? m('.loader') : splitPane({\n                leftWidth,\n                left:m('div.translate-page', [\n                    m('h5', m('a.no-decoration',  ` ${study_name()}`)),\n                    m('.files', [\n                        m('ul', pages().map(page =>m('li.file-node',{onclick: select(templateId, page)}, [\n                            m('a.wholerow',{\n                                unselectable:'on',\n                                class:classNames({\n                                    'current': page.pageName===pageId\n                                })\n                            }, m.trust('&nbsp;')),\n\n                            m('a', {class:classNames({'text-primary': /\\.expt\\.xml$/.test(page.pageName)})}, [\n                                // icon\n                                m('i.fa.fa-fw.fa-file-o.fa-files-o', {\n                                }),\n                                // page name\n                                m('span', ` ${page.pageName}`)\n                            ])\n                        ])))\n                    ])\n                ]),\n                right:  !strings()\n                    ?  m('.centrify', [\n                        m('i.fa.fa-smile-o.fa-5x'),\n                        m('h5', 'Please select a page to start working')\n                    ])\n                    :\n                    [\n                        m('.study',\n                        m('.editor',\n                        m('.btn-toolbar.editor-menu', [\n                            m('.file-name', {class: has_changed() ? 'text-danger' : ''},\n                                m('span',{class: has_changed() ? '' : 'invisible'}, '*'),\n                                pageId\n                            ),\n                            m('.btn-group.btn-group-sm.pull-xs-right', [\n                                m('a.btn.btn-secondary', { title:'Save', onclick:save\n                                    , class: classNames({'btn-danger-outline' : has_changed(), 'disabled': !has_changed()})\n                                },[\n                                    m('strong.fa.fa-save')\n                                ])]\n                        )]))),\n                        m('div.translate-page', {config: fullheight},\n                        [strings().map(string => m('.list-group-item', [\n                            m('.row', [\n                                m('.col-sm-5', [\n                                    m('span',  string.text),\n                                    m('p.small.text-muted.m-y-0', string.comment)\n                                ]),\n                                m('.col-sm-7', [\n                                    m('textarea.form-control', {\n                                        placeholder: 'translation',\n                                        oninput: m.withAttr('value', function(value){string.translation(value); has_changed(true); string.changed=true; }),\n                                        onchange: m.withAttr('value', function(value){string.translation(value); has_changed(true); string.changed=true; }),\n                                        config: textareaAutoresize\n                                    }, string.translation())\n                                ])\n\n                                // ,m('.col-sm-6', [\n                                //     m('input.form-control', {\n                                //         type:'text',\n                                //         placeholder: 'translation',\n                                //         value: string.translation(),\n                                //         oninput: m.withAttr('value', function(value){string.translation(value); string.changed=true; has_changed(true);}),\n                                //         onchange: m.withAttr('value', function(value){string.translation(value); string.changed=true; has_changed(true);}),\n                                //         config: getStartValue(string.translation)\n                                //     })\n                                // ])\n                            ])\n                        ]))\n                ])\n\n                    ]\n            })\n        ]);\n    }\n};\n\n// a clone of m.prop that users localStorage so that width changes persist across sessions as well as files.\n// Essentially this is a global variable\nfunction leftWidth(val){\n    if (arguments.length) localStorage.fileSidebarWidth = val;\n    return localStorage.fileSidebarWidth;\n}\n// function do_onchange(string){\n//     m.withAttr('value', string.translation);\n// }\n\n\nfunction propifyTranslation(obj){\n    obj = Object.assign({}, obj); // copy obj\n    obj.translation = m.prop(obj.translation);\n    return obj;\n}\n\nfunction propifyChanged(obj) {\n    obj.changed = false;\n    return obj;\n}\n\n\nlet changedFilter = () => string => {\n    return string.changed==true;\n};\n\nconst select = (templateId, page) => e => {\n    e.stopPropagation();\n    e.preventDefault();\n    m.route(`/translate/${templateId}/${page.pageName}`);\n};\n","import statisticsComponent from './study/statistics/statisticsComponent';\nimport statistics_oldComponent from './study/statistics_old/statisticsComponent';\n\n\nimport poolComponent from './pool/poolComponent';\nimport historyComponent from './pool/historyComponent';\nimport downloadsComponent from './downloads/downloadsComponent';\nimport downloadsAccessComponent from './downloadsAccess/downloadsAccessComponent';\n\nimport loginComponent from './login/loginComponent';\nimport filesComponent from './study/files/filesComponent';\nimport viewFilesComponent from './study/files/viewFilesComponent';\n\nimport studiesComponent from './study/studiesComponent';\n\n\nimport deployListComponent from 'deploy/forms/deployList/deployListComponent';\nimport changeRequestListComponent from 'deploy/forms/changeRequestList/changeRequestListComponent';\nimport removalListComponent from 'deploy/forms/removalList/removalListComponent';\n\nimport deployComponent from './deploy/deployComponent';\nimport studyRemovalComponent from './deploy/studyRemovalComponent';\nimport studyChangeRequestComponent from './deploy/studyChangeRequestComponent';\n\nimport addUserComponent from './addUser/addUserComponent';\nimport usersComponent from './users/usersComponent';\nimport settingsComponent from './settings/settingsComponent';\nimport massMailComponent from './massMail/massMailComponent';\n\n\nimport activationComponent from './activation/activationComponent';\nimport collaborationComponent from './collaboration/collaborationComponent';\nimport resetPasswordComponent from './settings/resetPasswordComponent';\nimport recoveryComponent from './recovery/recoveryComponent';\n\nimport sharingComponent from 'study/sharing/sharingComponent';\nimport tagsComponent from 'tags/tagsComponent';\nimport translateComponent from 'study/templates/pagesComponent';\n\nexport default routes;\n\nlet routes = {\n    '/tags':  tagsComponent,\n    '/translate/:templateId':  translateComponent,\n    '/translate/:templateId/:pageId':  translateComponent,\n    '/template_studies' : studiesComponent,\n\n\n    '/recovery':  recoveryComponent,\n    '/activation/:code':  activationComponent,\n    '/collaboration/:code':  collaborationComponent,\n    '/settings':  settingsComponent,\n    '/reset_password/:code':  resetPasswordComponent,\n\n    '/deployList': deployListComponent,\n    '/removalList': removalListComponent,\n    '/changeRequestList': changeRequestListComponent,\n    '/addUser':  addUserComponent,\n    '/users':  usersComponent,\n    '/massMail':  massMailComponent,\n\n    '/studyChangeRequest/:studyId':  studyChangeRequestComponent,\n    '/studyRemoval/:studyId':  studyRemovalComponent,\n    '/deploy/:studyId': deployComponent,\n    '/login': loginComponent,\n    '/studies' : studiesComponent,\n    '/studies/statistics_old' : statistics_oldComponent,\n    '/studies/statistics' : statisticsComponent,\n\n    '/view/:code': viewFilesComponent,\n    '/view/:code/:resource/:fileId': viewFilesComponent,\n\n\n    '/editor/:studyId': filesComponent,\n    '/editor/:studyId/:resource/:fileId': filesComponent,\n    '/pool': poolComponent,\n    '/pool/history': historyComponent,\n    '/downloads': downloadsComponent,\n    '/downloadsAccess': downloadsAccessComponent,\n    '/sharing/:studyId': sharingComponent\n};\n\n","import contextMenu from 'utils/contextMenuComponent';\nimport messages from 'utils/messagesComponent';\nimport spinner from 'utils/spinnerComponent';\nimport {getAuth, logout} from 'login/authModel';\n\nexport default layout;\n\nlet timer = 0;\nlet countdown = 0;\nlet role = '';\nlet isloggedin = true;\n\nlet layout = route => {\n    return {\n        controller(){\n            const ctrl = {\n                isloggedin: isloggedin,\n                role: m.prop(role),\n                present_templates: m.prop(false),\n                doLogout,\n                timer:m.prop(0)\n            };\n            is_loggedin();\n            function is_loggedin(){\n                getAuth().then((response) => {\n                    role = ctrl.role(response.role);\n                    isloggedin = ctrl.isloggedin = response.isloggedin;\n                    ctrl.present_templates(response.present_templates);\n                    let is_view = (m.route() == `/view/${m.route.param('code')}` || m.route() == `/view/${m.route.param('code')}/${m.route.param('resource')}/${encodeURIComponent(m.route.param('fileId'))}`);\n\n                    if(ctrl.role()=='ro' && !is_view)\n                        return doLogout();\n                    if (!is_view &&  !ctrl.isloggedin  && m.route() !== '/login' && m.route() !== '/recovery' && m.route() !== '/activation/'+ m.route.param('code') && m.route() !== '/change_password/'+ m.route.param('code')  && m.route() !== '/reset_password/'+ m.route.param('code')){\n                        // doLogout();\n                        let url = m.route();\n                        m.route('/login');\n                        location.hash = encodeURIComponent(url);\n                    }\n                    if(ctrl.role()=='CU' && m.route() == '/studies')\n                        m.route('/downloads');\n\n\n                    timer = response.timeoutInSeconds;\n                    run_countdown();\n                    m.redraw();\n                });\n            }\n\n            function run_countdown(){\n                clearInterval(countdown);\n                countdown = setInterval(function () {\n                    if(timer<=0)\n                        return;\n                    if(timer<10) {\n                        messages.close();\n                        doLogout();\n                    }\n                    if(timer==70)\n                        messages.confirm({header:'Timeout Warning', content:'The session is about to expire. Do you want to keep working?',okText:'Yes, stay signed-in', cancelText:'No, sign out'})\n                            .then(response => {\n                                if (!response)\n                                    return doLogout();\n                                return is_loggedin();\n                            });\n                    timer--;\n                }, 1000);\n            }\n            return ctrl;\n\n            function doLogout(){\n                clearInterval(countdown);\n                logout().then(() =>{\n                    let url = m.route();\n                    m.route('/login');\n                    location.hash = encodeURIComponent(url);\n                });\n            }\n        },\n        view(ctrl){\n\n            const settings = {\n                'studies':[],\n                // 'data':['downloads', 'downloadsAccess', 'statistics'],\n                // 'pool':[],\n                'tags':[]\n                ,'admin':[/*'deployList', 'removalList', 'changeRequestList', */'addUser', 'users'/*, 'massMail'*/]\n            };\n\n\n            const settings_hash = {\n                'studies':{text: 'Studies', href:'/studies', sub:[]},\n                'data':{text: 'Data', href:false,\n                    subs: {\n                        'downloads': {text: 'downloads', href: '/downloads'},\n                        'downloadsAccess': {text: 'Downloads Access', href: '/downloadsAccess'},\n                        'statistics': {text: 'Statistics', href: '/statistics'}\n                    }},\n                'pool':{text: 'Pool', href:'/pool', sub:[]},\n                'tags':{text: 'Tags', href:'/tags', sub:[]},\n                'admin':{text: 'Admin', href:false,\n                    su:true,\n                    subs:{'deployList': {text:'Deploy List', href: '/deployList'},\n                          'removalList': {text:'Removal List', href:'/removalList'},\n                          'changeRequestList': {text:'Change Request List', href: '/changeRequestList'},\n                          'addUser': {text:'Add User', href: '/addUser'},\n                          'massMail': {text:'Send MassMail', href: '/massMail'},\n                          'users': {text:'Users Management', href: '/users'}\n                    }}\n\n            };\n\n\n            return  m('.dashboard-root', {class: window.top!=window.self ? 'is-iframe' : ''}, [\n                !ctrl.isloggedin || ctrl.role()=='ro'\n                ?\n                ''\n                :\n                m('nav.navbar.navbar-dark', [\n                    m('a.navbar-brand', {href:'', config:m.route}, 'Dashboard'),\n                    m('ul.nav.navbar-nav',[\n\n                        Object.keys(settings).map(comp=>\n                            settings_hash[comp].su && ctrl.role() !=='su' ? '' :\n                            settings[comp].length==0 ?\n                                m('li.nav-item',[\n                                    m('a.nav-link',{href:settings_hash[comp].href, config:m.route}, settings_hash[comp].text)\n\n                                ])\n                                :\n                                m('li.nav-item', [\n                                    m('.dropdown', [\n                                        m('a.nav-link', settings_hash[comp].text),\n                                        m('.dropdown-menu', [\n                                            settings[comp].map(sub_comp=>\n                                                m('a.dropdown-item',{href:settings_hash[comp].subs[sub_comp].href, config:m.route}, settings_hash[comp].subs[sub_comp].text)\n                                            )\n\n                                        ])\n                                    ])\n                                ])\n                        ),\n\n                        m('li.nav-item.pull-xs-right', [\n                            m('a.nav-link',{href:'/settings', config:m.route},m('i.fa.fa-cog.fa-lg'))\n                        ]),\n                        !ctrl.isloggedin ? '' : m('li.nav-item.pull-xs-right',[\n                            m('button.btn.btn-info', {onclick:ctrl.doLogout}, [\n                                m('i.fa.fa-sign-out'), '  Logout'\n                            ])\n                        ])\n                    ])\n                ]),\n\n                m('.main-content.container-fluid', [\n                    route,\n\n                    m.component(contextMenu), // register context menu\n                    m.component(messages), // register modal\n                    m.component(spinner) // register spinner\n                ])\n\n            ]);\n        }\n    };\n\n};\n","import 'utils/polyfills';\nimport routes from './routes';\nimport layoutWrapper from './layoutWrapper';\n\nconst wrappedRoutes = mapObject(routes, layoutWrapper);\nm.route(document.body, '/studies', wrappedRoutes);\n\n/**\n * Map Object\n * A utility function to transform objects\n * @param  {Object}     obj     The object to transform\n * @param  {Function}   cb      The transforming function\n * @return {Object}        [description]\n *\n * Signature:\n *\n * Object mapObject(Object obj, callbackFunction cb)\n *\n * where:\n *  callbackFunction :: any Function(any value, String key, Object object)\n */\nfunction mapObject(obj, cb) {\n    return Object.keys(obj)\n        .reduce(function(result, key) {\n            result[key] = cb(obj[key], key, obj);\n            return result;\n        }, {});\n}\n"],"names":["arguments","let","const","studyUrl","poolUrl","statisticsUrl","downloadsUrl","activationUrl","collaborationUrl","downloadsAccessUrl","arrayInput","selectInputComponent","radioInputComponent","arrayInputSrc","getStatistics","CSVToArray","statisticsForm","statisticsFormComponent","colWidth","SOURCES","button","radioButton","statisticsTable","statisticsTableComponent","statisticsInstructions","statisticsComponent","downloadFile","focusConfig","PRODUCTION_URL","poolComponent","thConfig","studyFilter","STATUS_RUNNING","url","interceptErrors","createComponent","dayButtonView","remove","create","createMessage","unPropify","reportError","TABLE_WIDTH","play","this","baseUrl","copyFileComponent","downloadUrl","noop","validate","pipValidate","questValidate","managerValidate","validator","questComponent","observerFactory","textMenu","validatorComponent","syntaxComponent","unknowEditor","pathProp","wizardHash","contextMenu","choose","folderComponent","studyTemplatesComponent","studyTagsComponent","daysAgo","equalDates","activeDate","collaboration_url","fileListComponent","config","fullheight","editorComponent","studyPrototype","studyFactory","viewModelMap","study","editorLayoutComponent","leftWidth","deploy_url","deployComponent","ASTERIX","getStartValue","settings","settings_hash","draw_menu","apiURL","set_password","collaborationComponent","copy","select","textareaAutoresize","translateComponent","studiesComponent","settingsComponent","deployListComponent","addUserComponent","studyRemovalComponent","statistics_oldComponent","viewFilesComponent","filesComponent","historyComponent","sharingComponent","layoutWrapper"],"mappings":"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"}